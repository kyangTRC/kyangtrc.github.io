{"version":3,"sources":["trc/reactleaflet/context.js","trc/reactleaflet/MapControl.js","trc/reactleaflet/AttributionControl.js","trc/reactleaflet/MapEvented.js","trc/reactleaflet/MapComponent.js","trc/reactleaflet/MapLayer.js","trc/reactleaflet/Path.js","trc/reactleaflet/utils/pick.js","trc/reactleaflet/utils/updateClassName.js","trc/reactleaflet/Circle.js","trc/reactleaflet/CircleMarker.js","trc/reactleaflet/DivOverlay.js","trc/reactleaflet/GeoJSON.js","trc/reactleaflet/FeatureGroup.js","trc/reactleaflet/GridLayer.js","trc/reactleaflet/LayersControl.js","trc/reactleaflet/ImageOverlay.js","trc/reactleaflet/LayerGroup.js","trc/reactleaflet/utils/omit.js","trc/reactleaflet/Map.js","trc/reactleaflet/Marker.js","trc/reactleaflet/Pane.js","trc/reactleaflet/Popup.js","trc/reactleaflet/Polygon.js","trc/reactleaflet/Polyline.js","trc/reactleaflet/Rectangle.js","trc/reactleaflet/ScaleControl.js","trc/reactleaflet/TileLayer.js","trc/reactleaflet/Tooltip.js","trc/reactleaflet/VideoOverlay.js","trc/reactleaflet/WMSTileLayer.js","trc/reactleaflet/ZoomControl.js","trc/Map.js","trc/Upload.js","trc/RealTimeData.js","trc/RealTime.js","App.js","registerServiceWorker.js","index.js"],"names":["leafletContext","createContext","LeafletConsumer","Consumer","LeafletProvider","Provider","withLeaflet","WrappedComponent","WithLeafletComponent","props","ref","react_default","a","createElement","leaflet","Object","assign","name","displayName","concat","LeafletComponent","forwardRef","hoistNonReactStatics","MapControl","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","leafletElement","createLeafletElement","_props","Error","fromProps","toProps","position","setPosition","addTo","map","prevProps","updateLeafletElement","remove","Component","Control","Attribution","EVENTS_RE","MapEvented","_leafletEvents","extractLeafletEvents","bindLeafletEvents","_prevProps","_this2","el","keys","forEach","ev","off","reduce","res","prop","test","replace","match","p","toLowerCase","next","arguments","length","undefined","prev","on","diff","objectSpread","type","data","fire","MapComponent","pane","MapLayer","_fromProps","_toProps","get","prototype","layerContainer","addLayer","attribution","attributionControl","removeAttribution","addAttribution","removeLayer","children","contextValue","react","value","OPTIONS","Path","popupContainer","setStyleIfChanged","object","obj","key","options","setStyle","nextStyle","getPathOptions","isEqual","splitClassName","center","radius","objectWithoutProperties","LeafletCircle","getOptions","setLatLng","setRadius","LeafletCircleMarker","split","filter","Boolean","addClassName","container","className","cls","DomUtil","addClass","removeClassName","removeClass","updateClassName","prevClassName","nextClassName","DivOverlay","onClose","onOpen","forceUpdate","_container","isOpen","update","onRender","_contentNode","createPortal","LeafletFeatureGroup","FeatureGroup","LeafletGeoJSON","style","GridLayer","LeafletGridLayer","opacity","zIndex","setOpacity","setZIndex","maxZoom","minZoom","ControlledLayer","LeafletImageOverlay","url","bounds","setUrl","setBounds","latLngBounds","LeafletLayerGroup","_Component","apply","inherits","createClass","_ref","checked","layer","removeLayerControl","BaseLayer","_this$props","addBaseLayer","bind","assertThisInitialized","Overlay","_this2$props","addOverlay","LayersControlExport","LayersControl","_this3","controlProps","Layers","collapsed","collapse","expand","_this4","setTimeout","_this5","Children","child","cloneElement","omit","_len","keysToOmit","Array","_key","acc","indexOf","OTHER_PROPS","normalizeCenter","pos","isArray","lat","lon","lng","Map","viewport","zoom","_ready","_updating","onViewportChange","getCenter","getZoom","onViewportChanged","bindContainer","LeafletMap","boundsOptions","boxZoom","doubleClickZoom","dragging","keyboard","maxBounds","scrollWheelZoom","tap","touchZoom","useFlyTo","c","z","flyTo","getZoomPanOptions","setView","shouldUpdateCenter","setZoom","shouldUpdateBounds","setMaxBounds","flyToBounds","getFitBoundsOptions","fitBounds","enable","disable","animate","duration","easeLinearity","noMoveStart","zoomPanOptions","whenReady","preferCanvas","_initEvents","_stop","equals","href","id","LeafletMarker","icon","setIcon","zIndexOffset","setZIndexOffset","draggable","idCounter","LEAFLET_PANES","PANE_RE","paneStyles","top","right","bottom","left","Popup","state","context","getPane","createPane","removePane","isDefault","isLeafletPane","getParentPane","message","warning","setState","_panes","_paneRenderers","LeafletPolygon","positions","setLatLngs","LeafletPolyline","onPopupOpen","popup","onPopupClose","_ref2","autoPan","_map","_panAnim","_adjustPan","LeafletPopup","_this$props$leaflet","popupopen","popupclose","bindPopup","openOn","defaultProps","LeafletRectangle","Scale","LeafletTileLayer","TileLayer","Tooltip","onTooltipOpen","tooltip","onTooltipClose","LeafletTooltip","tooltipopen","tooltipclose","bindTooltip","unbindTooltip","LeafletVideoOverlay","VideoOverlay","play","getElement","pause","params","WMS","WMSTileLayer","prevUrl","prevParams","setParams","superOptions","Zoom","geoJSON","feature","theColor","theFillColor","console","log","properties","MAIL_ZIP","MAIL_CITY","MAIL_STATE","PROP_ADDR","COUNTY_NAME","PARCEL_APN","color","weight","fillOpacity","fillColor","Map_Map","reactleaflet_TileLayer","reactleaflet_GeoJSON","P3_Data","geoJSONStyle","onEachFeature","P3_Data_Route","geoJSONStyleRoute","React","require","Uppy","Tus","GoogleDrive","DragDrop","Dashboard","DashboardModal","ProgressBar","Option","AutoComplete","OptGroup","title","group","label","float","target","rel","opt","disabled","download","content","fileName","blobObject","b64Data","contentType","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","i","charCodeAt","byteArray","Uint8Array","push","Blob","b64toBlob","window","navigator","msSaveOrOpenBlob","downloadLink","document","URL","createObjectURL","body","appendChild","click","removeChild","minRowHeight","currentRowHeight","_data","t_account_user","sLoginRequest","demoCandy","getImageAvailable","RealTimeData","onGridReady","success","gridApi","api","gridColumnApi","columnApi","sizeColumnsToFit","parseDemo","error","isLoaded","rowData","imageAvailablePercentage","backendQueryLinks","showProgress","totalPrice","statusPercentage","processed","getRowHeight","rowGroupPanelShow","defaultExportParams","suppressTextAsCDATA","columnDefs","defaultColDef","sortable","resizable","minWidth","excelStyles","interior","pattern","borders","borderLeft","lineStyle","borderRight","borderBottom","borderTop","Date","getDay","updateProgress","gridHeight","getElementsByClassName","offsetHeight","getRenderedNodes","resetRowHeights","arr","_sign","hasProperty","_arr","_col","imageCount","percentage","imageAvailableCount","priceInfo","location_id","property_id","PROPERTY_DATA_REPORTS_URL","PROPERTY_TRANSACTION_DETAILS_URL","imageInfo","headerName","field","cellRenderer","toFixed","xmlorjson","__arr","removeSign","exportDataAsCsv","skipHeader","columnGroups","exportDataAsExcel","csvContent","encodedUri","encodeURI","open","getDataAsExcel","workbook","XLSX","bookType","print","price_rows","progressBar","progress","percent","successPercent","width","height","onClick","onBtExportNew","onBtPrint","onCsvExport","downloadCSVWithRequest","main","enableRangeSelection","animateRows","groupUseEntireRow","groupDefaultExpanded","autoGroupColumnDef","groupSuppressAutoColumn","onGridSizeChanged","emptyRoute","coordinates","parse","papaparseOptions","header","dynamicTyping","skipEmptyLines","iconStyle","fontSize","RealTime_OptGroup","RealTime_Option","RealTime","showData","datavisible","showHideDrawer","visible","handleSubmit","e","preventDefault","form","validateFields","err","values","handleUpload","file","onSuccess","FormData","append","normFile","fileList","getProjectName","beforeUploadWKTParser","reader","FileReader","DataRoute","onload","routeData","result","readAsText","formData","sendFormData","token_valid","getFieldDecorator","realTimeData","es_form","Item","rules","required","es_select","mode","placeholder","iframe","display","react_csv_reader_default","onFileLoaded","parserOptions","trc_RealTimeData","labelCol","span","wrapperCol","onSubmit","hasFeedback","auto_complete","dropdownClassName","dropdownMatchSelectWidth","dropdownStyle","size","dataSource","optionLabelProp","onChange","input","WrappedRealTime","Form","create","IS_TESTING","TESTING_USERS","username","email","password","POSSIBLE_TEST_COMBO","t","fakeAuthCentralState","isAuthenticated","localStorage","getItem","testUserId","authenticate","callback","signout","TrcBanner","contentEditable","expandMenu","querySelector","classList","toggle","LogOut","isTesting","Header","AuthButton","ProtectedWrappedRealTime","App_Header","Login","handleInputChange","event","setItem","defineProperty","login","TEST_COMBO","tempname","temppass","index","redirectToReferrer","removeItem","_React$createElement","from","location","pathname","history","for","ProtectedRoute","component","rest","react_router","render","to","withRouter","_ref3","App","react_router_dom","path","exact","App_ProtectedRoute","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","src_App_0","getElementById","process","origin","addEventListener","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.efd5370b.chunk.js","sourcesContent":["// @flow\n\nimport hoistNonReactStatics from 'hoist-non-react-statics'\nimport React, {\n  createContext,\n  forwardRef,\n  useContext,\n  type AbstractComponent,\n} from 'react'\n\nimport type { LeafletContext } from './types'\n\nconst leafletContext = createContext<LeafletContext>({})\n\nexport const useLeaflet = (): LeafletContext => useContext(leafletContext)\n\nexport const LeafletConsumer = leafletContext.Consumer\nexport const LeafletProvider = leafletContext.Provider\n\nexport const withLeaflet = <Config: { leaflet: LeafletContext }, Instance>(\n  WrappedComponent: AbstractComponent<Config, Instance>,\n): AbstractComponent<$Diff<Config, { leaflet: LeafletContext }>, Instance> => {\n  const WithLeafletComponent = (props, ref) => (\n    <LeafletConsumer>\n      {(leaflet: LeafletContext) => (\n        <WrappedComponent {...props} leaflet={leaflet} ref={ref} />\n      )}\n    </LeafletConsumer>\n  )\n\n  const name = // flowlint-next-line sketchy-null-string:off\n    WrappedComponent.displayName || WrappedComponent.name || 'Component'\n  WithLeafletComponent.displayName = `Leaflet(${name})`\n\n  const LeafletComponent = forwardRef(WithLeafletComponent)\n  hoistNonReactStatics(LeafletComponent, WrappedComponent)\n\n  return LeafletComponent\n}\n","// @flow\n\nimport { Control } from 'leaflet'\nimport { Component } from 'react'\n\nimport type { MapControlProps } from './types'\n\nexport default class MapControl<\n  LeafletElement: Control,\n  Props: MapControlProps,\n> extends Component<Props> {\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(this.props)\n  }\n\n  createLeafletElement(_props: Props): LeafletElement {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props): void {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setPosition(toProps.position)\n    }\n  }\n\n  componentDidMount() {\n    this.leafletElement.addTo(this.props.leaflet.map)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    this.leafletElement.remove()\n  }\n\n  render(): * {\n    return null\n  }\n}\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Attribution\ntype Props = {\n  prefix?: string,\n} & MapControlProps\n\nclass AttributionControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Attribution(props)\n  }\n}\n\nexport default withLeaflet<Props, AttributionControl>(AttributionControl)\n","// @flow\n\nimport type { Evented } from 'leaflet'\nimport { Component } from 'react'\n\nexport const EVENTS_RE = /^on(.+)$/i\n\ntype EventHandler = (event: Event) => void\ntype EventsObject = { [key: string]: EventHandler }\n\nexport default class MapEvented<\n  LeafletElement: Evented,\n  Props: Object,\n> extends Component<Props> {\n  _leafletEvents: EventsObject\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this._leafletEvents = this.extractLeafletEvents(props)\n  }\n\n  componentDidMount() {\n    this.bindLeafletEvents(this._leafletEvents)\n  }\n\n  componentDidUpdate(_prevProps: Props) {\n    this._leafletEvents = this.bindLeafletEvents(\n      this.extractLeafletEvents(this.props),\n      this._leafletEvents,\n    )\n  }\n\n  componentWillUnmount() {\n    const el = this.leafletElement\n    if (!el) return\n\n    Object.keys(this._leafletEvents).forEach(ev => {\n      el.off(ev, this._leafletEvents[ev])\n    })\n  }\n\n  extractLeafletEvents(props: Props): EventsObject {\n    return Object.keys(props).reduce((res, prop) => {\n      if (EVENTS_RE.test(prop)) {\n        if (props[prop] != null) {\n          const key = prop.replace(EVENTS_RE, (match, p) => p.toLowerCase())\n          res[key] = props[prop]\n        }\n      }\n      return res\n    }, {})\n  }\n\n  bindLeafletEvents(\n    next: EventsObject = {},\n    prev: EventsObject = {},\n  ): EventsObject {\n    const el = this.leafletElement\n    if (el == null || el.on == null) return {}\n\n    const diff = { ...prev }\n    Object.keys(prev).forEach(ev => {\n      if (next[ev] == null || prev[ev] !== next[ev]) {\n        delete diff[ev]\n        el.off(ev, prev[ev])\n      }\n    })\n\n    Object.keys(next).forEach(ev => {\n      if (prev[ev] == null || next[ev] !== prev[ev]) {\n        diff[ev] = next[ev]\n        el.on(ev, next[ev])\n      }\n    })\n\n    return diff\n  }\n\n  fireLeafletEvent(type: string, data: ?any) {\n    const el = this.leafletElement\n    if (el) el.fire(type, data)\n  }\n}\n","// @flow\n\nimport MapEvented from './MapEvented'\nimport type { MapComponentProps } from './types'\n\nexport default class MapComponent<\n  LeafletElement,\n  Props: MapComponentProps,\n> extends MapEvented<LeafletElement, Props> {\n  getOptions(props: Props): Props {\n    if (props.pane != null) {\n      return props\n    }\n    if (props.leaflet != null && props.leaflet.pane != null) {\n      return { ...props, pane: props.leaflet.pane }\n    }\n    return props\n  }\n}\n","// @flow\n\nimport type { Layer } from 'leaflet'\nimport React, { Fragment } from 'react'\n\nimport { LeafletProvider } from './context'\nimport MapComponent from './MapComponent'\nimport type { LeafletContext, MapLayerProps } from './types'\n\nexport default class MapLayer<\n  LeafletElement: Layer,\n  Props: MapLayerProps,\n> extends MapComponent<LeafletElement, Props> {\n  contextValue: ?LeafletContext\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(props)\n  }\n\n  get layerContainer(): Layer {\n    return this.props.leaflet.layerContainer || this.props.leaflet.map\n  }\n\n  createLeafletElement(_props: Props): LeafletElement {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(_fromProps: Props, _toProps: Props) {}\n\n  componentDidMount() {\n    super.componentDidMount()\n    this.layerContainer.addLayer(this.leafletElement)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    super.componentDidUpdate(prevProps)\n\n    if (this.props.attribution !== prevProps.attribution) {\n      const { map } = this.props.leaflet\n      if (map != null && map.attributionControl != null) {\n        map.attributionControl.removeAttribution(prevProps.attribution)\n        map.attributionControl.addAttribution(this.props.attribution)\n      }\n    }\n\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount()\n    this.layerContainer.removeLayer(this.leafletElement)\n  }\n\n  render() {\n    const { children } = this.props\n    if (children == null) {\n      return null\n    }\n    return this.contextValue == null ? (\n      <Fragment>{children}</Fragment>\n    ) : (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    )\n  }\n}\n","// @flow\n\nimport type { Path as PathType } from 'leaflet'\nimport isEqual from 'fast-deep-equal'\n\nimport MapLayer from './MapLayer'\nimport type { PathOptions, PathProps } from './types'\nimport pick from './utils/pick'\n\nconst OPTIONS = [\n  'stroke',\n  'color',\n  'weight',\n  'opacity',\n  'lineCap',\n  'lineJoin',\n  'dashArray',\n  'dashOffset',\n  'fill',\n  'fillColor',\n  'fillOpacity',\n  'fillRule',\n  'bubblingMouseEvents',\n  'renderer',\n  'className',\n  // Interactive Layer\n  'interactive',\n  // Layer\n  'pane',\n  'attribution',\n]\n\nexport default class Path<\n  LeafletElement: PathType,\n  Props: PathProps,\n> extends MapLayer<LeafletElement, Props> {\n  constructor(props: Props) {\n    super(props)\n    if (this.contextValue == null) {\n      this.contextValue = {\n        ...props.leaflet,\n        popupContainer: this.leafletElement,\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    super.componentDidUpdate(prevProps)\n    this.setStyleIfChanged(prevProps, this.props)\n  }\n\n  getPathOptions(props: Props): PathOptions {\n    return pick(props, OPTIONS)\n  }\n\n  setStyle(options: PathOptions = {}) {\n    this.leafletElement.setStyle(options)\n  }\n\n  setStyleIfChanged(fromProps: Props, toProps: Props) {\n    const nextStyle = this.getPathOptions(toProps)\n    if (!isEqual(nextStyle, this.getPathOptions(fromProps))) {\n      this.setStyle(nextStyle)\n    }\n  }\n}\n","// @flow\n\nexport default function pick(object: Object, keys: Array<string>): Object {\n  return keys.reduce((obj, key) => {\n    if (object[key]) {\n      obj[key] = object[key]\n    }\n    return obj\n  }, {})\n}\n","// @flow\n\nimport { DomUtil } from 'leaflet'\n\nconst splitClassName = (className: string = ''): Array<string> => {\n  return className.split(' ').filter(Boolean)\n}\n\nexport const addClassName = (container: HTMLElement, className: string) => {\n  splitClassName(className).forEach(cls => {\n    DomUtil.addClass(container, cls)\n  })\n}\n\nexport const removeClassName = (container: HTMLElement, className: string) => {\n  splitClassName(className).forEach(cls => {\n    DomUtil.removeClass(container, cls)\n  })\n}\n\nexport default (\n  container: ?HTMLElement,\n  prevClassName: ?string,\n  nextClassName: ?string,\n) => {\n  if (container != null && nextClassName !== prevClassName) {\n    if (prevClassName != null && prevClassName.length > 0) {\n      removeClassName(container, prevClassName)\n    }\n    if (nextClassName != null && nextClassName.length > 0) {\n      addClassName(container, nextClassName)\n    }\n  }\n}\n","// @flow\n\nimport { Circle as LeafletCircle } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, MapLayerProps, PathOptions } from './types'\n\ntype LeafletElement = LeafletCircle\ntype Props = {\n  center: LatLng,\n  radius: number,\n} & MapLayerProps &\n  PathOptions &\n  Object\n\nclass Circle extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const { center, radius, ...options } = props\n    return new LeafletCircle(center, radius, this.getOptions(options))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.center !== fromProps.center) {\n      this.leafletElement.setLatLng(toProps.center)\n    }\n    if (toProps.radius !== fromProps.radius) {\n      this.leafletElement.setRadius(toProps.radius)\n    }\n  }\n}\n\nexport default withLeaflet<Props, Circle>(Circle)\n","// @flow\n\nimport { CircleMarker as LeafletCircleMarker } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletCircleMarker\ntype Props = {\n  center: LatLng,\n  radius: number,\n} & PathProps\n\nclass CircleMarker extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletCircleMarker(props.center, this.getOptions(props))\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.center !== fromProps.center) {\n      this.leafletElement.setLatLng(toProps.center)\n    }\n    if (toProps.radius !== fromProps.radius) {\n      this.leafletElement.setRadius(toProps.radius)\n    }\n  }\n}\n\nexport default withLeaflet<Props, CircleMarker>(CircleMarker)\n","// @flow\n\nimport { createPortal } from 'react-dom'\n\nimport MapComponent from './MapComponent'\nimport updateClassName from './utils/updateClassName'\nimport type { DivOverlayProps } from './types'\n\ntype DivOverlayTypes = {\n  _container: HTMLDivElement,\n  _contentNode: HTMLDivElement,\n  isOpen: () => boolean,\n  update: () => void,\n}\n\nexport default class DivOverlay<\n  LeafletElement,\n  Props: DivOverlayProps,\n> extends MapComponent<LeafletElement & DivOverlayTypes, Props> {\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(props)\n  }\n\n  createLeafletElement(_props: Props) {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(_prevProps: Props, _props: Props) {}\n\n  componentDidUpdate(prevProps: Props) {\n    updateClassName(\n      this.leafletElement._container,\n      prevProps.className,\n      this.props.className,\n    )\n\n    this.updateLeafletElement(prevProps, this.props)\n\n    if (this.leafletElement.isOpen()) {\n      this.leafletElement.update()\n      this.onRender()\n    }\n  }\n\n  onClose = () => {\n    if (this.props.onClose) {\n      this.props.onClose()\n    }\n  }\n\n  onOpen = () => {\n    this.forceUpdate() // Re-render now that leafletElement is created\n    if (this.props.onOpen) {\n      this.props.onOpen()\n    }\n  }\n\n  onRender() {}\n\n  render() {\n    if (this.leafletElement._contentNode) {\n      return createPortal(this.props.children, this.leafletElement._contentNode)\n    }\n    return null\n  }\n}\n","// @flow\n\nimport { GeoJSON as LeafletGeoJSON, type LatLng, type Layer } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { PathProps } from './types'\n\ntype LeafletElement = LeafletGeoJSON\n\ntype GeoJSONdata = Object | Array<any>\n\ntype Props = {\n  data: GeoJSONdata,\n  pointToLayer?: (point: GeoJSONdata, latlng: LatLng) => Layer,\n  style?: (feature: GeoJSONdata) => Object,\n  onEachFeature?: (feature: GeoJSONdata, layer: Layer) => void,\n  filter?: (feature: GeoJSONdata) => boolean,\n  coordsToLatLng?: (coords: GeoJSONdata) => LatLng,\n} & PathProps\n\nclass GeoJSON extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletGeoJSON(props.data, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (typeof toProps.style === 'function') {\n      this.leafletElement.setStyle(toProps.style)\n    } else {\n      this.setStyleIfChanged(fromProps, toProps)\n    }\n  }\n}\n\nexport default withLeaflet<Props, GeoJSON>(GeoJSON)\n","// @flow\n\nimport { FeatureGroup as LeafletFeatureGroup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { PathProps } from './types'\n\ntype LeafletElement = LeafletFeatureGroup\ntype Props = PathProps\n\nclass FeatureGroup extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletFeatureGroup(this.getOptions(props))\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: el,\n      popupContainer: el,\n    }\n    return el\n  }\n\n  componentDidMount() {\n    super.componentDidMount()\n    this.setStyle(this.props)\n  }\n}\n\nexport default withLeaflet<Props, FeatureGroup>(FeatureGroup)\n","// @flow\n\nimport { GridLayer as LeafletGridLayer } from 'leaflet'\n\nimport MapLayer from './MapLayer'\nimport type { GridLayerProps } from './types'\n\nexport default class GridLayer<\n  LeafletElement: LeafletGridLayer,\n  Props: GridLayerProps,\n> extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletGridLayer(this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    const { opacity, zIndex } = toProps\n    if (opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(opacity)\n    }\n    if (zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(zIndex)\n    }\n  }\n\n  getOptions(props: Props): Props {\n    const options = super.getOptions(props)\n    return props.leaflet.map == null\n      ? options\n      : // $FlowFixMe: object spread type\n        {\n          maxZoom: props.leaflet.map.options.maxZoom,\n          minZoom: props.leaflet.map.options.minZoom,\n          ...options,\n        }\n  }\n\n  render() {\n    return null\n  }\n}\n","// @flow\n\nimport { Control, type Layer } from 'leaflet'\nimport React, {\n  cloneElement,\n  Component,\n  Children,\n  Fragment,\n  type ChildrenArray,\n  type Element,\n} from 'react'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type {\n  AddLayerHandler,\n  RemoveLayerHandler,\n  LeafletContext,\n  MapControlProps,\n} from './types'\n\ntype ControlledLayerProps = {\n  addBaseLayer: AddLayerHandler,\n  addOverlay: AddLayerHandler,\n  checked?: boolean,\n  children: Element<*>,\n  leaflet: LeafletContext,\n  name: string,\n  removeLayer: RemoveLayerHandler,\n  removeLayerControl: RemoveLayerHandler,\n}\n\n// Abtract class for layer container, extended by BaseLayer and Overlay\nexport class ControlledLayer extends Component<ControlledLayerProps> {\n  contextValue: LeafletContext\n  layer: ?Layer\n\n  componentDidUpdate({ checked }: ControlledLayerProps) {\n    if (this.props.leaflet.map == null) {\n      return\n    }\n    // Handle dynamically (un)checking the layer => adding/removing from the map\n    if (this.props.checked === true && (checked == null || checked === false)) {\n      this.props.leaflet.map.addLayer(this.layer)\n    } else if (\n      checked === true &&\n      (this.props.checked == null || this.props.checked === false)\n    ) {\n      this.props.leaflet.map.removeLayer(this.layer)\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeLayerControl(this.layer)\n  }\n\n  addLayer() {\n    throw new Error('Must be implemented in extending class')\n  }\n\n  removeLayer(layer: Layer) {\n    this.props.removeLayer(layer)\n  }\n\n  render() {\n    const { children } = this.props\n    return children ? (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    ) : null\n  }\n}\n\nclass BaseLayer extends ControlledLayer {\n  constructor(props: ControlledLayerProps) {\n    super(props)\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this),\n      },\n    }\n  }\n\n  addLayer = (layer: Layer) => {\n    this.layer = layer // Keep layer reference to handle dynamic changes of props\n    const { addBaseLayer, checked, name } = this.props\n    addBaseLayer(layer, name, checked)\n  }\n}\n\nclass Overlay extends ControlledLayer {\n  constructor(props: ControlledLayerProps) {\n    super(props)\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this),\n      },\n    }\n  }\n\n  addLayer = (layer: Layer) => {\n    this.layer = layer // Keep layer reference to handle dynamic changes of props\n    const { addOverlay, checked, name } = this.props\n    addOverlay(layer, name, checked)\n  }\n}\n\ntype LeafletElement = Control.Layers\ntype LayersControlProps = {\n  children: ChildrenArray<*>,\n  collapsed?: boolean,\n} & MapControlProps\n\nclass LayersControl extends MapControl<LeafletElement, LayersControlProps> {\n  controlProps: {\n    addBaseLayer: AddLayerHandler,\n    addOverlay: AddLayerHandler,\n    removeLayer: RemoveLayerHandler,\n    removeLayerControl: RemoveLayerHandler,\n  }\n\n  constructor(props: LayersControlProps) {\n    super(props)\n    this.controlProps = {\n      addBaseLayer: this.addBaseLayer.bind(this),\n      addOverlay: this.addOverlay.bind(this),\n      leaflet: props.leaflet,\n      removeLayer: this.removeLayer.bind(this),\n      removeLayerControl: this.removeLayerControl.bind(this),\n    }\n  }\n\n  createLeafletElement(props: LayersControlProps): LeafletElement {\n    const { children: _children, ...options } = props\n    return new Control.Layers(undefined, undefined, options)\n  }\n\n  updateLeafletElement(\n    fromProps: LayersControlProps,\n    toProps: LayersControlProps,\n  ) {\n    super.updateLeafletElement(fromProps, toProps)\n    if (toProps.collapsed !== fromProps.collapsed) {\n      if (toProps.collapsed === true) {\n        this.leafletElement.collapse()\n      } else {\n        this.leafletElement.expand()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    setTimeout(() => {\n      super.componentWillUnmount()\n    }, 0)\n  }\n\n  addBaseLayer(layer: Layer, name: string, checked: boolean = false) {\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer)\n    }\n    this.leafletElement.addBaseLayer(layer, name)\n  }\n\n  addOverlay(layer: Layer, name: string, checked: boolean = false) {\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer)\n    }\n    this.leafletElement.addOverlay(layer, name)\n  }\n\n  removeLayer(layer: Layer) {\n    if (this.props.leaflet.map != null) {\n      this.props.leaflet.map.removeLayer(layer)\n    }\n  }\n\n  removeLayerControl(layer: Layer) {\n    this.leafletElement.removeLayer(layer)\n  }\n\n  render() {\n    const children = Children.map(this.props.children, child => {\n      return child ? cloneElement(child, this.controlProps) : null\n    })\n    return <Fragment>{children}</Fragment>\n  }\n}\n\nconst LayersControlExport: Object = withLeaflet(LayersControl)\n\nLayersControlExport.BaseLayer = BaseLayer\nLayersControlExport.Overlay = Overlay\n\nexport default LayersControlExport\n","// @flow\n\nimport { ImageOverlay as LeafletImageOverlay, latLngBounds } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLngBounds, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletImageOverlay\ntype Props = {\n  attribution?: string,\n  bounds?: LatLngBounds,\n  opacity?: number,\n  url: string | HTMLImageElement,\n  zIndex?: number,\n} & MapLayerProps\n\nclass ImageOverlay extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletImageOverlay(\n      props.url,\n      props.bounds,\n      this.getOptions(props),\n    )\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(latLngBounds(toProps.bounds))\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex)\n    }\n  }\n}\n\nexport default withLeaflet<Props, ImageOverlay>(ImageOverlay)\n","// @flow\n\nimport { LayerGroup as LeafletLayerGroup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { MapLayerProps } from './types'\n\ntype LeafletElement = LeafletLayerGroup\ntype Props = MapLayerProps\n\nclass LayerGroup extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletLayerGroup([], this.getOptions(props))\n    this.contextValue = { ...props.leaflet, layerContainer: el }\n    return el\n  }\n}\n\nexport default withLeaflet<Props, LayerGroup>(LayerGroup)\n","// @flow\n\nexport default function omit(\n  obj: Object,\n  ...keysToOmit: Array<string>\n): Object {\n  return Object.keys(obj).reduce((acc, key) => {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key]\n    }\n    return acc\n  }, {})\n}\n","// @flow\n\nimport {\n  latLngBounds,\n  Map as LeafletMap,\n  type CRS,\n  type Renderer,\n} from 'leaflet'\nimport React, { type Node } from 'react'\n\nimport { LeafletProvider } from './context'\nimport MapEvented from './MapEvented'\nimport updateClassName from './utils/updateClassName'\nimport omit from './utils/omit'\nimport type {\n  LatLng,\n  LatLngBounds,\n  LeafletContext,\n  Point,\n  Viewport,\n} from './types'\n\nconst OTHER_PROPS = [\n  'children',\n  'className',\n  'id',\n  'style',\n  'useFlyTo',\n  'whenReady',\n]\n\nconst normalizeCenter = (pos: LatLng): [number, number] => {\n  return Array.isArray(pos)\n    ? [pos[0], pos[1]]\n    : [pos.lat, pos.lon ? pos.lon : pos.lng]\n}\n\ntype LeafletElement = LeafletMap\n\ntype ZoomOption = boolean | 'center'\ntype Props = {\n  [key: string]: any,\n  // Leaflet options\n  preferCanvas?: boolean,\n  attributionControl?: boolean,\n  zoomControl?: boolean,\n  closePopupOnClick?: boolean,\n  zoomSnap?: number,\n  zoomDelta?: number,\n  trackResize?: boolean,\n  boxZoom?: boolean,\n  doubleClickZoom?: ZoomOption,\n  dragging?: boolean,\n  crs?: CRS,\n  center?: LatLng,\n  zoom?: number,\n  minZoom?: number,\n  maxZoom?: number,\n  maxBounds?: LatLngBounds,\n  renderer?: Renderer,\n  zoomAnimation?: boolean,\n  zoomAnimationThreshold?: number,\n  fadeAnimation?: boolean,\n  markerZoomAnimation?: boolean,\n  transform3DLimit?: number,\n  inertia?: boolean,\n  inertiaDeceleration?: number,\n  inertiaMaxSpeed?: number,\n  easeLinearity?: number,\n  worldCopyJump?: boolean,\n  maxBoundsViscosity?: number,\n  keyboard?: boolean,\n  keyboardPanDelta?: number,\n  scrollWheelZoom?: ZoomOption,\n  wheelDebounceTime?: number,\n  wheelPxPerZoomLevel?: number,\n  tap?: boolean,\n  tapTolerance?: number,\n  touchZoom?: ZoomOption,\n  bounceAtZoomLimits?: boolean,\n  // Additional options\n  animate?: boolean,\n  duration?: number,\n  noMoveStart?: boolean,\n  bounds?: LatLngBounds,\n  boundsOptions?: {|\n    paddingTopLeft?: Point,\n    paddingBottomRight?: Point,\n    padding?: Point,\n    maxZoom?: number,\n  |},\n  children: Node,\n  className?: string,\n  id?: string,\n  style?: Object,\n  useFlyTo?: boolean,\n  viewport?: Viewport,\n  whenReady?: () => void,\n}\n\nexport default class Map extends MapEvented<LeafletElement, Props> {\n  className: ?string\n  contextValue: ?LeafletContext\n  container: ?HTMLDivElement\n  viewport: Viewport = {\n    center: undefined,\n    zoom: undefined,\n  }\n\n  _ready: boolean = false\n  _updating: boolean = false\n\n  constructor(props: Props) {\n    super(props)\n    this.className = props.className\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    const { viewport, ...options } = props\n    if (viewport) {\n      if (viewport.center) {\n        options.center = viewport.center\n      }\n      if (typeof viewport.zoom === 'number') {\n        options.zoom = viewport.zoom\n      }\n    }\n    return new LeafletMap(this.container, options)\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    this._updating = true\n\n    const {\n      bounds,\n      boundsOptions,\n      boxZoom,\n      center,\n      className,\n      doubleClickZoom,\n      dragging,\n      keyboard,\n      maxBounds,\n      scrollWheelZoom,\n      tap,\n      touchZoom,\n      useFlyTo,\n      viewport,\n      zoom,\n    } = toProps\n\n    updateClassName(this.container, fromProps.className, className)\n\n    if (viewport && viewport !== fromProps.viewport) {\n      const c = viewport.center ? viewport.center : center\n      const z = viewport.zoom == null ? zoom : viewport.zoom\n      if (useFlyTo === true) {\n        this.leafletElement.flyTo(c, z, this.getZoomPanOptions(toProps))\n      } else {\n        this.leafletElement.setView(c, z, this.getZoomPanOptions(toProps))\n      }\n    } else if (center && this.shouldUpdateCenter(center, fromProps.center)) {\n      if (useFlyTo === true) {\n        this.leafletElement.flyTo(center, zoom, this.getZoomPanOptions(toProps))\n      } else {\n        this.leafletElement.setView(\n          center,\n          zoom,\n          this.getZoomPanOptions(toProps),\n        )\n      }\n    } else if (typeof zoom === 'number' && zoom !== fromProps.zoom) {\n      if (fromProps.zoom == null) {\n        this.leafletElement.setView(\n          center,\n          zoom,\n          this.getZoomPanOptions(toProps),\n        )\n      } else {\n        this.leafletElement.setZoom(zoom, this.getZoomPanOptions(toProps))\n      }\n    }\n\n    if (maxBounds && this.shouldUpdateBounds(maxBounds, fromProps.maxBounds)) {\n      this.leafletElement.setMaxBounds(maxBounds)\n    }\n\n    if (\n      bounds &&\n      (this.shouldUpdateBounds(bounds, fromProps.bounds) ||\n        boundsOptions !== fromProps.boundsOptions)\n    ) {\n      if (useFlyTo === true) {\n        this.leafletElement.flyToBounds(\n          bounds,\n          this.getFitBoundsOptions(toProps),\n        )\n      } else {\n        this.leafletElement.fitBounds(bounds, this.getFitBoundsOptions(toProps))\n      }\n    }\n\n    if (boxZoom !== fromProps.boxZoom) {\n      if (boxZoom === true) {\n        this.leafletElement.boxZoom.enable()\n      } else {\n        this.leafletElement.boxZoom.disable()\n      }\n    }\n\n    if (doubleClickZoom !== fromProps.doubleClickZoom) {\n      if (doubleClickZoom === true) {\n        this.leafletElement.doubleClickZoom.enable()\n      } else {\n        this.leafletElement.doubleClickZoom.disable()\n      }\n    }\n\n    if (dragging !== fromProps.dragging) {\n      if (dragging === true) {\n        this.leafletElement.dragging.enable()\n      } else {\n        this.leafletElement.dragging.disable()\n      }\n    }\n\n    if (keyboard !== fromProps.keyboard) {\n      if (keyboard === true) {\n        this.leafletElement.keyboard.enable()\n      } else {\n        this.leafletElement.keyboard.disable()\n      }\n    }\n\n    if (scrollWheelZoom !== fromProps.scrollWheelZoom) {\n      if (scrollWheelZoom === true || typeof scrollWheelZoom === 'string') {\n        this.leafletElement.options.scrollWheelZoom = scrollWheelZoom\n        this.leafletElement.scrollWheelZoom.enable()\n      } else {\n        this.leafletElement.scrollWheelZoom.disable()\n      }\n    }\n\n    if (tap !== fromProps.tap) {\n      if (tap === true) {\n        this.leafletElement.tap.enable()\n      } else {\n        this.leafletElement.tap.disable()\n      }\n    }\n\n    if (touchZoom !== fromProps.touchZoom) {\n      if (touchZoom === true || typeof touchZoom === 'string') {\n        this.leafletElement.options.touchZoom = touchZoom\n        this.leafletElement.touchZoom.enable()\n      } else {\n        this.leafletElement.touchZoom.disable()\n      }\n    }\n\n    this._updating = false\n  }\n\n  getZoomPanOptions(props: Props) {\n    const { animate, duration, easeLinearity, noMoveStart } = props\n    return {\n      animate,\n      duration,\n      easeLinearity,\n      noMoveStart,\n    }\n  }\n\n  getFitBoundsOptions(props: Props) {\n    const zoomPanOptions = this.getZoomPanOptions(props)\n    return {\n      ...zoomPanOptions,\n      ...props.boundsOptions,\n    }\n  }\n\n  onViewportChange = () => {\n    const center = this.leafletElement.getCenter()\n    this.viewport = {\n      center: center ? [center.lat, center.lng] : undefined,\n      zoom: this.leafletElement.getZoom(),\n    }\n    if (this.props.onViewportChange && !this._updating) {\n      this.props.onViewportChange(this.viewport)\n    }\n  }\n\n  onViewportChanged = () => {\n    if (this.props.onViewportChanged && !this._updating) {\n      this.props.onViewportChanged(this.viewport)\n    }\n  }\n\n  componentDidMount() {\n    const props = omit(this.props, ...OTHER_PROPS)\n    this.leafletElement = this.createLeafletElement(props)\n\n    this.leafletElement.on('move', this.onViewportChange)\n    this.leafletElement.on('moveend', this.onViewportChanged)\n\n    if (props.bounds != null) {\n      this.leafletElement.fitBounds(\n        props.bounds,\n        this.getFitBoundsOptions(props),\n      )\n    }\n\n    this.contextValue = {\n      layerContainer: this.leafletElement,\n      map: this.leafletElement,\n    }\n\n    super.componentDidMount()\n    this.forceUpdate() // Re-render now that leafletElement is created\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this._ready === false) {\n      this._ready = true\n      if (this.props.whenReady) {\n        this.leafletElement.whenReady(this.props.whenReady)\n      }\n    }\n\n    super.componentDidUpdate(prevProps)\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount()\n\n    this.leafletElement.off('move', this.onViewportChange)\n    this.leafletElement.off('moveend', this.onViewportChanged)\n\n    // The canvas renderer uses requestAnimationFrame, making a deferred call to a deleted object\n    // When preferCanvas is set, use simpler teardown logic\n    if (this.props.preferCanvas === true) {\n      this.leafletElement._initEvents(true)\n      this.leafletElement._stop()\n    } else {\n      this.leafletElement.remove()\n    }\n  }\n\n  bindContainer = (container: ?HTMLDivElement): void => {\n    this.container = container\n  }\n\n  shouldUpdateCenter(next: LatLng, prev: LatLng) {\n    if (!prev) return true\n    next = normalizeCenter(next)\n    prev = normalizeCenter(prev)\n    return next[0] !== prev[0] || next[1] !== prev[1]\n  }\n\n  shouldUpdateBounds(next: LatLngBounds, prev: LatLngBounds) {\n    return prev ? !latLngBounds(next).equals(latLngBounds(prev)) : true\n  }\n\n  render() {\n    return (\n      <div>\n      <a href=\"/protecteddata-long-wkt\">Link to data</a>\n      <div\n        className={this.className}\n        id={this.props.id}\n        ref={this.bindContainer}\n        style={this.props.style}>\n\n        {this.contextValue ? (\n          <LeafletProvider value={this.contextValue}>\n            {this.props.children}\n          </LeafletProvider>\n        ) : null}\n      </div>\n      </div>\n    )\n  }\n}\n","// @flow\n\nimport { type Icon, Marker as LeafletMarker } from 'leaflet'\nimport React from 'react'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLng, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletMarker\ntype Props = {\n  icon?: Icon,\n  draggable?: boolean,\n  opacity?: number,\n  position: LatLng,\n  zIndexOffset?: number,\n} & MapLayerProps\n\nclass Marker extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletMarker(props.position, this.getOptions(props))\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position)\n    }\n    if (toProps.icon !== fromProps.icon) {\n      this.leafletElement.setIcon(toProps.icon)\n    }\n    if (toProps.zIndexOffset !== fromProps.zIndexOffset) {\n      this.leafletElement.setZIndexOffset(toProps.zIndexOffset)\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.draggable !== fromProps.draggable) {\n      if (toProps.draggable === true) {\n        this.leafletElement.dragging.enable()\n      } else {\n        this.leafletElement.dragging.disable()\n      }\n    }\n  }\n\n  render() {\n    const { children } = this.props\n    return children == null || this.contextValue == null ? null : (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    )\n  }\n}\n\nexport default withLeaflet<Props, Marker>(Marker)\n","// @flow\n// flowlint sketchy-null-string:off\n\nimport React, { Component, type Node } from 'react'\nimport warning from 'warning'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport type { LeafletContext } from './types'\nimport { addClassName, removeClassName } from './utils/updateClassName'\nimport omit from './utils/omit'\n\nlet idCounter = 0\nconst uniqueId = () => ++idCounter\n\nconst LEAFLET_PANES = [\n  'tile',\n  'shadow',\n  'overlay',\n  'map',\n  'marker',\n  'tooltip',\n  'popup',\n]\n\nconst PANE_RE = /-*pane/gi\n\nconst isLeafletPane = (name: string): boolean => {\n  return LEAFLET_PANES.indexOf(name.replace(PANE_RE, '')) !== -1\n}\n\nconst paneStyles = {\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n}\n\ntype Props = {\n  children: Node,\n  className?: string,\n  leaflet: LeafletContext,\n  name?: string,\n  pane?: string,\n  style?: Object,\n}\n\ntype State = {\n  name: ?string,\n  context: ?LeafletContext,\n}\n\nclass Pane extends Component<Props, State> {\n  state = {\n    name: undefined,\n    context: undefined,\n  }\n\n  componentDidMount() {\n    this.createPane(this.props)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!this.state.name) {\n      // Do nothing if this.state.name is undefined due to errors or\n      // an invalid props.name value\n      return\n    }\n\n    // If the 'name' prop has changed the current pane is unmounted and a new\n    // pane is created.\n    if (this.props.name !== prevProps.name) {\n      this.removePane()\n      this.createPane(this.props)\n    } else {\n      // Remove the previous css class name from the pane if it has changed.\n      // setStyle() will take care of adding in the updated className\n      if (prevProps.className && this.props.className !== prevProps.className) {\n        const pane = this.getPane(this.state.name)\n        if (pane != null && prevProps.className != null) {\n          removeClassName(pane, prevProps.className)\n        }\n      }\n\n      // Update the pane's DOM node style and class\n      this.setStyle(this.props)\n    }\n  }\n\n  componentWillUnmount() {\n    this.removePane()\n  }\n\n  createPane(props: Props) {\n    const { map } = props.leaflet\n    const name = props.name || `pane-${uniqueId()}`\n\n    if (map != null && map.createPane != null) {\n      const isDefault = isLeafletPane(name)\n      const existing = isDefault || this.getPane(name)\n\n      if (existing == null) {\n        map.createPane(name, this.getParentPane())\n      } else {\n        const message = isDefault\n          ? `You must use a unique name for a pane that is not a default leaflet pane (${name})`\n          : `A pane with this name already exists. (${name})`\n        warning(false, message)\n      }\n\n      this.setState(\n        { name, context: { ...props.leaflet, pane: name } },\n        this.setStyle,\n      )\n    }\n  }\n\n  removePane() {\n    // Remove the created pane\n    const { name } = this.state\n    if (name != null) {\n      const pane = this.getPane(name)\n      if (pane != null && pane.remove) pane.remove()\n\n      const { map } = this.props.leaflet\n      if (map != null && map._panes != null) {\n        map._panes = omit(map._panes, name)\n        map._paneRenderers = omit(map._paneRenderers, name)\n      }\n    }\n  }\n\n  setStyle = ({ style, className }: Props = this.props) => {\n    const pane = this.getPane(this.state.name)\n    if (pane) {\n      if (className) {\n        addClassName(pane, className)\n      }\n      if (style) {\n        // Without the cast, Flow throws this error:\n        //   Cannot assign style[key] to pane.style[key] because string\n        //   is incompatible with number.\n        Object.keys(style).forEach((key: any) => {\n          pane.style[key] = style[key]\n        })\n      }\n    }\n  }\n\n  getParentPane(): ?HTMLElement {\n    return this.getPane(this.props.pane || this.props.leaflet.pane)\n  }\n\n  getPane(name: ?string): ?HTMLElement {\n    if (name != null && this.props.leaflet.map != null) {\n      return this.props.leaflet.map.getPane(name)\n    }\n  }\n\n  render() {\n    const { context } = this.state\n    return context ? (\n      <LeafletProvider value={context}>\n        <div style={paneStyles}>{this.props.children}</div>\n      </LeafletProvider>\n    ) : null\n  }\n}\n\nexport default withLeaflet<Props, Pane>(Pane)\n","// @flow\n\nimport { Popup as LeafletPopup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport DivOverlay from './DivOverlay'\nimport type { LatLng, DivOverlayProps } from './types'\n\ntype LeafletElement = LeafletPopup\ntype Props = {\n  autoPan?: boolean,\n  position?: LatLng,\n} & DivOverlayProps\n\nclass Popup extends DivOverlay<LeafletElement, Props> {\n  static defaultProps = {\n    pane: 'popupPane',\n  }\n\n  getOptions(props: Props): Props {\n    return {\n      ...super.getOptions(props),\n      autoPan: false,\n    }\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    const options = this.getOptions(props)\n    options.autoPan = props.autoPan !== false\n    return new LeafletPopup(options, props.leaflet.popupContainer)\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position)\n    }\n  }\n\n  componentDidMount() {\n    const { position } = this.props\n    const { map, popupContainer } = this.props.leaflet\n    const el = this.leafletElement\n\n    if (map != null) {\n      map.on({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose,\n      })\n    }\n\n    if (popupContainer) {\n      // Attach to container component\n      popupContainer.bindPopup(el)\n    } else {\n      // Attach to a Map\n      if (position) {\n        el.setLatLng(position)\n      }\n      el.openOn(map)\n    }\n  }\n\n  componentWillUnmount() {\n    const { map } = this.props.leaflet\n\n    if (map != null) {\n      map.off({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose,\n      })\n      map.removeLayer(this.leafletElement)\n    }\n\n    super.componentWillUnmount()\n  }\n\n  onPopupOpen = ({ popup }: { popup: LeafletElement }) => {\n    if (popup === this.leafletElement) {\n      this.onOpen()\n    }\n  }\n\n  onPopupClose = ({ popup }: { popup: LeafletElement }) => {\n    if (popup === this.leafletElement) {\n      this.onClose()\n    }\n  }\n\n  onRender = () => {\n    if (this.props.autoPan !== false && this.leafletElement.isOpen()) {\n      if (this.leafletElement._map && this.leafletElement._map._panAnim) {\n        this.leafletElement._map._panAnim = undefined\n      }\n      this.leafletElement._adjustPan()\n    }\n  }\n}\n\nexport default withLeaflet<Props, Popup>(Popup)\n","// @flow\n\nimport { Polygon as LeafletPolygon } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletPolygon\ntype Props = {\n  positions: LatLng[] | LatLng[][] | LatLng[][][],\n} & PathProps\n\nclass Polygon extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletPolygon(props.positions, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.positions !== fromProps.positions) {\n      this.leafletElement.setLatLngs(toProps.positions)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Polygon>(Polygon)\n","// @flow\n\nimport { Polyline as LeafletPolyline } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletPolyline\ntype Props = {\n  positions: LatLng[] | LatLng[][],\n} & PathProps\n\nclass Polyline extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletPolyline(props.positions, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.positions !== fromProps.positions) {\n      this.leafletElement.setLatLngs(toProps.positions)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Polyline>(Polyline)\n","// @flow\n\nimport { Rectangle as LeafletRectangle } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLngBounds, PathProps } from './types'\n\ntype LeafletElement = LeafletRectangle\ntype Props = { bounds: LatLngBounds } & PathProps\n\nclass Rectangle extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletRectangle(props.bounds, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(toProps.bounds)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Rectangle>(Rectangle)\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Scale\ntype Props = {\n  imperial?: boolean,\n  maxWidth?: number,\n  metric?: boolean,\n  updateWhenIdle?: boolean,\n} & MapControlProps\n\nclass ScaleControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Scale(props)\n  }\n}\n\nexport default withLeaflet<Props, ScaleControl>(ScaleControl)\n","// @flow\n\nimport { TileLayer as LeafletTileLayer } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport GridLayer from './GridLayer'\nimport type { GridLayerProps } from './types'\n\ntype LeafletElement = LeafletTileLayer\ntype Props = { url: string } & GridLayerProps\n\nclass TileLayer extends GridLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletTileLayer(props.url, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    super.updateLeafletElement(fromProps, toProps)\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n  }\n}\n\nexport default withLeaflet<Props, TileLayer>(TileLayer)\n","// @flow\n\nimport { Tooltip as LeafletTooltip } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport DivOverlay from './DivOverlay'\nimport type { DivOverlayProps } from './types'\n\ntype LeafletElement = LeafletTooltip\ntype Props = DivOverlayProps\n\nclass Tooltip extends DivOverlay<LeafletElement, Props> {\n  static defaultProps = {\n    pane: 'tooltipPane',\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletTooltip(\n      this.getOptions(props),\n      props.leaflet.popupContainer,\n    )\n  }\n\n  componentDidMount() {\n    const { popupContainer } = this.props.leaflet\n    if (popupContainer == null) return\n\n    popupContainer.on({\n      tooltipopen: this.onTooltipOpen,\n      tooltipclose: this.onTooltipClose,\n    })\n    popupContainer.bindTooltip(this.leafletElement)\n  }\n\n  componentWillUnmount() {\n    const { popupContainer } = this.props.leaflet\n    if (popupContainer == null) return\n\n    popupContainer.off({\n      tooltipopen: this.onTooltipOpen,\n      tooltipclose: this.onTooltipClose,\n    })\n    if (popupContainer._map != null) {\n      popupContainer.unbindTooltip(this.leafletElement)\n    }\n  }\n\n  onTooltipOpen = ({ tooltip }: { tooltip: LeafletElement }) => {\n    if (tooltip === this.leafletElement) {\n      this.onOpen()\n    }\n  }\n\n  onTooltipClose = ({ tooltip }: { tooltip: LeafletElement }) => {\n    if (tooltip === this.leafletElement) {\n      this.onClose()\n    }\n  }\n}\n\nexport default withLeaflet<Props, Tooltip>(Tooltip)\n","// @flow\n\nimport { VideoOverlay as LeafletVideoOverlay, latLngBounds } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLngBounds, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletVideoOverlay\ntype Props = {\n  attribution?: string,\n  bounds: LatLngBounds,\n  opacity?: number,\n  play?: boolean,\n  url: string | string[] | HTMLVideoElement,\n  zIndex?: number,\n} & MapLayerProps\n\nclass VideoOverlay extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletVideoOverlay(\n      props.url,\n      props.bounds,\n      this.getOptions(props),\n    )\n  }\n\n  componentDidMount() {\n    super.componentDidMount()\n    if (this.props.play === true) {\n      this.leafletElement.getElement().play()\n    }\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(latLngBounds(toProps.bounds))\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex)\n    }\n    // flowlint-next-line sketchy-null-bool:off\n    if (toProps.play === true && !fromProps.play) {\n      this.leafletElement.getElement().play()\n      // flowlint-next-line sketchy-null-bool:off\n    } else if (!toProps.play && fromProps.play === true) {\n      this.leafletElement.getElement().pause()\n    }\n  }\n}\n\nexport default withLeaflet<Props, VideoOverlay>(VideoOverlay)\n","// @flow\n\nimport { TileLayer } from 'leaflet'\nimport isEqual from 'fast-deep-equal'\n\nimport { withLeaflet } from './context'\nimport GridLayer from './GridLayer'\nimport { EVENTS_RE } from './MapEvented'\nimport type { GridLayerProps } from './types'\n\ntype LeafletElement = TileLayer.WMS\ntype Props = { url: string } & GridLayerProps\n\nclass WMSTileLayer extends GridLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const { url, ...params } = props\n    return new TileLayer.WMS(url, this.getOptions(params))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    super.updateLeafletElement(fromProps, toProps)\n\n    const { url: prevUrl, opacity: _po, zIndex: _pz, ...prevParams } = fromProps\n    const { url, opacity: _o, zIndex: _z, ...params } = toProps\n\n    if (url !== prevUrl) {\n      this.leafletElement.setUrl(url)\n    }\n    if (!isEqual(params, prevParams)) {\n      this.leafletElement.setParams(params)\n    }\n  }\n\n  getOptions(params: Object): Object {\n    const superOptions = super.getOptions(params)\n    return Object.keys(superOptions).reduce((options, key) => {\n      if (!EVENTS_RE.test(key)) {\n        options[key] = superOptions[key]\n      }\n      return options\n    }, {})\n  }\n}\n\nexport default withLeaflet<Props, WMSTileLayer>(WMSTileLayer)\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Zoom\ntype Props = {\n  zoomInText?: string,\n  zoomInTitle?: string,\n  zoomOutText?: string,\n  zoomOutTitle?: string,\n} & MapControlProps\n\nclass ZoomControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Zoom(props)\n  }\n}\n\nexport default withLeaflet<Props, ZoomControl>(ZoomControl)\n","import React, { Component } from 'react'\nimport { Map as LeafletMap, TileLayer, GeoJSON } from './reactleaflet'\nimport P3_Data from './P3_DMP.json'\nimport P3_Data_Route from './P3_ROUTE.json'\n\ntype State = {\n  lat: number,\n  lng: number,\n  zoom: number\n}\n\nexport default class geoJSON extends Component<{}, State> {\n  state = {\n    lat: 31.00,\n    lng: -100.00,\n    zoom: 10\n  }\n\n  geoJSONStyle(feature) {\n    let theColor = '#ff7878';\n    let theFillColor = '#ff8989';\n    console.log(feature.properties)\n    if ((!!feature.properties.MAIL_ZIP && !!feature.properties.MAIL_CITY && !!feature.properties.MAIL_STATE && !!feature.properties.PROP_ADDR) || (!!feature.properties.MAIL_ZIP && !!feature.properties.COUNTY_NAME && !!feature.properties.MAIL_STATE && !!feature.properties.PARCEL_APN)){\n      theColor = '#6eff00';\n      theFillColor = '#4ad8c3';\n    }\n    \n    return {\n      color: theColor,\n      weight: 1,\n      fillOpacity: 0.5,\n      fillColor: theFillColor,\n    }\n  }\n  geoJSONStyleRoute() {\n    return {\n      color: '#0e4dec',\n      weight: 1,\n      fillOpacity: 0.5,\n      fillColor: '#63c0e1',\n    }\n  } \n   onEachFeature(feature: Object, layer: Object)  {\n    const popupContent = `PARCEL_APN:` + feature.properties.PARCEL_APN;  \n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng]\n    return (\n      <div className=\"map-container\">\n      <LeafletMap center={position} zoom={this.state.zoom}>\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <GeoJSON\n          data={P3_Data}\n          style={this.geoJSONStyle}\n          onEachFeature={this.onEachFeature}\n        />\n         <GeoJSON\n          data={P3_Data_Route}\n          style={this.geoJSONStyleRoute}\n        />\n      </LeafletMap>\n      </div>\n    )\n  }\n}","/* eslint-disable */\nconst React = require('react')\nconst Uppy = require('@uppy/core')\nconst Tus = require('@uppy/tus')\nconst GoogleDrive = require('@uppy/google-drive')\nconst { Dashboard, DashboardModal, DragDrop, ProgressBar } = require('@uppy/react')\nimport { Icon, Input, AutoComplete } from 'antd';\nimport 'antd/dist/antd.css';\nimport Map from './Map';\n\nconst { Option, OptGroup } = AutoComplete;\n\nconst dataSource = [\n  {\n    title: 'Kinder Morgan',\n    children: [\n      {\n        title: 'Gulf Coast Express',\n        id: '278867.0000.0000'\n      }\n    ]\n  },\n  {\n    title: 'New York State Energy Research',\n    children: [\n      {\n        title: 'NYSERDA Multifamily',\n        id: '114810.0000.0000',\n      }\n    ]\n  },\n  {\n    title: 'West Texas Swogp',\n    children: [\n      {\n        title: 'West Texas Swogp',\n        id: '117781.0000.0000',\n      },\n    ],\n  },\n];\n\nfunction renderTitle(title) {\n  return (\n    <span>\n      {title}\n      <a\n        style={{ float: 'right' }}\n        href=\"#\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        more\n      </a>\n    </span>\n  );\n}\n\nconst options = dataSource\n  .map(group => (\n    <OptGroup key={group.title} label={renderTitle(group.title)}>\n      {group.children.map(opt => (\n        <Option key={opt.title} value={opt.title}>\n          {opt.title}\n          <span className=\"certain-search-item-count\">{opt.id}</span>\n        </Option>\n      ))}\n    </OptGroup>\n  ))\n  .concat([\n    <Option disabled key=\"all\" className=\"show-all\">\n      <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">\n        View all projects\n      </a>\n    </Option>,\n  ]);\n\n\n\nclass Upload extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      showInlineDashboard: false,\n      open: false,\n      uploaded: false,\n      showMap: false\n    }\n\n    this.uppy = new Uppy({ id: 'uppy1', autoProceed: true, debug: true,\n      restrictions: {\n        maxFileSize: 10000000,\n        maxNumberOfFiles: 1,\n        minNumberOfFiles: 1\n      }\n     })\n      .use(Tus, { endpoint: 'https://master.tus.io/files/' })\n      .use(GoogleDrive, { companionUrl: 'https://companion.uppy.io' })\n\n    this.uppy2 = new Uppy({ id: 'uppy2', autoProceed: false, debug: true })\n      .use(Tus, { endpoint: 'https://master.tus.io/files/' })\n\n    this.handleModalClick = this.handleModalClick.bind(this)\n    this.showMap = this.showMap.bind(this);\n    this.uppy.on('complete', (result) => {\n        this.setState({\n          uploaded: true\n        })\n        console.log('successful files:', result.successful)\n        console.log('failed files:', result.failed)\n      })\n  }\n\n  componentWillUnmount () {\n    this.uppy.close()\n    this.uppy2.close()\n  }\n\n  handleModalClick () {\n    this.setState({\n      open: !this.state.open\n    })\n  }\n\n  showMap() {\n    this.setState({\n      showMap: true\n    })\n    console.log('loading map ...')\n\n  }\n  render () {\n    const { showInlineDashboard, showMap, uploaded } = this.state\n    let theMap = <span/>;\n    let theUploadArea = <div>\n        <h2>Shapefile Upload</h2>\n        <h3>Drag Drop Area</h3>\n        <DragDrop\n          uppy={this.uppy}\n          plugins={['GoogleDrive', 'Dropbox']}\n          locale={{\n            strings: {\n              chooseFile: 'Boop a file',\n              orDragDrop: 'or yoink it here'\n            }\n          }}\n        />\n        <ProgressBar\n          uppy={this.uppy}\n          hideAfterFinish={false}\n        />\n        </div>;\n\n\n    if (showMap) {\n      theMap = <Map />;\n      theUploadArea = <span />;\n    }\n    let theButton = <span/>;\n    if (uploaded) {\n      theButton = <span onClick={this.showMap} id='editshape'>View Your Shape</span>\n    }\n    return (\n    <div>\n     <div className=\"certain-category-search-wrapper\">\n      <AutoComplete\n        className=\"certain-category-search\"\n        dropdownClassName=\"certain-category-search-dropdown\"\n        dropdownMatchSelectWidth={false}\n        dropdownStyle={{ width: 300 }}\n        size=\"large\"\n        style={{ width: '100%' }}\n        dataSource={options}\n        placeholder=\"select projects\"\n        optionLabelProp=\"value\"\n      >\n        <Input suffix={<Icon type=\"search\" className=\"certain-category-icon\" />} />\n      </AutoComplete>\n    </div>\n      <div className=\"mainUpload\">\n        {theUploadArea}\n        {theButton}      \n      </div>\n      <div>\n        {theMap}\n      </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Upload;","import React from 'react';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-balham.css';\n//import \"ag-grid-enterprise\";\nimport * as XLSX from 'xlsx';\nimport { Icon, Progress, Tooltip, message} from 'antd';\n\n\nfunction genLink(v){\n return Math.floor(Math.random() * v) + 1 \n} \n\nfunction b64toBlob(b64Data,contentType) {\n  var sliceSize = 512;\n  var byteCharacters = atob(b64Data);\n  var byteArrays = [];\n  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    var slice = byteCharacters.slice(offset,offset + sliceSize);\n    var byteNumbers = new Array(slice.length);\n    for (var i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n    var byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n  var blob = new Blob(byteArrays,{ type: contentType });\n  return blob;\n}\n\nfunction download(params,content) {\n  var fileNamePresent = params && params.fileName && params.fileName.length !== 0;\n  var fileName = fileNamePresent ? params.fileName : \"trc_parcel_Data-NYSERDA_Multifamily.xlsx\";\n  var blobObject = b64toBlob(content,\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blobObject,fileName);\n  } else {\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.href = URL.createObjectURL(blobObject);\n    downloadLink.download = fileName;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\n\nconst dataLink = \"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/data\";\n////////////////////////////////////////////////\n/* GLOBALS */\n////////////////////////////////////////////////\n\nlet ajaxArrayUrl_Property_Data_Reports = {};\nlet ajaxArrayUrl_Property_Transaction_Details = {};\nlet minRowHeight = 25;\nlet currentRowHeight = minRowHeight;\n\nlet _data = [];\n// let columnDefs = Object.keys(_data[0]).map((i)=>{\n//             return {headerName: i,field: i,filter: \"agTextColumnFilter\"}\n//         });\nlet columnDefs = [];\n////////////////////////////////////////////////\n/* STEP 1 -- FETCH SIK -- */\n////////////////////////////////////////////////\nconst account_user = [\"TRCSolutions\",\"ActUser\"];\n\nconst t_account_user = [\"CRESALES\",\"TRCTEST\"];\n//note http or https here\nlet sLoginRequest = \"//parcelstream.com/admin/getSIK.aspx?ACCOUNT=\" + t_account_user[0] + \"&LOGIN=\" + t_account_user[1];\nconsole.log('------step1: SIK url-------');\nconsole.log(sLoginRequest);\n//sample wkt for testing\nconst wkt1 = \"LINESTRING (-95.9621226483684 36.066442984799,-95.9630934684588 36.0657434232634,-95.9630934684588 36.0641015951692,-95.9621226483684 36.0641015951692,-95.9621226483684 36.0611463046)\";\n\nconst wkt2 = \"LINESTRING (-103.1096009 31.2769897,-103.1092908 31.2765736,-103.1076532 31.2774741,-103.1056718 31.2784913,-103.0938222 31.2789744,-103.0914563 31.2789636,-103.0753606 31.2737632,-103.075301 31.2728564,-103.0682859 31.2712042,-103.0672612 31.2711018,-103.0657588 31.2702005,-103.0632747 31.2697876,-103.0605646 31.2696393,-103.0543035 31.2685536,-103.0472116 31.2672649,-103.039892 31.2653468,-103.0372597 31.2644719,-103.0349208 31.264074,-103.0331718 31.2636361,-103.0267821 31.2622371,-103.0179161 31.2608445,-103.0084485 31.2595426,-102.9974336 31.2580747,-102.9847674 31.2556142,-102.974231 31.2535978,-102.965657 31.2520091,-102.9587656 31.2506658,-102.9434985 31.2478329,-102.9351329 31.2462622,-102.9321134 31.2452354,-102.9265157 31.2442379,-102.9158468 31.2423402,-102.9010741 31.239616,-102.8916908 31.237881,-102.8829731 31.2363683,-102.8825386 31.235956,-102.8658963 31.2330367,-102.8570393 31.2304367,-102.853745 31.2295414,-102.8529846 31.2296068,-102.8521499 31.2296785,-102.8375638 31.2248896,-102.8352975 31.2244173,-102.8350179 31.2243192,-102.8320619 31.2232975,-102.8289028 31.2221614,-102.8223331 31.2200846,-102.8147821 31.218128,-102.8099154 31.2168111,-102.8047199 31.2154551,-102.8036078 31.2141898,-102.7938632 31.2108521,-102.7851065 31.2045627,-102.7842709 31.2053735,-102.7620928 31.2004352,-102.7614043 31.1999941,-102.7356253 31.1922074,-102.7134368 31.1858633,-102.6905012 31.1793004,-102.6662222 31.1723476,-102.6403505 31.1649324,-102.6033247 31.154291,-102.5688436 31.1449222,-102.555017 31.1411647,-102.5393634 31.1372141,-102.5213604 31.1332218,-102.4772542 31.1241134,-102.4496911 31.119301,-102.4220405 31.1164408,-102.41569 31.116135,-102.3934497 31.1143148,-102.3768504 31.117011,-102.3527952 31.1226849,-102.3309572 31.1308071,-102.2514472 31.1456294,-102.245744 31.1487983,-102.2345531 31.1603096)\";\n\n\n////////////////////////////////////////////////\n/* STEP 2 -- EXTRACT CANDY AND DATA CENTER -- */\n////////////////////////////////////////////////\n/*_DMP_ID,PARCEL_DMP_ID, PARCEL_APN, TAXAPN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, ADDR_SCORE,MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS,LEGAL_FULL,LEGAL_SEC_TWP_RNG,VAL_MARKET,ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY,LOCATION_ID, PROPERTY_DMP_ID, PROPERTY_ID*/\nconst demoCandy = \"xINBuuymZ0px5mpsdeJucD05e0xj169x5W9PYA~~\";\nconst QUERY_FIELDS = \"_DMP_ID, PARCEL_APN, APN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS, VAL_MARKET, ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY, PROPERTY_ID\";\nconst demoUrl = `//dc1.parcelstream.com/getQuery.aspx?datasource=SS.Prop.ParcelDetail/ParcelDetail&inclusiongeometries=`+ wkt1+`&SS_Candy=`+demoCandy+`&fields=`+QUERY_FIELDS;\nconsole.log('------step2:getQuery url-------');\nconst demoUrlPOST = `//dc1.parcelstream.com/getQuery.aspx`;\n/*\nDAILY UPDATED\nconst DAILY = http://dc2.parcelstream.com/_T99/InitSession.aspx?sik=_T99/1e6ec573-a4ab-46a1-a623-a7a7d7259fc3-101400_570474633&output=xml\n*/\n////////////////////////////////////////////////\n/* STEP 3 -- ACCESS PARCEL DETAILS -- */\n////////////////////////////////////////////////\nlet rowDataParsed = [];\n////////////////////////////////////////////////\n/* STEP 4 -- ACCESS DOCUMENT IMAGES -- */\n////////////////////////////////////////////////\nconst getImageAvailable =  \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?\";\nconst purchaseImage = \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesRequest.ashx?\";\n/*city=Tukwila&county=King&state=WA&ZIP=98188&code=SDX&deliveryMethod=FTP&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&APN=537920-0065&locId=US_53_033_5379200065&callback=https%3A%2F%2Fapps.spatialstream.com%2FAppUtils%2FDocument%2520Images%2FDocumentImagesDownloadDemo.ashx&requestedDocs=[{\"DocumentType\":\"Other\",\"DocumentTypeOtherDescription\":\"Deed Transfer\",\"InstrumentNumberIdentifier\":\"1999.505.0688\",\"InstrumentNumberCMTIdentifier\":\"1223\",\"RecordedDatetimeStr\":\"05/05/1999\"}]&output=JSON&uid=101400_570428348\n*/\n/*\nhttps://apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?city=Tukwila&county=King&state=WA&ZIP=98188&code=THD2&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&apn=537920-0065&address=16028%2051st%20Ave%20S&obsId=json&obsSuccessMethod=success&obsErrorMethod=error\n*/\n////////////////////////////////////////////////\n/* STEP 5 -- ACCESS PROPERTY DATA REPORTS-- */\n////////////////////////////////////////////////\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_329_038100312300&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=v2_xINBqcvXZ0pT82psV_ducIZjbCn-U69xAUFBUigzIw~~&uid=104762_570470830\n*/\nlet get_property_data_reports_by_location_id = (location_id) => {\n    if (location_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=\" + location_id+ \"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=\" + demoCandy + \"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=400790018387&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=v2_z45jEMvXZ0pT82psV_ducIfY9GLoW69xdyxKUSgzIw~~&uid=104762_570470830\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_371_4410&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=xINBuuymZ0px5mpsdeJucNXubKggRa9x23dGYA~~&uid=104762_570470830\n*/\nlet get_property_transaction_details_by_property_id = (property_id) => {\n    if (property_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=\"+ property_id+\"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=\"+demoCandy+\"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n\nfunction triggerDownload(_v1, _v2){\n\n}\nclass RealTimeData extends React.Component {\n    constructor(props) {\n    super(props);\n    this.parseDemo = this.parseDemo.bind(this);\n   \n    this.state = {\n          error: null,\n          isLoaded: false,\n          rowData: _data,\n          imageAvailablePercentage: 0,\n          backendQueryLinks: [],\n          showProgress: false,\n          totalPrice: 0,\n          statusPercentage: 0.0,\n          processed: false,\n          getRowHeight: function() {\n            return currentRowHeight;\n          },\n          rowGroupPanelShow: \"always\",\n          defaultExportParams: { suppressTextAsCDATA: true },   \n          columnDefs: null,\n          defaultColDef: {\n            sortable: true,\n            resizable: true,\n            filter: true,\n            minWidth: 150\n          },\n          excelStyles: [\n        {\n          id: \"defaultReport\",\n          interior: {\n            color: \"#ffffff\",\n            pattern: \"Solid\"\n          }\n        },\n        {\n          id: \"borderSolid\",\n          borders: {\n                borderLeft: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderRight: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderBottom: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderTop: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                }\n            }\n          },\n         {\n          id: \"header\",\n          interior: {\n            color: \"#d2d2d2\",\n            pattern: \"Solid\"\n          },\n          borders: {\n                borderLeft: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderRight: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderBottom: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderTop: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                }\n            }\n          }\n        ]\n        };\n    }\n\n  componentDidMount() {\n    let d = new Date();\n    if (d.getDay() > 29){\n        message.success(\"Welcome back!\");    \n    }\n   }\n\n  updateProgress() {\n    let statusPercentage = this.state.statusPercentage;\n    if (statusPercentage < 100) {\n       setTimeout(function(){this.setState({statusPercentage: statusPercentage + .8});this.updateProgress();}.bind(this), 100)\n    }\n    else {\n      \n    }\n  }\n  onGridReady = params => {\n    message.success(\"Loaded successfully\");\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n    minRowHeight = 25;\n    currentRowHeight = minRowHeight;\n    params.api.sizeColumnsToFit();\n    this.parseDemo(this.props.data, false);\n  };\n\n  onGridSizeChanged(params) {\n    var gridHeight = document.getElementsByClassName(\"ag-body-viewport\")[0].offsetHeight;\n    var renderedRows = params.api.getRenderedNodes();\n    if (renderedRows.length * minRowHeight >= gridHeight) {\n      if (currentRowHeight !== minRowHeight) {\n        currentRowHeight = minRowHeight;\n        params.api.resetRowHeights();\n      }\n    } else {\n      currentRowHeight = 25 || Math.floor(gridHeight / renderedRows.length);\n      params.api.resetRowHeights();\n    }\n  }\n\n  removeSign(arr, _sign, hasProperty) {\n        let _arr = [];\n        let _col = [];\n        //remove $ in data\n        let imageCount = arr.length;\n        let percentage = 0;\n        let imageAvailableCount = 0;\n        let priceInfo = 0;\n        const UNIT_PRICE = 6;\n        const backendQueryLinks = [];\n        if (imageCount > 0){\n            arr.map(function(i){\n\n            //get property detail\n            const PROPERTY_DATA_REPORTS_URL = get_property_data_reports_by_location_id(i[_sign+'LOCATION_ID']);\n            const PROPERTY_TRANSACTION_DETAILS_URL = get_property_transaction_details_by_property_id(i[_sign+'PROPERTY_DMP_ID']);;\n            //if there's a missing field,show 'unavailable'\n            let imageInfo = '-';\n            if (i[_sign+'SITE_ZIP'] && i[_sign+'SITE_CITY'] && i[_sign+'SITE_STATE'] && i[_sign+'SITE_ADDR']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'PARCEL_DMP_ID'] + '&city=' + i[_sign+'SITE_CITY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&code=THD2&SS_CANDY=' + demoCandy  + '&address=' + i[_sign+'SITE_ADDR']+ '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else if (i[_sign+'SITE_ZIP'] && i[_sign+'COUNTY_NAME'] && i[_sign+'SITE_STATE'] && i[_sign+'PARCEL_APN']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'PARCEL_DMP_ID'] + '&code=THD2&SS_CANDY=' + demoCandy + '&apn=' + i[_sign+'PARCEL_APN'] + '&county=' + i[_sign+'SITE_COUNTY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else {\n                priceInfo = 0;\n            }\n            i[\"IMAGE\"] = imageInfo;\n            i[\"PRICE\"] = priceInfo; //unit price\n            i[\"PROPERTY_DETAIL\"] = PROPERTY_DATA_REPORTS_URL;\n            i[\"PROPERTY_TRANSACTION_DETAILS\"] = PROPERTY_TRANSACTION_DETAILS_URL;\n            //ajaxArrayUrl_Property_Data_Reports[i[_sign+'LOCATION_ID']] = PROPERTY_DATA_REPORTS_URL;\n            //ajaxArrayUrl_Property_Transaction_Details[i[_sign+'LOCATION_ID']] = PROPERTY_TRANSACTION_DETAILS_URL;\n            _arr.push(i);\n            backendQueryLinks.push(PROPERTY_DATA_REPORTS_URL);\n            backendQueryLinks.push(PROPERTY_TRANSACTION_DETAILS_URL);\n        });\n\n        //column header4\n        _col = Object.keys(_arr[0]).map((i)=>{\n             if (i===\"IMAGE\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Image Link </a>'\n                }}\n             }\n             if (i===\"PROPERTY_DETAIL\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Detail </a>'\n                }}\n             }\n             if (i===\"PROPERTY_TRANSACTION_DETAILS\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Transaction Detail </a>'\n                }}\n             }\n             return {headerName: i.replace('-','').replace('_',' ').replace('_',' '),field: i,filter: \"agTextColumnFilter\"}\n         });\n\n        //update percentage\n        percentage = (imageAvailableCount * 1.0/imageCount * 100).toFixed(2) + '%';\n        this.setState({backendQueryLinks: backendQueryLinks, imageAvailablePercentage: percentage, totalPrice: (imageAvailableCount * UNIT_PRICE).toFixed(2), processed: true});\n        }\n        //triggerDownload(ajaxArrayUrl_Property_Data_Reports, ajaxArrayUrl_Property_Transaction_Details);\n        return [_arr,_col];\n    }\n    parseDemo(xmlorjson, hasProperty) {\n      console.log(xmlorjson);\n      let __arr = this.removeSign(xmlorjson, \"\", hasProperty);\n      this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n\n    }\n\n  onCsvExport() {\n    //csv\n    var params = {\n      skipHeader: false,\n      columnGroups: false,\n    };\n    \n    this.gridApi.exportDataAsCsv(params);\n  }\n\n  onBtExport() {\n    //xls format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    \n    this.gridApi.exportDataAsExcel(params);\n  }\n\n  downloadCSVWithRequest() {\n      console.log('%c Sending the following request to server ...', 'background: linear-gradient(-150deg, #4ad8c3, #0e4dec); color: white');\n      console.log(this.state.backendQueryLinks);\n      console.log('%c If you are impatient, you can also use the downloaded file and run the python script directly.', 'background: linear-gradient(-150deg, #4ad8c3, #0e4dec); color: white');\n      let csvContent = \"data:text/csv;charset=utf-8,\" + this.state.backendQueryLinks;\n      var encodedUri = encodeURI(csvContent);\n      window.open(encodedUri);\n      this.setState({showProgress:true});\n      this.updateProgress();\n  }\n\n  onBtExportNew() {\n      //xlsx format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    var content = this.gridApi.getDataAsExcel(params);\n    var workbook = XLSX.read(content,{ type: \"binary\" });\n    var xlsxContent = XLSX.write(workbook,{\n      bookType: \"xlsx\",\n      type: \"base64\"\n    });\n    download(params,xlsxContent);\n  }\n\n  onBtPrint() {\n      window.print();    \n  }\n\n  render () {\n    let price_rows = this.state.totalPrice;\n    let progressBar = <span />\n    if (this.state.showProgress){\n      progressBar = <Tooltip title=\"3% done / 6% in progress / 91% to do\"><Progress percent={this.state.statusPercentage} successPercent={0.3*this.state.statusPercentage} />\n    </Tooltip>;\n    }\n    return (\n    <div style={{ width: \"100%\",height:\"680px\" }}>\n    <h3> Image available percentage: <span style={{ color: 'green'}}>{this.state.imageAvailablePercentage}</span> of the data has image document</h3>\n    <h3> Image cost: <span style={{ color: 'green'}}>${price_rows}</span></h3>\n    <div className=\"buttonGroup\">\n    <label className=\"exportButtons\">\n    <button type=\"button\" className=\"btn\" id=\"excelExportNew\" onClick={this.onBtExportNew.bind(this)} >\n    <div>x</div></button><button type=\"button\" className=\"btn\" id=\"pdfExport\" onClick={this.onBtPrint.bind(this)} >PDF</button>\n    <button type=\"button\" className=\"btn\" id=\"csvExport\"  onClick={this.onCsvExport.bind(this)}>CSV</button>\n    <button type=\"button\" className=\"btn\" id=\"printButton\" onClick={this.onBtPrint.bind(this)}></button>\n    </label>\n    </div>\n       <div \n        className=\"ag-theme-balham\"\n        style={{ width: \"100%\",height:\"600px\" }}>\n        <a className=\"btn\" id=\"downloadButton\" href='#' onClick={this.downloadCSVWithRequest.bind(this)}><Icon type=\"download\" /></a>\n        {progressBar}\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          defaultExportParams={this.state.defaultExportParams}\n          rowGroupPanelShow={this.state.rowGroupPanelShow}\n          defaultColDef={this.state.defaultColDef}\n          enableRangeSelection={true}\n          animateRows={true}\n          groupUseEntireRow={true}\n          rowData={this.state.rowData}\n          groupDefaultExpanded={-1}\n          getRowHeight={this.state.getRowHeight}\n          autoGroupColumnDef={this.state.autoGroupColumnDef}\n          groupSuppressAutoColumn={true}\n          excelStyles={this.state.excelStyles}\n          onGridReady={this.onGridReady}\n          onGridSizeChanged={this.onGridSizeChanged.bind(this)}\n          />\n\n        <a download=\"#\" href=\"#\" title=\"all\">\n            Download all, Price: ${price_rows}\n        </a>\n        </div></div>\n        );\n  }\n\n}\n\nexport default RealTimeData;","import {\n  Alert,\n  Form,\n  Select,\n  InputNumber,\n  Input,\n  AutoComplete,\n  Button,\n  Upload,\n  Icon,\n  Drawer,\n  message\n} from 'antd';\nimport React, { Component, Fragment } from 'react';\nimport { Map as LeafletMap, TileLayer, GeoJSON, Popup } from './reactleaflet';\nimport RealTimeData from './RealTimeData';\nimport Iframe from 'react-iframe';\nimport CSVReader from 'react-csv-reader';\n\nconst { Option, OptGroup } = AutoComplete;\nconst emptyRoute = {type: \"MultiLineString\", coordinates:[[]]};\nvar parse = require('wellknown');\n \nconst papaparseOptions = {\n    header: true,\n    dynamicTyping: true,\n    skipEmptyLines: true\n  }\n\nconst dataSource = [\n  {\n    title: 'Kinder Morgan',\n    children: [\n      {\n        title: 'Gulf Coast Express',\n        id: '278867.0000.0000'\n      }\n    ]\n  },\n  {\n    title: 'New York State Energy Research',\n    children: [\n      {\n        title: 'NYSERDA Multifamily',\n        id: '114810.0000.0000',\n      }\n    ]\n  },\n  {\n    title: 'West Texas Swogp',\n    children: [\n      {\n        title: 'West Texas Swogp',\n        id: '117781.0000.0000',\n      },\n    ],\n  }\n];\n\nfunction renderTitle(title) {\n  return (\n    <span>\n      {title}\n      <a\n        style={{ float: 'right' }}\n        href=\"#\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        more\n      </a>\n    </span>\n  );\n}\n\nconst iconStyle = { fontSize: '24px', color: '#1890ff' };\n\nconst options = dataSource\n  .map(group => (\n    <OptGroup key={group.title} label={renderTitle(group.title)}>\n      {group.children.map(opt => (\n        <Option key={opt.title} value={opt.title}>\n          {opt.title}\n          <span className=\"certain-search-item-count\">{opt.id}</span>\n        </Option>\n      ))}\n    </OptGroup>\n  ))\n  .concat([\n    <Option disabled key=\"all\" className=\"show-all\">\n      <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">\n        View all projects\n      </a>\n    </Option>,\n  ]);\n\n\n\nexport default class RealTime extends React.Component {\n  constructor(props) {\n      super(props);\n      this.handleUpload = this.handleUpload.bind(this);\n      this.formData = this.formData.bind(this);\n      this.state = { \n          visible: false, \n          DataRoute: emptyRoute,\n          sendFormData: null,   \n          lat: 31.00,\n          lng: -100.00,\n          zoom: 10,\n          datavisible: false,\n          token_valid: false\n        };\n    }\n\n  showData = () => {\n    this.setState({\n      datavisible: true\n    });\n  }\n  showHideDrawer = () => {\n    this.setState({\n      visible: !this.state.visible,\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n      else {\n        this.setState({datavisible: false});\n      }  \n    });\n  };\n\n  handleUpload = ({file, onSuccess}) => {      \n        if (file) {\n          let data = new FormData();\n          data.append('file', file);\n          // this.setState({DataRoute: data})\n          // console.log(data);\n        }\n  }\n  normFile = e => {\n    console.log('Upload event:', e);\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e && e.fileList;\n  };\n\n  getProjectName = (value) => {\n    console.log(value);\n  }\n\n  beforeUploadWKTParser = (file) => {\n                  const reader = new FileReader();\n                  this.setState({DataRoute: emptyRoute});\n                  reader.onload = e => {\n                      const routeData = parse(e.target.result);\n                      this.setState({DataRoute: routeData});\n                      console.log(\"routeData\");\n                      console.log(routeData);\n                      if (routeData && routeData.coordinates){\n                        this.setState({lat: routeData.coordinates[0][0][1], lng: routeData.coordinates[0][0][0]});\n                      }\n                  };\n                  reader.readAsText(file);\n\n                  // Prevent upload, to enable, use customRequest={this.handleUpload}\n                  return false;\n              }\n  geoJSONStyleRoute() {\n    return {\n      color: '#0e4dec',\n      weight: 4,\n      fillOpacity: 0.5,\n      fillColor: '#63c0e1',\n    }\n  } \n  formData(data) {\n    console.log(\"csv uploaded\");\n    console.log(\"data is \");\n    this.setState({datavisible: true, sendFormData: data});\n  }\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const position = [this.state.lat, this.state.lng];\n\n    let realTimeData = <span />;\n    let formData = <Fragment>\n        <Form.Item label=\"Choose Document Type(s)\">\n          {getFieldDecorator('select-multiple', {\n            rules: [\n              { required: true, message: 'Please select the document type(s)', type: 'array' },\n            ],\n          })(\n            <Select mode=\"multiple\" placeholder=\"Please select the document type(s)\">\n              <Option value=\"deed\">Deed Documents</Option>\n              <Option value=\"transaction-history\">Transaction History</Option>\n              <Option value=\"property-detail\">Property Detail</Option>\n              <Option value=\"all-documents\">All Documents Available</Option>\n            </Select>,\n          )}\n        </Form.Item>\n        <Form.Item label=\"Upload Shapefile and View it on Map\">\n          <Iframe url=\"https://integritygis.trcsolutions.com/portal/apps/webappviewer/index.html?id=a9923d21ceca4955bfca1fa6ef065b37\"\n            width=\"1000px\"\n            height=\"400px\"\n            id=\"myMap\"\n            className=\"mapFrame\"\n            display=\"initial\"\n            position=\"relative\"/>\n         </Form.Item>\n        <Form.Item label=\"Upload the CSV File\">\n          <CSVReader onFileLoaded={this.formData} parserOptions={papaparseOptions}/>\n        </Form.Item>\n        </Fragment>\n\n\n    if (this.state.datavisible) {\n      realTimeData = <RealTimeData data={this.state.sendFormData}/>;\n      formData = <span />\n    } \n    // else if (this.state.datavisible && !this.state.token_valid) {\n    //   realTimeData =  <Alert message=\"Authorization token expired, please contact the admin\" type=\"error\" />\n    // }\n\n    const formItemLayout = {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 14 },\n    };\n\n\n    return (\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label={<span><Icon type=\"cloud-upload\" style={iconStyle}/><Icon type=\"api\"  style={iconStyle}/><Icon type=\"file-search\" style={iconStyle}/></span>}>\n          <span className=\"ant-form-text\">Real-time Shapefile Upload and Processing</span>\n        </Form.Item>\n        <Form.Item label=\"Select or Create A Project\" hasFeedback>\n          {getFieldDecorator('select', {\n            rules: [{ required: true, message: 'Please select or create a project' }],\n          })(\n              <AutoComplete\n                className=\"certain-category-search\"\n                dropdownClassName=\"certain-category-search-dropdown\"\n                dropdownMatchSelectWidth={false}\n                dropdownStyle={{ width: 300 }}\n                size=\"large\"\n                style={{ width: '100%' }}\n                dataSource={options}\n                placeholder=\"select projects\"\n                optionLabelProp=\"value\"\n                onChange = {this.getProjectName}\n              >\n                <Input/>\n              </AutoComplete>,\n          )}\n        </Form.Item>\n        {formData}\n        {realTimeData}\n\n      </Form>\n    );\n  }\n}\n\nexport const WrappedRealTime = Form.create({ name: 'validate_other' })(RealTime);","import React, { Component } from 'react';\nimport './App.css';\nimport Upload from './trc/Upload';\nimport Map from './trc/Map';\nimport {WrappedRealTime} from './trc/RealTime';\n// import BasicPostEQT from './trc/EQT';\n// import RWE from './trc/RWE';\nimport { BrowserRouter, Route, Redirect, withRouter } from 'react-router-dom';\nimport { message } from 'antd';\n\nconst IS_TESTING = true;\nconst TESTING_USERS = [\n  {\"username\": \"Ke Yang\", \"email\": \"kyang@trccompanies.com\", \"password\": \"trc123\" },\n  {\"username\": \"Trevor Anderson\", \"email\": \"tanderson@trccompanies.com\", \"password\": \"tanderson!@#$\" },\n  {\"username\": \"Brandon Browning\", \"email\": \"bbrowning@trccompanies.com\", \"password\": \"bbrowning!@#$\" }, \n  {\"username\": \"Charlie Foster\", \"email\": \"crfoster@trccompanies.com\", \"password\": \"crfoster!@#$\"}, \n  {\"username\": \"Dena Patterson\", \"email\": \"dpatterson@trccompanies.com\", \"password\": \"dpatterson!@#$\"},\n  {\"username\": \"Ben Hach\", \"email\": \"bhach@trccompanies.com\", \"password\": \"bhach!@#$\"},\n  {\"username\": \"Andy Viola\", \"email\": \"aviola@trccompanies.com\", \"password\": \"aviola!@#$\"},\n  {\"username\": \"Denny Nurkiewicz\", \"email\": \"dnurkiewicz@trccompanies.com\", \"password\": \"dnurkiewicz!@#$\"}\n  ];\n\nconst POSSIBLE_TEST_COMBO = TESTING_USERS.map((t)=>{\n  return t[\"username\"]+\",\"+t[\"password\"];\n});\n\nconst fakeAuthCentralState = {\n  isAuthenticated: !!(localStorage.getItem(\"trclogin\"))||false,\n  testUserId: null,\n  authenticate(callback) {\n    this.isAuthenticated = true;\n    setTimeout(callback, 300);\n  },\n  signout(callback) {\n    this.isAuthenticated = false;\n    setTimeout(callback, 300);\n  }\n};\n\n///////////test////////////\nfunction TrcBanner(props){\n    if (IS_TESTING) {\n        return <span contentEditable id=\"animation\">Connected</span>;\n      }\n    else{\n        return <span>Welcome back!</span>;\n    }  \n}\n\nfunction expandMenu(e) {\n    let navWrapper = document.querySelector('.nav-wrapper');\n    navWrapper.classList.toggle('active');\n}\n\nconst LogOut = () => <div className=\"test test-card TrcBanner full\">\n      <div className=\"test-text test\">\n        <h1>trc</h1>\n        <h2>TRC Connector</h2>\n        <TrcBanner isTesting = {IS_TESTING} />\n        <div className=\"bg-transparent left test\">\n        </div>\n        <div className=\"bg-transparent center test\">\n        </div>\n        <div className=\"bg-transparent right test\">\n        </div>\n        <a href=\"/userlogin\" className=\"back-button\">Go back</a>\n      </div>\n  </div>;\n\nconst Header = () => <div><div className=\"test test-card TrcBanner\">\n<a href=\"#\" id=\"logo-connector-trc\"></a>\n<div className=\"test-text test\">\n  <h1>TRC</h1>\n  <h2>digital</h2>\n  <TrcBanner/>\n  <div className=\"bg-transparent left test\">\n  </div>\n  <div className=\"bg-transparent center test\">\n  </div>\n  <div className=\"bg-transparent right test\">\n  </div>\n</div>\n</div>\n<div className=\"nav-wrapper\">\n  <nav>\n      <div className=\"navigation\">\n          <ul className=\"nav-items\">\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">User Info</a></li>\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">Project Info</a></li>\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">Shapefiles</a></li>\n              <li><a href=\"http://trcnet.trcsolutions.com\" target=\"_blank\" rel=\"noopener noreferrer\">TRCNet</a></li>\n              <li><a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">Get Support</a></li>\n              <li><AuthButton/></li>\n          </ul>\n          <div className=\"nav-toogler\" onClick={expandMenu}></div>\n      </div>\n  </nav>\n</div>\n</div>;\n\nconst ProtectedWrappedRealTime = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><WrappedRealTime /></div></div>;\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    localStorage.removeItem('trclogin');\n\n    this.state = {\n      name: null,\n      redirectToReferrer: false\n    };\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    localStorage.setItem('trclogin', name);\n    this.setState({\n      [name]: value\n    });\n  }\n\n  login = () => {\n    const TEST_COMBO = this.state.tempname + \",\" + this.state.temppass;\n    const index = POSSIBLE_TEST_COMBO.indexOf(TEST_COMBO);\n    if (index > -1){\n      fakeAuthCentralState.authenticate(() => {\n        this.setState(() => ({\n          redirectToReferrer: true\n        }));\n      });\n      message.success(\"Hi, \"+ TESTING_USERS[index].username);\n    }\n    else {\n      message.warning(\"Incorrect username or password\");\n    }\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/protecteddata-realtime' } };\n    const { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer === true) {\n      this.props.history.push(from.pathname);\n    }\n\n    return (\n         <div>\n         <Header />\n          <div className=\"login\">\n               <div className=\"login-form\">\n                <div className=\"control-group\">\n                <input type=\"text\" className=\"login-field\" placeholder=\"username\" id=\"login-name\" name=\"tempname\" onChange={this.handleInputChange}/>\n                <label className=\"login-field-icon fui-user\" for=\"login-name\"></label>\n                </div>\n\n                <div className=\"control-group\">\n                <input type=\"password\" className=\"login-field\" placeholder=\"password\" id=\"login-pass\" name=\"temppass\" onChange={this.handleInputChange}/>\n                <label className=\"login-field-icon fui-lock\" for=\"login-pass\"></label>\n                </div>\n\n                <div className=\"control-group\">\n                <input type=\"checkbox\" name=\"remember\" value=\"true\" className= \"remember\" name=\"tempremember\" onChange={this.handleInputChange} /> \n                <label className=\"login-field-icon remember\" for=\"login-remember\">\n                Remember me</label>\n                </div>\n\n                <button className=\"btn btn-primary btn-large btn-block\" onClick={this.login}>login</button>\n              </div>\n            </div>\n      </div>\n    )\n  }\n}\n\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    fakeAuthCentralState.isAuthenticated ? <Component {...props} />\n      : <Redirect to={{\n          pathname: '/userlogin',\n          state: { from: props.location }\n        }} />\n  )} />\n);\n\nfunction logOut() {\n    let body = document.querySelector('body');\n    body.classList.add('logOut');\n}\n\nconst AuthButton = withRouter(({ history }) => (\n  fakeAuthCentralState.isAuthenticated ? (\n      <a href=\"/logout\" onClick={() => {\n        fakeAuthCentralState.signout(() => history.push('/'));\n      }}>Log Out</a>\n  ) : (\n    <a href=\"/userlogin\">Log In</a>\n  )\n));\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\" style={{ width: \"100%\", height: \"100%\" }}>\n        <BrowserRouter>\n          <div>\n            <Route path=\"/\" exact component={withRouter(Login)}/>\n            <ProtectedRoute path='/protecteddata-realtime' component={ProtectedWrappedRealTime} />\n            <Route path=\"/userlogin\" component={withRouter(Login)}/>\n            <Route path=\"/logout\" component={withRouter(LogOut)}/>      \n          </div>\n      </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}