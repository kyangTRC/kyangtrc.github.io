{"version":3,"sources":["trc/Basic.js","trc/BasicPost.js","trc/reactleaflet/context.js","trc/reactleaflet/MapControl.js","trc/reactleaflet/AttributionControl.js","trc/reactleaflet/MapEvented.js","trc/reactleaflet/MapComponent.js","trc/reactleaflet/MapLayer.js","trc/reactleaflet/Path.js","trc/reactleaflet/utils/pick.js","trc/reactleaflet/utils/updateClassName.js","trc/reactleaflet/Circle.js","trc/reactleaflet/CircleMarker.js","trc/reactleaflet/DivOverlay.js","trc/reactleaflet/GeoJSON.js","trc/reactleaflet/FeatureGroup.js","trc/reactleaflet/GridLayer.js","trc/reactleaflet/LayersControl.js","trc/reactleaflet/ImageOverlay.js","trc/reactleaflet/LayerGroup.js","trc/reactleaflet/utils/omit.js","trc/reactleaflet/Map.js","trc/reactleaflet/Marker.js","trc/reactleaflet/Pane.js","trc/reactleaflet/Popup.js","trc/reactleaflet/Polygon.js","trc/reactleaflet/Polyline.js","trc/reactleaflet/Rectangle.js","trc/reactleaflet/ScaleControl.js","trc/reactleaflet/TileLayer.js","trc/reactleaflet/Tooltip.js","trc/reactleaflet/VideoOverlay.js","trc/reactleaflet/WMSTileLayer.js","trc/reactleaflet/ZoomControl.js","trc/Map.js","trc/Upload.js","trc/RealTimeData.js","trc/RealTime.js","App.js","registerServiceWorker.js","index.js"],"names":["download","params","content","fileName","length","blobObject","b64Data","contentType","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","Blob","type","b64toBlob","window","navigator","msSaveOrOpenBlob","downloadLink","document","createElement","href","URL","createObjectURL","body","appendChild","click","removeChild","minRowHeight","currentRowHeight","_data","t_account_user","sLoginRequest","console","log","demoCandy","QUERY_FIELDS","demoUrl","getImageAvailable","React","Component","BasicPost","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onGridReady","message","success","gridApi","api","gridColumnApi","columnApi","sizeColumnsToFit","ajaxCall","parseDemo","bind","assertThisInitialized","state","error","isLoaded","rowData","imageAvailablePercentage","totalPrice","processed","getRowHeight","rowGroupPanelShow","defaultExportParams","suppressTextAsCDATA","columnDefs","defaultColDef","sortable","resizable","filter","minWidth","excelStyles","id","interior","color","pattern","borders","borderLeft","lineStyle","weight","borderRight","borderBottom","borderTop","Date","getDay","gridHeight","getElementsByClassName","offsetHeight","getRenderedNodes","resetRowHeights","url","callback","arguments","undefined","hasProperty","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","open","send","data","FormData","append","xhr","withCredentials","addEventListener","setRequestHeader","arr","_sign","_arr","_col","imageCount","percentage","imageAvailableCount","priceInfo","map","location_id","property_id","PROPERTY_DATA_REPORTS_URL","PROPERTY_TRANSACTION_DETAILS_URL","imageInfo","keys","headerName","field","cellRenderer","value","replace","toFixed","setState","xmlorjson","_t","JSON","parse","responseText","__arr","removeSign","Row","exportDataAsCsv","skipHeader","columnGroups","exportDataAsExcel","getDataAsExcel","workbook","XLSX","bookType","print","price_rows","react_default","a","style","width","height","className","onClick","onBtExportNew","onBtPrint","onCsvExport","icon","main","enableRangeSelection","animateRows","groupUseEntireRow","groupDefaultExpanded","autoGroupColumnDef","groupSuppressAutoColumn","onGridSizeChanged","title","leafletContext","createContext","LeafletConsumer","Consumer","LeafletProvider","Provider","withLeaflet","WrappedComponent","WithLeafletComponent","ref","leaflet","assign","name","displayName","concat","LeafletComponent","forwardRef","hoistNonReactStatics","MapControl","leafletElement","createLeafletElement","_props","Error","fromProps","toProps","position","setPosition","addTo","prevProps","updateLeafletElement","remove","Control","Attribution","EVENTS_RE","MapEvented","_leafletEvents","extractLeafletEvents","bindLeafletEvents","_prevProps","_this2","el","forEach","ev","off","reduce","res","prop","test","match","p","toLowerCase","next","prev","on","diff","objectSpread","fire","MapComponent","pane","MapLayer","_fromProps","_toProps","get","prototype","layerContainer","addLayer","attribution","attributionControl","removeAttribution","addAttribution","removeLayer","children","contextValue","react","OPTIONS","Path","popupContainer","setStyleIfChanged","object","obj","key","options","setStyle","nextStyle","getPathOptions","isEqual","splitClassName","center","radius","objectWithoutProperties","LeafletCircle","getOptions","setLatLng","setRadius","LeafletCircleMarker","split","Boolean","addClassName","container","cls","DomUtil","addClass","removeClassName","removeClass","updateClassName","prevClassName","nextClassName","DivOverlay","onClose","onOpen","forceUpdate","_container","isOpen","update","onRender","_contentNode","createPortal","LeafletFeatureGroup","FeatureGroup","LeafletGeoJSON","GridLayer","LeafletGridLayer","opacity","zIndex","setOpacity","setZIndex","maxZoom","minZoom","ControlledLayer","LeafletImageOverlay","bounds","setUrl","setBounds","latLngBounds","LeafletLayerGroup","_Component","apply","inherits","createClass","_ref","checked","layer","removeLayerControl","BaseLayer","_this$props","addBaseLayer","Overlay","_this2$props","addOverlay","LayersControlExport","LayersControl","_this3","controlProps","Layers","collapsed","collapse","expand","_this4","setTimeout","_this5","Children","child","cloneElement","omit","_len","keysToOmit","_key","acc","indexOf","OTHER_PROPS","normalizeCenter","pos","isArray","lat","lon","lng","Map","viewport","zoom","_ready","_updating","onViewportChange","getCenter","getZoom","onViewportChanged","bindContainer","LeafletMap","boundsOptions","boxZoom","doubleClickZoom","dragging","keyboard","maxBounds","scrollWheelZoom","tap","touchZoom","useFlyTo","c","z","flyTo","getZoomPanOptions","setView","shouldUpdateCenter","setZoom","shouldUpdateBounds","setMaxBounds","flyToBounds","getFitBoundsOptions","fitBounds","enable","disable","animate","duration","easeLinearity","noMoveStart","zoomPanOptions","whenReady","preferCanvas","_initEvents","_stop","equals","LeafletMarker","setIcon","zIndexOffset","setZIndexOffset","draggable","idCounter","LEAFLET_PANES","PANE_RE","paneStyles","top","right","bottom","left","Popup","context","getPane","createPane","removePane","isDefault","isLeafletPane","getParentPane","warning","_panes","_paneRenderers","LeafletPolygon","positions","setLatLngs","LeafletPolyline","onPopupOpen","popup","onPopupClose","_ref2","autoPan","_map","_panAnim","_adjustPan","LeafletPopup","_this$props$leaflet","popupopen","popupclose","bindPopup","openOn","defaultProps","LeafletRectangle","Scale","LeafletTileLayer","TileLayer","Tooltip","onTooltipOpen","tooltip","onTooltipClose","LeafletTooltip","tooltipopen","tooltipclose","bindTooltip","unbindTooltip","LeafletVideoOverlay","VideoOverlay","play","getElement","pause","WMS","WMSTileLayer","prevUrl","prevParams","setParams","superOptions","Zoom","geoJSON","feature","theColor","theFillColor","properties","MAIL_ZIP","MAIL_CITY","MAIL_STATE","PROP_ADDR","COUNTY_NAME","PARCEL_APN","fillOpacity","fillColor","Map_Map","reactleaflet_TileLayer","reactleaflet_GeoJSON","P3_Data","geoJSONStyle","onEachFeature","P3_Data_Route","geoJSONStyleRoute","require","Uppy","Tus","GoogleDrive","DragDrop","Dashboard","DashboardModal","ProgressBar","Option","AutoComplete","OptGroup","group","label","float","target","rel","opt","disabled","Upload","showInlineDashboard","uploaded","showMap","uppy","autoProceed","debug","restrictions","maxFileSize","maxNumberOfFiles","minNumberOfFiles","use","endpoint","companionUrl","uppy2","handleModalClick","result","successful","failed","close","_this$state","theMap","theUploadArea","plugins","locale","strings","chooseFile","orDragDrop","hideAfterFinish","Map_geoJSON","theButton","auto_complete","dropdownClassName","dropdownMatchSelectWidth","dropdownStyle","size","dataSource","placeholder","optionLabelProp","input","suffix","RealTimeData","emptyRoute","coordinates","iconStyle","fontSize","RealTime_OptGroup","RealTime_Option","RealTime","showData","datavisible","showHideDrawer","visible","handleSubmit","e","preventDefault","form","validateFields","err","values","handleUpload","file","onSuccess","normFile","fileList","getProjectName","beforeUploadWKTParser","reader","FileReader","DataRoute","onload","routeData","readAsText","token_valid","getFieldDecorator","realTimeData","formData","es_form","Item","rules","required","es_select","mode","iframe","display","initialValue","input_number","min","max","wrapperCol","span","es_button","htmlType","trc_RealTimeData","labelCol","onSubmit","hasFeedback","onChange","WrappedRealTime","Form","create","IS_TESTING","TESTING_USERS","username","email","password","POSSIBLE_TEST_COMBO","t","fakeAuthCentralState","isAuthenticated","localStorage","getItem","testUserId","authenticate","signout","TrcBanner","contentEditable","expandMenu","querySelector","classList","toggle","LogOut","isTesting","Header","AuthButton","ProtectedUserPost","App_Header","trc_BasicPost","ProtectedUpload","trc_Upload","ProtectedMap","ProtectedWrappedRealTime","Login","handleInputChange","event","setItem","defineProperty","login","TEST_COMBO","tempname","temppass","index","redirectToReferrer","removeItem","_React$createElement","from","location","pathname","history","for","ProtectedRoute","component","rest","react_router","render","to","withRouter","_ref3","App","react_router_dom","path","exact","App_ProtectedRoute","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","src_App_0","getElementById","process","origin","fetch","response","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.39545b32.chunk.js","sourcesContent":["import React from 'react';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-balham.css';\nimport \"ag-grid-enterprise\";\nimport * as XLSX from 'xlsx';\n//import {LicenseManager} from \"ag-grid-enterprise/main\";\n//LicenseManager.setLicenseKey(\"S&B_Admin_Services_MultiApp_4Devs15_June_2019__MTU2MDU1MzIwMDAwMA==cc18a13e606c6b48fed932a64c83907a\");\n\nfunction genLink(v){\n return Math.floor(Math.random() * v) + 1 \n} \n\nfunction b64toBlob(b64Data,contentType) {\n  var sliceSize = 512;\n  var byteCharacters = atob(b64Data);\n  var byteArrays = [];\n  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    var slice = byteCharacters.slice(offset,offset + sliceSize);\n    var byteNumbers = new Array(slice.length);\n    for (var i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n    var byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n  var blob = new Blob(byteArrays,{ type: contentType });\n  return blob;\n}\n\nfunction download(params,content) {\n  var fileNamePresent = params && params.fileName && params.fileName.length !== 0;\n  var fileName = fileNamePresent ? params.fileName : \"trc_parcel_Data-NYSERDA_Multifamily.xlsx\";\n  var blobObject = b64toBlob(content,\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blobObject,fileName);\n  } else {\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.href = URL.createObjectURL(blobObject);\n    downloadLink.download = fileName;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\n\nconst dataLink = \"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/data\";\n\nlet minRowHeight = 25;\nlet currentRowHeight = minRowHeight;\n\nlet _data = [];\n// let columnDefs = Object.keys(_data[0]).map((i)=>{\n//             return {headerName: i,field: i,filter: \"agTextColumnFilter\"}\n//         });\nlet columnDefs = [];\n\n\n/* STEP 1 -- FETCH SIK -- */\nconst account_user = [\"TRCSolutions\",\"ActUser\"];\n\nconst t_account_user = [\"CRESALES\",\"TRCTEST\"];\n//note http or https here\nlet sLoginRequest = \"//parcelstream.com/admin/getSIK.aspx?ACCOUNT=\" + t_account_user[0] + \"&LOGIN=\" + t_account_user[1];\nconsole.log('------step1: SIK url-------');\nconsole.log(sLoginRequest);\n//sample wkt for testing\nconst wkt1 = \"LINESTRING (-95.9621226483684 36.066442984799,-95.9630934684588 36.0657434232634,-95.9630934684588 36.0641015951692,-95.9621226483684 36.0641015951692,-95.9621226483684 36.0611463046)\";\n\nconst wkt2 = \"LINESTRING (-103.1096009 31.2769897,-103.1092908 31.2765736,-103.1076532 31.2774741,-103.1056718 31.2784913,-103.0938222 31.2789744,-103.0914563 31.2789636,-103.0753606 31.2737632,-103.075301 31.2728564,-103.0682859 31.2712042,-103.0672612 31.2711018,-103.0657588 31.2702005,-103.0632747 31.2697876,-103.0605646 31.2696393,-103.0543035 31.2685536,-103.0472116 31.2672649,-103.039892 31.2653468,-103.0372597 31.2644719,-103.0349208 31.264074,-103.0331718 31.2636361,-103.0267821 31.2622371,-103.0179161 31.2608445,-103.0084485 31.2595426,-102.9974336 31.2580747,-102.9847674 31.2556142,-102.974231 31.2535978,-102.965657 31.2520091,-102.9587656 31.2506658,-102.9434985 31.2478329,-102.9351329 31.2462622,-102.9321134 31.2452354,-102.9265157 31.2442379,-102.9158468 31.2423402,-102.9010741 31.239616,-102.8916908 31.237881,-102.8829731 31.2363683,-102.8825386 31.235956,-102.8658963 31.2330367,-102.8570393 31.2304367,-102.853745 31.2295414,-102.8529846 31.2296068,-102.8521499 31.2296785,-102.8375638 31.2248896,-102.8352975 31.2244173,-102.8350179 31.2243192,-102.8320619 31.2232975,-102.8289028 31.2221614,-102.8223331 31.2200846,-102.8147821 31.218128,-102.8099154 31.2168111,-102.8047199 31.2154551,-102.8036078 31.2141898,-102.7938632 31.2108521,-102.7851065 31.2045627,-102.7842709 31.2053735,-102.7620928 31.2004352,-102.7614043 31.1999941,-102.7356253 31.1922074,-102.7134368 31.1858633,-102.6905012 31.1793004,-102.6662222 31.1723476,-102.6403505 31.1649324,-102.6033247 31.154291,-102.5688436 31.1449222,-102.555017 31.1411647,-102.5393634 31.1372141,-102.5213604 31.1332218,-102.4772542 31.1241134,-102.4496911 31.119301,-102.4220405 31.1164408,-102.41569 31.116135,-102.3934497 31.1143148,-102.3768504 31.117011,-102.3527952 31.1226849,-102.3309572 31.1308071,-102.2514472 31.1456294,-102.245744 31.1487983,-102.2345531 31.1603096)\";\n\nconst wkt_full = \"LINESTRING(-103.10960094 31.27698966, -103.10929081 31.2765736, -103.10765317 31.27747406, -103.1056718 31.2784913, -103.09382216 31.27897443, -103.09145633 31.27896359, -103.07536064 31.27376319, -103.07530098 31.27285636, -103.06828585 31.27120417, -103.06726116 31.27110184, -103.06575875 31.2702005, -103.06327467 31.26978757, -103.06056455 31.26963931, -103.05430354 31.2685536, -103.04721159 31.26726494, -103.03989203 31.26534677, -103.03725972 31.26447193, -103.03492083 31.26407403, -103.03317181 31.2636361, -103.02678212 31.26223714, -103.01791615 31.26084451, -103.00844851 31.25954258, -102.99743365 31.25807471, -102.98476735 31.2556142, -102.97423098 31.25359784, -102.96565699 31.25200906, -102.95876558 31.25066582, -102.94349851 31.24783289, -102.93513291 31.24626219, -102.9321134 31.24523536, -102.92651573 31.24423787, -102.91584678 31.2423402, -102.90107408 31.23961601, -102.89169075 31.23788102, -102.88297308 31.23636825, -102.88253858 31.23595602, -102.86589625 31.2330367, -102.85703934 31.23043672, -102.85374504 31.2295414, -102.85298456 31.22960678, -102.85214994 31.22967852, -102.83756376 31.22488959, -102.83529755 31.22441733, -102.83501786 31.2243192, -102.83206189 31.22329748, -102.82890282 31.22216138, -102.82233312 31.22008462, -102.81478212 31.21812803, -102.80991536 31.21681105, -102.80471987 31.21545514, -102.8036078 31.21418981, -102.79386316 31.21085211, -102.78510654 31.20456266, -102.78427091 31.20537348, -102.7620928 31.20043519, -102.76140433 31.19999412, -102.73562531 31.19220738, -102.7134368 31.18586325, -102.69050116 31.17930045, -102.66622217 31.17234763, -102.6403505 31.16493237, -102.60332469 31.15429095, -102.5688436 31.14492219, -102.555017 31.14116472, -102.5393634 31.13721411, -102.52136037 31.13322176, -102.47725423 31.12411338, -102.44969109 31.11930099, -102.42204045 31.11644076, -102.41569001 31.11613498, -102.39344972 31.11431485, -102.37685035 31.11701097, -102.35279522 31.12268491, -102.33095718 31.13080715, -102.2514472 31.14562944, -102.24574405 31.14879831, -102.23455311 31.16030961, -102.23342255 31.16017736, -102.2306959 31.15955518, -102.22575148 31.15801725, -102.21236994 31.15389607, -102.20535338 31.15180238, -102.19347262 31.14839508, -102.18480875 31.14532377, -102.10888841 31.14202018, -102.08892399 31.13829284, -102.06360849 31.13963561, -102.05941723 31.13906973, -102.04770179 31.14206571, -102.02813572 31.1471036, -102.01263749 31.15102886, -102.00401492 31.15318067, -102.00324038 31.15337471, -102.00088939 31.1539564, -102.00002378 31.15417033, -101.98718559 31.15734235, -101.98330782 31.158283, -101.97163417 31.16110714, -101.96180501 31.16347177, -101.94857559 31.167042, -101.945226 31.16795262, -101.93509309 31.17168235, -101.91794317 31.17805245, -101.91287028 31.17992031, -101.89516068 31.18439804, -101.89251884 31.18468956, -101.88910801 31.18506587, -101.88742656 31.18525177, -101.87947168 31.19167135, -101.86788039 31.19187344, -101.83936716 31.20362454, -101.80186457 31.20407556, -101.78793545 31.20670418, -101.73574114 31.20502, -101.70861574 31.2041161, -101.69002177 31.20403837, -101.68180912 31.20940343, -101.66894677 31.21130612, -101.65221339 31.21147757, -101.62516748 31.2231631, -101.61272806 31.22274501, -101.60490516 31.22094097, -101.6048181 31.22092089, -101.60366101 31.22229941, -101.58101956 31.22340192, -101.55217377 31.22568192, -101.55216003 31.22569076, -101.53305496 31.23796761, -101.50818613 31.24454635, -101.50206597 31.24848936, -101.48469432 31.25322626, -101.47551764 31.25732773, -101.47547726 31.25738483, -101.42310539 31.26427326, -101.38227511 31.26389968, -101.34435014 31.27650701, -101.32014634 31.2760011, -101.30875982 31.2833147, -101.26613776 31.28344267, -101.24703248 31.27547237, -101.21320172 31.27510775, -101.18920729 31.2719913, -101.1489405 31.27128045, -101.14577786 31.27009667, -100.9798812 31.26837659, -100.87275861 31.27150737, -100.85794348 31.27249045, -100.81990291 31.27927152, -100.80360753 31.28159169, -100.79635915 31.28483434, -100.62330767 31.28954209, -100.59994963 31.28971148, -100.59985936 31.28970276, -100.54048735 31.28397026, -100.4928502 31.28301947, -100.47374015 31.28964264, -100.45838882 31.28869362, -100.45707793 31.2883206, -100.43834085 31.28725267, -100.42511093 31.28712991, -100.42319696 31.28818517, -100.4097993 31.28794895, -100.40038964 31.28897203, -100.36677036 31.28887042, -100.2908494 31.28663153, -100.24331803 31.28581745, -100.22290235 31.28540068, -100.14003399 31.28370897, -100.09628265 31.28236743, -100.08721899 31.28540633, -100.03868694 31.28520137, -100.03749048 31.28605067, -99.99509733 31.28544112, -99.96905196 31.28545418, -99.93577934 31.29381842, -99.80833474 31.29597191, -99.80234733 31.30066499, -99.7369003 31.30072718, -99.70377358 31.30071518, -99.6812809 31.30406785, -99.64318224 31.30405862, -99.64307497 31.30481937, -99.61701293 31.31067035, -99.59061365 31.30981684, -99.51188207 31.31595465, -99.49449634 31.32423469, -99.46417838 31.32380968, -99.4641102 31.32453519, -99.41250114 31.32930057, -99.40874601 31.3291236, -99.37621512 31.3307892, -99.27338839 31.33010966, -99.25334164 31.33247502, -99.20679397 31.34389522, -99.19084981 31.34368635, -99.18997288 31.34314912, -99.17686468 31.34305502, -99.17604585 31.34282572, -99.15995333 31.34460411, -99.1374128 31.34385788, -99.11954855 31.34479894, -99.0999594 31.34464164, -99.04869084 31.34983836, -99.03074249 31.34841183, -99.02542007 31.34916485, -98.99927617 31.34914464, -98.98931361 31.34933991, -98.97721411 31.34922259, -98.97567323 31.34855768, -98.96548902 31.35023644, -98.94645083 31.3514648, -98.9455097 31.35157959, -98.90858568 31.36336326, -98.89907421 31.36313922, -98.8971867 31.3629737, -98.88603156 31.36454985, -98.8538684 31.36771623, -98.82413886 31.36802085, -98.80648551 31.36803503, -98.78952838 31.36831794, -98.76078904 31.36774903, -98.74279262 31.36765266, -98.71341358 31.36767145, -98.68408518 31.37066508, -98.66433876 31.37308616, -98.66312244 31.37264409, -98.65286446 31.37489887, -98.63670766 31.37505218, -98.62268174 31.37555808, -98.60555225 31.37653082, -98.56582481 31.37672101, -98.55016533 31.37167393, -98.53061788 31.37186961, -98.52375996 31.37091928, -98.52291009 31.37098534, -98.5118335 31.37356513, -98.50469637 31.37380475, -98.48842613 31.37301053, -98.48295848 31.37449975, -98.45779315 31.37495952, -98.42854098 31.36912554, -98.40997068 31.37016657, -98.38051851 31.3690975, -98.34715079 31.36846025, -98.30021154 31.36039681, -98.27928168 31.36629529, -98.177359 31.36237978, -98.17580175 31.36236932, -98.16102961 31.36490874, -98.12359886 31.36387688, -98.09513097 31.36081067, -98.06513948 31.36579465, -98.06391829 31.36537284, -98.02472954 31.36501578, -97.98553874 31.36782122, -97.98540036 31.36822718, -97.97484576 31.36900685, -97.96548426 31.37056502, -97.94065894 31.36340565, -97.93151207 31.36921107, -97.90113934 31.38009582, -97.88329508 31.38493139, -97.85431152 31.39730002, -97.85410418 31.39795057, -97.84447335 31.40581409, -97.82673589 31.41230104, -97.8141784 31.41304599, -97.77619479 31.40296588, -97.74673597 31.39452021, -97.73668618 31.39832116, -97.72814735 31.40394376, -97.72420239 31.40551426, -97.70989632 31.40482588, -97.7090557 31.40498628, -97.70037681 31.4050227, -97.68986916 31.41288967, -97.65417832 31.40416072, -97.63499292 31.40098533, -97.61673193 31.39576907, -97.61620517 31.39579548, -97.61247263 31.39417534, -97.60504647 31.39333785, -97.60453906 31.3929646, -97.59938497 31.39296005, -97.59537032 31.39290431, -97.59292373 31.39246905, -97.590442 31.39245105, -97.58695428 31.39284654, -97.57041252 31.39266897, -97.54723017 31.3860729, -97.53898401 31.38689673, -97.53816528 31.38735104, -97.51139792 31.37910048, -97.48925494 31.38037766, -97.45992605 31.37553052, -97.45237718 31.37580981, -97.43760362 31.37190857, -97.41654309 31.37534693, -97.38306676 31.37606384, -97.36324057 31.37569878, -97.33889252 31.36896136, -97.33195391 31.36537344, -97.32251903 31.36579012, -97.32056364 31.36298748, -97.31449404 31.36086257, -97.30985881 31.36089408, -97.30354027 31.35820425, -97.30010087 31.35803846, -97.2968204 31.35618429, -97.28169504 31.35419345, -97.25898088 31.35324219, -97.25883968 31.35306104, -97.25222135 31.35139183, -97.25112874 31.35196867, -97.24665188 31.35101773, -97.23244535 31.35761513, -97.22252594 31.35944985, -97.21695835 31.35864028, -97.2111271 31.35587875, -97.19583605 31.35269315, -97.18714135 31.35253257, -97.17688757 31.3463127, -97.15496854 31.33586908, -97.14333108 31.33689072, -97.13674822 31.33622544, -97.12697909 31.33421876, -97.09459914 31.32925372, -97.06478929 31.32884355, -97.06384301 31.32923562, -97.02467627 31.33189356, -96.98061939 31.32000919, -96.92917795 31.33946922, -96.9091685 31.33920863, -96.89266758 31.33713412, -96.89092171 31.33760742, -96.86355014 31.33252137, -96.85736266 31.32300495, -96.84168345 31.31495733, -96.83770115 31.30902379, -96.83421897 31.30912635, -96.82857148 31.30805461, -96.76913541 31.29622435, -96.75192239 31.2831096, -96.73102136 31.28188626, -96.73068698 31.2814339, -96.72078315 31.27839383, -96.68115032 31.28063114, -96.68080259 31.28009608, -96.66339186 31.27996884, -96.647744 31.27698803, -96.64760147 31.27680786, -96.63282237 31.27520518, -96.58121723 31.26874959, -96.57307926 31.25643521, -96.51957812 31.25373609, -96.49413446 31.25391466, -96.48240774 31.2597905, -96.46166877 31.2761582, -96.46163794 31.27678665, -96.44070472 31.27441256, -96.42856903 31.28030162, -96.417508 31.27599759, -96.41035595 31.27612169, -96.40090982 31.27928757, -96.38202631 31.27850618, -96.38055065 31.27328948, -96.37957901 31.27299289, -96.37224177 31.26736274, -96.36633597 31.26090268, -96.36562321 31.25951914, -96.35839133 31.25606723, -96.35419588 31.25187383, -96.34046671 31.24561345, -96.33046046 31.24402404, -96.30067942 31.23191091, -96.2865751 31.22693474, -96.25515107 31.21923023, -96.24493777 31.21387703, -96.23973158 31.21327604, -96.21498308 31.20044646, -96.21021039 31.19660109, -96.19426717 31.18878169, -96.18051309 31.17918992, -96.17115486 31.17005777, -96.15836791 31.16324756, -96.15075756 31.15920139, -96.13998528 31.15283657, -96.1330455 31.14439659, -96.12270606 31.13952176, -96.1212851 31.1397749, -96.11469359 31.13726523, -96.10865587 31.13325453, -96.08727527 31.12690178, -96.07488348 31.11795587, -96.07284182 31.11829743, -96.04876807 31.11007218, -96.03475909 31.10726528, -96.02348774 31.10274722, -96.00844661 31.09751932, -96.00136108 31.09222434, -96.00036562 31.09206274, -95.99000643 31.08516693, -95.97298225 31.08076721, -95.96850542 31.08060723, -95.95597461 31.07516083, -95.94600521 31.07506987, -95.94081998 31.06686674, -95.93119518 31.06212401, -95.92519641 31.05915807, -95.92458901 31.05911582, -95.90322668 31.04692899, -95.88787286 31.042943, -95.88224939 31.03897573, -95.86614882 31.03355865, -95.76505286 30.97576121, -95.72181803 30.94707708, -95.721326 30.9464829, -95.71491404 30.9442459, -95.69405002 30.93024814, -95.68751067 30.93005775, -95.67458231 30.9245083, -95.64473483 30.91450072, -95.61905306 30.90501745, -95.61776281 30.9039818, -95.58578127 30.88516388, -95.55138924 30.86507881, -95.55066701 30.86439281, -95.5224697 30.85128858, -95.52222802 30.85064685, -95.48728819 30.84362158, -95.46604976 30.83938173, -95.46402067 30.83822462, -95.46235439 30.83503969, -95.45778458 30.83455795, -95.45403559 30.8302367, -95.45332242 30.82682414, -95.45146644 30.82377139, -95.45063999 30.82286737, -95.44988958 30.8224436, -95.44866718 30.82257119, -95.44100798 30.81899419, -95.43981822 30.81899414, -95.43882884 30.81871556, -95.43542529 30.81740503, -95.42331535 30.80901409, -95.41958156 30.80906679, -95.41877365 30.80866933, -95.41867112 30.80413923, -95.40363153 30.7938526, -95.3982065 30.7883248, -95.39703902 30.78828426, -95.39268641 30.78546462, -95.3818731 30.77944263, -95.37314542 30.77284336, -95.37218468 30.77136609, -95.37354038 30.76737842, -95.37384454 30.76392702, -95.37005486 30.75952255, -95.36715775 30.75841665, -95.36656726 30.75712375, -95.36318242 30.75546522, -95.36139908 30.75343876, -95.35705133 30.75240025, -95.34866397 30.74827213, -95.34156608 30.74046343, -95.33919183 30.73521409, -95.33232501 30.72804426, -95.32912429 30.72605746, -95.32643948 30.72521762, -95.31674809 30.71945284, -95.31227225 30.7152013, -95.30308317 30.71105512, -95.29692038 30.70477698, -95.29081664 30.69810404, -95.28241506 30.69053809, -95.26688967 30.67645393, -95.26305826 30.67460765, -95.26303371 30.67393124, -95.25349081 30.66931019, -95.25156603 30.66780001, -95.24952023 30.66720062, -95.23722467 30.6613434, -95.2268908 30.65484906, -95.21255131 30.64651533, -95.21109804 30.64512962, -95.20902533 30.64438441, -95.20569076 30.64237421, -95.1991361 30.63781377, -95.19025572 30.63177697, -95.18878108 30.63173418, -95.17493366 30.62815611, -95.1725192 30.62822937, -95.1641728 30.62718697, -95.16087074 30.62672457, -95.15274686 30.62547817, -95.1496772 30.62433654, -95.14055843 30.62110088, -95.13886691 30.62090664, -95.13506945 30.61977736, -95.13438437 30.61907609, -95.13388933 30.61747933, -95.13100144 30.61311089, -95.1257031 30.60908884, -95.12488881 30.60685326, -95.12134394 30.60365701, -95.11723774 30.60242648, -95.1125766 30.59865636, -95.10740257 30.59376638, -95.10790381 30.59093815, -95.11021655 30.58782193, -95.11102051 30.58170726, -95.10381266 30.57645687, -95.10046469 30.57434504, -95.09202457 30.56919427, -95.09061282 30.56780853, -95.08789757 30.56628755, -95.07746951 30.55292997, -95.05754506 30.55124444, -95.04749322 30.54470357, -95.0108357 30.52734486, -95.01017999 30.52774903, -94.98227234 30.5238157, -94.98019771 30.52254758, -94.95682139 30.51823937, -94.95590956 30.5132729, -94.95573267 30.50434259, -94.95563017 30.49703315, -94.95414477 30.49412367, -94.95307374 30.49137591, -94.95301307 30.48952624, -94.94988819 30.48828928, -94.92884472 30.46716236, -94.91610158 30.46086944, -94.9001853 30.45580396, -94.86847644 30.44058266, -94.86769984 30.439479, -94.85262524 30.42937171, -94.81490382 30.41510914, -94.80727459 30.41462641, -94.79798418 30.40547011, -94.78058475 30.38888531, -94.77770009 30.38075031, -94.76731848 30.37184848, -94.75924636 30.36490247, -94.75830216 30.364891, -94.75078467 30.36105034, -94.74725026 30.35298376, -94.71605792 30.33535343, -94.7018626 30.32507358, -94.6927958 30.31747132, -94.68358064 30.30835224, -94.66643688 30.29244333, -94.64358357 30.2670377, -94.63882251 30.25571538, -94.63872665 30.24987808, -94.62652611 30.24251723, -94.6200473 30.24223706, -94.61707051 30.24297531, -94.61383465 30.24298378, -94.60769359 30.24184789, -94.60441437 30.24187666, -94.58477759 30.22899372, -94.53230465 30.18496491, -94.5052717 30.14221231, -94.48962337 30.1271957, -94.47258594 30.12043866, -94.4588518 30.11505964, -94.44664998 30.11024955, -94.42741085 30.10261038, -94.40788235 30.09487132, -94.39635964 30.09033645, -94.37053122 30.08011413, -94.36553782 30.08019686, -94.33709832 30.07764183, -94.32980131 30.07667814, -94.3283542 30.0741106, -94.31255011 30.07173775, -94.29684712 30.06419838, -94.29121685 30.06427925, -94.26203619 30.05983157, -94.25867577 30.05764076, -94.25600853 30.05623545, -94.25598374 30.05278747, -94.25458094 30.05053865, -94.25459251 30.05027908, -94.25049756 30.04812783, -94.24095025 30.04797129, -94.23564024 30.04492408, -94.21919609 30.03501901, -94.20664626 30.02761028, -94.19129266 30.01884135, -94.18531384 30.01996023, -94.17610108 30.02120706, -94.17004536 30.02169152, -94.16401224 30.01714025, -94.1517033 30.00240119, -94.14480133 30.00221129, -94.1286454 29.99838781, -94.10396006 29.98904352, -94.06814531 29.98949835)\";\n/* STEP 2 -- EXTRACT CANDY AND DATA CENTER -- */\n////////////////////////////////////////////////\nconst demoCandy = \"xINBuuymZ0px5mpsdeJucGwtuSxFQa9xZitKYQ~~\";\nconst QUERY_FIELDS = \"_DMP_ID, PROP_ADDRESS, SITE_CITY, SITE_STATE,SITE_ZIP,COUNTY,APN,LOCATION_ID,owner_name_1, mail_addr, mail_state, mail_city, mail_zip\";\nconst demoUrl = `//dc1.parcelstream.com/getQuery.aspx?datasource=SS.Prop.ParcelDetail/ParcelDetail&inclusiongeometries=`+ wkt1+`&SS_Candy=`+demoCandy+`&fields=`+QUERY_FIELDS;\nconsole.log('------step2:getQuery url-------');\nconst demoUrlPOST = `//dc1.parcelstream.com/getQuery.aspx`;\n/* STEP 3 -- ACCESS PARCEL DETAILS -- */\n////////////////////////////////////////////////\nlet rowDataParsed = [];\n\n/* STEP 4 -- ACCESS DOCUMENT IMAGES -- */\nconst getImageAvailable =  \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?\";\nconst purchaseImage = \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesRequest.ashx?\";\n/*city=Tukwila&county=King&state=WA&ZIP=98188&code=SDX&deliveryMethod=FTP&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&APN=537920-0065&locId=US_53_033_5379200065&callback=https%3A%2F%2Fapps.spatialstream.com%2FAppUtils%2FDocument%2520Images%2FDocumentImagesDownloadDemo.ashx&requestedDocs=[{\"DocumentType\":\"Other\",\"DocumentTypeOtherDescription\":\"Deed Transfer\",\"InstrumentNumberIdentifier\":\"1999.505.0688\",\"InstrumentNumberCMTIdentifier\":\"1223\",\"RecordedDatetimeStr\":\"05/05/1999\"}]&output=JSON&uid=101400_570428348\n*/\n/*\nhttps://apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?city=Tukwila&county=King&state=WA&ZIP=98188&code=THD2&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&apn=537920-0065&address=16028%2051st%20Ave%20S&obsId=json&obsSuccessMethod=success&obsErrorMethod=error\n*/\n\nclass Basic extends React.Component {\n    constructor(props) {\n    super(props);\n    this.parseDemo = this.parseDemo.bind(this);\n   \n    this.state = {\n          error: null,\n          isLoaded: false,\n          rowData: _data,\n          imageAvailablePercentage: 0,\n          totalPrice: 0,\n          getRowHeight: function() {\n            return currentRowHeight;\n          },\n          rowGroupPanelShow: \"always\",\n          defaultExportParams: { suppressTextAsCDATA: true },   \n          columnDefs: null,\n          defaultColDef: {\n            sortable: true,\n            resizable: true,\n            filter: true,\n            minWidth: 150\n          },\n          excelStyles: [\n        {\n          id: \"defaultReport\",\n          interior: {\n            color: \"#ffffff\",\n            pattern: \"Solid\"\n          }\n        },\n        {\n          id: \"borderSolid\",\n          borders: {\n                borderLeft: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderRight: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderBottom: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderTop: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                }\n            }\n          },\n         {\n          id: \"header\",\n          interior: {\n            color: \"#d2d2d2\",\n            pattern: \"Solid\"\n          },\n          borders: {\n                borderLeft: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderRight: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderBottom: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderTop: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                }\n            }\n          }\n        ]\n\n        };\n    }\n  componentDidMount() {\n        \n   }\n\n  onGridReady = params => {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n    minRowHeight = 25;\n    currentRowHeight = minRowHeight;\n    params.api.sizeColumnsToFit();\n\n    ////////////local data test//////////////\n    //let datasource = dataLink + genLink(25) + \".json\";    \n    // fetch(demoUrl)\n    //    .then(result => parseDemo(result))\n    //    .then(rowData => this.setState({rowData}));\n\n\n    ///////////test with wkt1 - GET///////////\n    this.ajaxCall(demoUrl,this.parseDemo);\n\n    ///////////test with wkt2 - POST///////////\n    //this.ajaxCallPOST(demoUrlPOST,this.parseDemo);\n  };\n\n  onGridSizeChanged(params) {\n    var gridHeight = document.getElementsByClassName(\"ag-body-viewport\")[0].offsetHeight;\n    var renderedRows = params.api.getRenderedNodes();\n    if (renderedRows.length * minRowHeight >= gridHeight) {\n      if (currentRowHeight !== minRowHeight) {\n        currentRowHeight = minRowHeight;\n        params.api.resetRowHeights();\n      }\n    } else {\n      currentRowHeight = 25 || Math.floor(gridHeight / renderedRows.length);\n      params.api.resetRowHeights();\n    }\n  }\n \n   ajaxCall(url, callback = this.parseDemo) {\n      let xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status == 200) {\n          callback(this);\n        }\n      };\n      xhttp.open(\"GET\",url);\n      //test ajax call with POST\n      xhttp.send();\n    }\n\n    ajaxCallPOST(url, callback) {\n        var data = new FormData();\n        data.append(\"datasource\", \"SS.Prop.ParcelDetail/ParcelDetail\");\n        data.append(\"inclusiongeometries\", wkt2);\n        data.append(\"SS_CANDY\", demoCandy)\n        data.append(\"fields\", QUERY_FIELDS);\n\n        var xhr = new XMLHttpRequest();\n        xhr.withCredentials = true;\n\n        xhr.addEventListener(\"readystatechange\", function () {\n          if (this.readyState === 4 && this.status == 200) {\n            callback(this);\n          }\n        });\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        xhr.send(data);\n    }\n    removeSign(arr) {\n        let _arr = [];\n        let _col = [];\n        //remove $ in data\n        let imageCount = arr.length;\n        let percentage = 0;\n        let imageAvailableCount = 0;\n        let priceInfo = 0;\n        const UNIT_PRICE = 6;\n        if (imageCount > 0){\n            arr.map(function(i){\n            //if there's a missing field,show 'unavailable'\n            let imageInfo = '-';\n            if (i[\"$\"]['SITE_ZIP'] && i[\"$\"]['SITE_CITY'] && i[\"$\"]['SITE_STATE'] && i[\"$\"]['PROP_ADDRESS']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[\"$\"]['_DMP_ID'] + '&city=' + i[\"$\"]['SITE_CITY'] + '&state=' + i[\"$\"]['SITE_STATE'] + '&zip='+ i[\"$\"]['SITE_ZIP'] + '&code=THD2&SS_CANDY=' + demoCandy  + '&address=' + i[\"$\"]['PROP_ADDRESS']+ '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else if (i[\"$\"]['SITE_ZIP'] && i[\"$\"]['COUNTY'] && i[\"$\"]['SITE_STATE'] && i[\"$\"]['APN']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[\"$\"]['_DMP_ID'] + '&code=THD2&SS_CANDY=' + demoCandy + '&apn=' + i[\"$\"]['APN'] + '&county=' + i[\"$\"]['COUNTY'] + '&state=' + i[\"$\"]['SITE_STATE'] + '&zip='+ i[\"$\"]['SITE_ZIP'] + '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else {\n                priceInfo = 0;\n            }\n            i[\"$\"][\"image\"] = imageInfo;\n            i[\"$\"][\"price\"] = priceInfo; //unit price\n            _arr.push(i[\"$\"]);\n        });\n\n        //column header4\n        _col = Object.keys(_arr[0]).map((i)=>{\n             if (i===\"image\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Image Link </a>'\n                }}\n             }\n             return {headerName: i,field: i,filter: \"agTextColumnFilter\"}\n         });\n\n        //update percentage\n        percentage = (imageAvailableCount * 1.0/imageCount * 100).toFixed(2) + '%';\n        this.setState({imageAvailablePercentage: percentage, totalPrice: (imageAvailableCount * UNIT_PRICE).toFixed(2)});\n        }\n        return [_arr,_col];\n    }\n    parseDemo(xml) {\n      let xml2jsString = require('xml2js').parseString;\n      const xmlResponse = xml.responseText;\n      xml2jsString(xmlResponse,function(err,result){\n         \n         if (result.Response.Error) {\n            console.dir(result);\n            console.log(\"loading cache ... use cache if needed\");\n            this.ajaxCall(\"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/cache-full.xml\");\n         }\n         else {\n            let __arr = this.removeSign(result.Response.Results[0].Data[0].Row);\n            this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n         }\n         \n      }.bind(this));\n\n    }\n\n  onCsvExport() {\n    //csv\n    var params = {\n      skipHeader: false,\n      columnGroups: false,\n    };\n    \n    this.gridApi.exportDataAsCsv(params);\n  }\n\n  onBtExport() {\n    //xls format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    \n    this.gridApi.exportDataAsExcel(params);\n  }\n\n  onBtExportNew() {\n      //xlsx format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    var content = this.gridApi.getDataAsExcel(params);\n    var workbook = XLSX.read(content,{ type: \"binary\" });\n    var xlsxContent = XLSX.write(workbook,{\n      bookType: \"xlsx\",\n      type: \"base64\"\n    });\n    download(params,xlsxContent);\n  }\n\n  onBtPrint() {\n      window.print();    \n  }\n\n  render () {\n    let price_rows = this.state.totalPrice;\n    return (\n    <div style={{ width: \"100%\",height:\"680px\" }}>\n    <h3> Image available percentage: <span style={{ color: 'green'}}>{this.state.imageAvailablePercentage}</span> of the data has image document</h3>\n    <h3> Image cost: <span style={{ color: 'green'}}>${price_rows}</span></h3>\n    <div className=\"buttonGroup\"><label className=\"exportButtons\">\n    <button type=\"button\" className=\"btn\" id=\"excelExportNew\" onClick={this.onBtExportNew.bind(this)} >\n    <div>x</div></button><button type=\"button\" className=\"btn\" id=\"pdfExport\" onClick={this.onBtPrint.bind(this)} >PDF</button>\n    <button type=\"button\" className=\"btn\" id=\"csvExport\"  onClick={this.onCsvExport.bind(this)}>CSV</button>\n    <button type=\"button\" className=\"btn\" id=\"printButton\" onClick={this.onBtPrint.bind(this)}></button></label>\n    </div>\n       <div \n        className=\"ag-theme-balham\"\n        style={{ width: \"100%\",height:\"600px\" }}>\n        <h3>Project Name: NYSERDA_Multifamily</h3>\n        <h3>Project Id: 114810.0000.0000</h3>\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          defaultExportParams={this.state.defaultExportParams}\n          rowGroupPanelShow={this.state.rowGroupPanelShow}\n          defaultColDef={this.state.defaultColDef}\n          enableRangeSelection={true}\n          animateRows={true}\n          groupUseEntireRow={true}\n          rowData={this.state.rowData}\n          groupDefaultExpanded={-1}\n          getRowHeight={this.state.getRowHeight}\n          autoGroupColumnDef={this.state.autoGroupColumnDef}\n          groupSuppressAutoColumn={true}\n          excelStyles={this.state.excelStyles}\n          onGridReady={this.onGridReady}\n          onGridSizeChanged={this.onGridSizeChanged.bind(this)}\n          />\n\n        <a download=\"#\" href=\"#\" title=\"all\">\n            Download all, Price: ${price_rows}\n        </a>\n        </div></div>\n        );\n  }\n\n}\n\nexport default Basic;","import React from 'react';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-balham.css';\nimport \"ag-grid-enterprise\";\nimport * as XLSX from 'xlsx';\nimport { Icon, message} from 'antd';\n//import {LicenseManager} from \"ag-grid-enterprise/main\";\n//LicenseManager.setLicenseKey(\"S&B_Admin_Services_MultiApp_4Devs15_June_2019__MTU2MDU1MzIwMDAwMA==cc18a13e606c6b48fed932a64c83907a\");\n\nfunction genLink(v){\n return Math.floor(Math.random() * v) + 1 \n} \n\nfunction b64toBlob(b64Data,contentType) {\n  var sliceSize = 512;\n  var byteCharacters = atob(b64Data);\n  var byteArrays = [];\n  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    var slice = byteCharacters.slice(offset,offset + sliceSize);\n    var byteNumbers = new Array(slice.length);\n    for (var i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n    var byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n  var blob = new Blob(byteArrays,{ type: contentType });\n  return blob;\n}\n\nfunction download(params,content) {\n  var fileNamePresent = params && params.fileName && params.fileName.length !== 0;\n  var fileName = fileNamePresent ? params.fileName : \"trc_parcel_Data-NYSERDA_Multifamily.xlsx\";\n  var blobObject = b64toBlob(content,\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blobObject,fileName);\n  } else {\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.href = URL.createObjectURL(blobObject);\n    downloadLink.download = fileName;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\n\nconst dataLink = \"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/data\";\n////////////////////////////////////////////////\n/* GLOBALS */\n////////////////////////////////////////////////\n\nlet ajaxArrayUrl_Property_Data_Reports = {};\nlet ajaxArrayUrl_Property_Transaction_Details = {};\nlet minRowHeight = 25;\nlet currentRowHeight = minRowHeight;\n\nlet _data = [];\n// let columnDefs = Object.keys(_data[0]).map((i)=>{\n//             return {headerName: i,field: i,filter: \"agTextColumnFilter\"}\n//         });\nlet columnDefs = [];\n////////////////////////////////////////////////\n/* STEP 1 -- FETCH SIK -- */\n////////////////////////////////////////////////\nconst account_user = [\"TRCSolutions\",\"ActUser\"];\n\nconst t_account_user = [\"CRESALES\",\"TRCTEST\"];\n//note http or https here\nlet sLoginRequest = \"//parcelstream.com/admin/getSIK.aspx?ACCOUNT=\" + t_account_user[0] + \"&LOGIN=\" + t_account_user[1];\nconsole.log('------step1: SIK url-------');\nconsole.log(sLoginRequest);\n//sample wkt for testing\nconst wkt1 = \"LINESTRING (-95.9621226483684 36.066442984799,-95.9630934684588 36.0657434232634,-95.9630934684588 36.0641015951692,-95.9621226483684 36.0641015951692,-95.9621226483684 36.0611463046)\";\n\nconst wkt2 = \"LINESTRING (-103.1096009 31.2769897,-103.1092908 31.2765736,-103.1076532 31.2774741,-103.1056718 31.2784913,-103.0938222 31.2789744,-103.0914563 31.2789636,-103.0753606 31.2737632,-103.075301 31.2728564,-103.0682859 31.2712042,-103.0672612 31.2711018,-103.0657588 31.2702005,-103.0632747 31.2697876,-103.0605646 31.2696393,-103.0543035 31.2685536,-103.0472116 31.2672649,-103.039892 31.2653468,-103.0372597 31.2644719,-103.0349208 31.264074,-103.0331718 31.2636361,-103.0267821 31.2622371,-103.0179161 31.2608445,-103.0084485 31.2595426,-102.9974336 31.2580747,-102.9847674 31.2556142,-102.974231 31.2535978,-102.965657 31.2520091,-102.9587656 31.2506658,-102.9434985 31.2478329,-102.9351329 31.2462622,-102.9321134 31.2452354,-102.9265157 31.2442379,-102.9158468 31.2423402,-102.9010741 31.239616,-102.8916908 31.237881,-102.8829731 31.2363683,-102.8825386 31.235956,-102.8658963 31.2330367,-102.8570393 31.2304367,-102.853745 31.2295414,-102.8529846 31.2296068,-102.8521499 31.2296785,-102.8375638 31.2248896,-102.8352975 31.2244173,-102.8350179 31.2243192,-102.8320619 31.2232975,-102.8289028 31.2221614,-102.8223331 31.2200846,-102.8147821 31.218128,-102.8099154 31.2168111,-102.8047199 31.2154551,-102.8036078 31.2141898,-102.7938632 31.2108521,-102.7851065 31.2045627,-102.7842709 31.2053735,-102.7620928 31.2004352,-102.7614043 31.1999941,-102.7356253 31.1922074,-102.7134368 31.1858633,-102.6905012 31.1793004,-102.6662222 31.1723476,-102.6403505 31.1649324,-102.6033247 31.154291,-102.5688436 31.1449222,-102.555017 31.1411647,-102.5393634 31.1372141,-102.5213604 31.1332218,-102.4772542 31.1241134,-102.4496911 31.119301,-102.4220405 31.1164408,-102.41569 31.116135,-102.3934497 31.1143148,-102.3768504 31.117011,-102.3527952 31.1226849,-102.3309572 31.1308071,-102.2514472 31.1456294,-102.245744 31.1487983,-102.2345531 31.1603096)\";\n\n\n////////////////////////////////////////////////\n/* STEP 2 -- EXTRACT CANDY AND DATA CENTER -- */\n////////////////////////////////////////////////\n/*_DMP_ID,PARCEL_DMP_ID, PARCEL_APN, TAXAPN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, ADDR_SCORE,MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS,LEGAL_FULL,LEGAL_SEC_TWP_RNG,VAL_MARKET,ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY,LOCATION_ID, PROPERTY_DMP_ID, PROPERTY_ID*/\nconst demoCandy = \"xINBuuymZ0px5mpsdeJucIVISR8hCK9xzApDUg~~\";\nconst QUERY_FIELDS = \"_DMP_ID, PARCEL_APN, APN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS, VAL_MARKET, ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY, PROPERTY_ID\";\nconst demoUrl = `//dc1.parcelstream.com/getQuery.aspx?datasource=SS.Prop.ParcelDetail/ParcelDetail&inclusiongeometries=`+ wkt1+`&SS_Candy=`+demoCandy+`&fields=`+QUERY_FIELDS;\nconsole.log('------step2:getQuery url-------');\nconst demoUrlPOST = `//dc1.parcelstream.com/getQuery.aspx`;\n/*\nDAILY UPDATED\nconst DAILY = http://dc1.parcelstream.com/_T195/InitSession.aspx?sik=_T99/cefac13f-6682-4732-a30f-df79e86984a8-101400_570474633&output=xml\n*/\n////////////////////////////////////////////////\n/* STEP 3 -- ACCESS PARCEL DETAILS -- */\n////////////////////////////////////////////////\nlet rowDataParsed = [];\n////////////////////////////////////////////////\n/* STEP 4 -- ACCESS DOCUMENT IMAGES -- */\n////////////////////////////////////////////////\nconst getImageAvailable =  \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?\";\nconst purchaseImage = \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesRequest.ashx?\";\n/*city=Tukwila&county=King&state=WA&ZIP=98188&code=SDX&deliveryMethod=FTP&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&APN=537920-0065&locId=US_53_033_5379200065&callback=https%3A%2F%2Fapps.spatialstream.com%2FAppUtils%2FDocument%2520Images%2FDocumentImagesDownloadDemo.ashx&requestedDocs=[{\"DocumentType\":\"Other\",\"DocumentTypeOtherDescription\":\"Deed Transfer\",\"InstrumentNumberIdentifier\":\"1999.505.0688\",\"InstrumentNumberCMTIdentifier\":\"1223\",\"RecordedDatetimeStr\":\"05/05/1999\"}]&output=JSON&uid=101400_570428348\n*/\n/*\nhttps://apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?city=Tukwila&county=King&state=WA&ZIP=98188&code=THD2&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&apn=537920-0065&address=16028%2051st%20Ave%20S&obsId=json&obsSuccessMethod=success&obsErrorMethod=error\n*/\n////////////////////////////////////////////////\n/* STEP 5 -- ACCESS PROPERTY DATA REPORTS-- */\n////////////////////////////////////////////////\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_329_038100312300&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=v2_xINBqcvXZ0pT82psV_ducIZjbCn-U69xAUFBUigzIw~~&uid=104762_570470830\n*/\nlet get_property_data_reports_by_location_id = (location_id) => {\n    if (location_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=\" + location_id+ \"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=\" + demoCandy + \"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=400790018387&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=v2_z45jEMvXZ0pT82psV_ducIfY9GLoW69xdyxKUSgzIw~~&uid=104762_570470830\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_371_4410&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=xINBuuymZ0px5mpsdeJucNXubKggRa9x23dGYA~~&uid=104762_570470830\n*/\nlet get_property_transaction_details_by_property_id = (property_id) => {\n    if (property_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=\"+ property_id+\"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=\"+demoCandy+\"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n\nfunction triggerDownload(_v1, _v2){\n\n}\nclass BasicPost extends React.Component {\n    constructor(props) {\n    super(props);\n    this.parseDemo = this.parseDemo.bind(this);\n   \n    this.state = {\n          error: null,\n          isLoaded: false,\n          rowData: _data,\n          imageAvailablePercentage: 0,\n          totalPrice: 0,\n          processed: false,\n          getRowHeight: function() {\n            return currentRowHeight;\n          },\n          rowGroupPanelShow: \"always\",\n          defaultExportParams: { suppressTextAsCDATA: true },   \n          columnDefs: null,\n          defaultColDef: {\n            sortable: true,\n            resizable: true,\n            filter: true,\n            minWidth: 150\n          },\n          excelStyles: [\n        {\n          id: \"defaultReport\",\n          interior: {\n            color: \"#ffffff\",\n            pattern: \"Solid\"\n          }\n        },\n        {\n          id: \"borderSolid\",\n          borders: {\n                borderLeft: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderRight: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderBottom: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderTop: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                }\n            }\n          },\n         {\n          id: \"header\",\n          interior: {\n            color: \"#d2d2d2\",\n            pattern: \"Solid\"\n          },\n          borders: {\n                borderLeft: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderRight: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderBottom: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderTop: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                }\n            }\n          }\n        ]\n\n        };\n    }\n  componentDidMount() {\n    let d = new Date();\n    if (d.getDay() > 29){\n        message.success(\"Welcome back Ke!\");    \n    }\n   }\n\n  onGridReady = params => {\n    message.success(\"Loaded successfully\");\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n    minRowHeight = 25;\n    currentRowHeight = minRowHeight;\n    params.api.sizeColumnsToFit();\n    message.success('Welcome, Ke Yang');\n    ////////////local data test//////////////\n    //let datasource = dataLink + genLink(25) + \".json\";    \n    // fetch(demoUrl)\n    //    .then(result => parseDemo(result))\n    //    .then(rowData => this.setState({rowData}));\n\n\n    ///////////test with wkt1 - GET///////////\n    //this.ajaxCall(demoUrl,this.parseDemo);\n\n    ///////////test with wkt2 - POST///////////\n    //this.ajaxCallPOST(demoUrlPOST,this.parseDemo);\n\n    ///////////use cache - GET///////////\n    this.ajaxCall(\"https://raw.githubusercontent.com/kyangTRC/files/master/total_cleaned.json\",this.parseDemo, true);\n  };\n\n  onGridSizeChanged(params) {\n    var gridHeight = document.getElementsByClassName(\"ag-body-viewport\")[0].offsetHeight;\n    var renderedRows = params.api.getRenderedNodes();\n    if (renderedRows.length * minRowHeight >= gridHeight) {\n      if (currentRowHeight !== minRowHeight) {\n        currentRowHeight = minRowHeight;\n        params.api.resetRowHeights();\n      }\n    } else {\n      currentRowHeight = 25 || Math.floor(gridHeight / renderedRows.length);\n      params.api.resetRowHeights();\n    }\n  }\n \n   ajaxCall(url, callback = this.parseDemo, hasProperty = false) {\n      let xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status == 200) {\n          callback(this, hasProperty);\n        }\n      };\n      xhttp.open(\"GET\",url);\n      //test ajax call with POST\n      xhttp.send();\n    }\n\n    ajaxCallPOST(url, callback, hasProperty = false) {\n        var data = new FormData();\n        data.append(\"datasource\", \"SS.Prop.ParcelDetail/ParcelDetail\");\n        data.append(\"inclusiongeometries\", wkt2);\n        data.append(\"SS_CANDY\", demoCandy)\n        data.append(\"fields\", QUERY_FIELDS);\n\n        var xhr = new XMLHttpRequest();\n        xhr.withCredentials = true;\n\n        xhr.addEventListener(\"readystatechange\", function () {\n          if (this.readyState === 4 && this.status == 200) {\n            callback(this);\n          }\n        });\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        xhr.send(data);\n    }\n    removeSign(arr, _sign, hasProperty) {\n        let _arr = [];\n        let _col = [];\n        //remove $ in data\n        let imageCount = arr.length;\n        let percentage = 0;\n        let imageAvailableCount = 0;\n        let priceInfo = 0;\n        const UNIT_PRICE = 6;\n        if (imageCount > 0){\n            arr.map(function(i){\n\n            //get property detail\n            const PROPERTY_DATA_REPORTS_URL = get_property_data_reports_by_location_id(i[_sign+'LOCATION_ID']);\n            const PROPERTY_TRANSACTION_DETAILS_URL = get_property_transaction_details_by_property_id(i[_sign+'PROPERTY_ID']);;\n            //if there's a missing field,show 'unavailable'\n            let imageInfo = '-';\n            if (i[_sign+'SITE_ZIP'] && i[_sign+'SITE_CITY'] && i[_sign+'SITE_STATE'] && i[_sign+'PROP_ADDRESS']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'_DMP_ID'] + '&city=' + i[_sign+'SITE_CITY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&code=THD2&SS_CANDY=' + demoCandy  + '&address=' + i[_sign+'PROP_ADDRESS']+ '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else if (i[_sign+'SITE_ZIP'] && i[_sign+'COUNTY'] && i[_sign+'SITE_STATE'] && i[_sign+'APN']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'_DMP_ID'] + '&code=THD2&SS_CANDY=' + demoCandy + '&apn=' + i[_sign+'APN'] + '&county=' + i[_sign+'COUNTY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else {\n                priceInfo = 0;\n            }\n            i[\"IMAGE\"] = imageInfo;\n            i[\"PRICE\"] = priceInfo; //unit price\n            i[\"PROPERTY_DETAIL\"] = PROPERTY_DATA_REPORTS_URL;\n            i[\"PROPERTY_TRANSACTION_DETAILS\"] = PROPERTY_TRANSACTION_DETAILS_URL;\n            //ajaxArrayUrl_Property_Data_Reports[i[_sign+'LOCATION_ID']] = PROPERTY_DATA_REPORTS_URL;\n            //ajaxArrayUrl_Property_Transaction_Details[i[_sign+'LOCATION_ID']] = PROPERTY_TRANSACTION_DETAILS_URL;\n            _arr.push(i);\n        });\n\n        //column header4\n        _col = Object.keys(_arr[0]).map((i)=>{\n             if (i===\"IMAGE\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Image Link </a>'\n                }}\n             }\n             if (i===\"PROPERTY_DETAIL\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Detail </a>'\n                }}\n             }\n             if (i===\"PROPERTY_TRANSACTION_DETAILS\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Transaction Detail </a>'\n                }}\n             }\n             return {headerName: i.replace('-','').replace('_',' ').replace('_',' '),field: i,filter: \"agTextColumnFilter\"}\n         });\n\n        //update percentage\n        percentage = (imageAvailableCount * 1.0/imageCount * 100).toFixed(2) + '%';\n        this.setState({imageAvailablePercentage: percentage, totalPrice: (imageAvailableCount * UNIT_PRICE).toFixed(2), processed: true});\n        }\n        //triggerDownload(ajaxArrayUrl_Property_Data_Reports, ajaxArrayUrl_Property_Transaction_Details);\n        return [_arr,_col];\n    }\n    parseDemo(xmlorjson, hasProperty) {\n      // let xml2jsString = require('xml2js').parseString;\n      // const xmlResponse = xml.responseText;\n      // xml2jsString(xmlResponse,function(err,result){\n         \n      //    if (result.Response.Error) {\n      //       console.dir(result);\n      //       console.log(\"loading cache ... use cache if needed\");\n      //       this.ajaxCall(\"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/cache-full.xml\");\n      //    }\n      //    else {\n      //        let __arr = this.removeSign(result.Response.Results[0].Data[0].Row);\n      //        this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n      //    }\n         \n      // }.bind(this));\n      const _t = JSON.parse(xmlorjson.responseText);\n      let __arr = this.removeSign(_t.Row, \"-\", hasProperty);\n      this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n\n    }\n\n  onCsvExport() {\n    //csv\n    var params = {\n      skipHeader: false,\n      columnGroups: false,\n    };\n    \n    this.gridApi.exportDataAsCsv(params);\n  }\n\n  onBtExport() {\n    //xls format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    \n    this.gridApi.exportDataAsExcel(params);\n  }\n\n  onBtExportNew() {\n      //xlsx format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    var content = this.gridApi.getDataAsExcel(params);\n    var workbook = XLSX.read(content,{ type: \"binary\" });\n    var xlsxContent = XLSX.write(workbook,{\n      bookType: \"xlsx\",\n      type: \"base64\"\n    });\n    download(params,xlsxContent);\n  }\n\n  onBtPrint() {\n      window.print();    \n  }\n\n  render () {\n    let price_rows = this.state.totalPrice;\n    return (\n    <div style={{ width: \"100%\",height:\"680px\" }}>\n    <h3> Image available percentage: <span style={{ color: 'green'}}>{this.state.imageAvailablePercentage}</span> of the data has image document</h3>\n    <h3> Image cost: <span style={{ color: 'green'}}>${price_rows}</span></h3>\n    <div className=\"buttonGroup\">\n    <label className=\"exportButtons\">\n    <button type=\"button\" className=\"btn\" id=\"excelExportNew\" onClick={this.onBtExportNew.bind(this)} >\n    <div>x</div></button><button type=\"button\" className=\"btn\" id=\"pdfExport\" onClick={this.onBtPrint.bind(this)} >PDF</button>\n    <button type=\"button\" className=\"btn\" id=\"csvExport\"  onClick={this.onCsvExport.bind(this)}>CSV</button>\n    <button type=\"button\" className=\"btn\" id=\"printButton\" onClick={this.onBtPrint.bind(this)}></button>\n    </label>\n    </div>\n       <div \n        className=\"ag-theme-balham\"\n        style={{ width: \"100%\",height:\"600px\" }}>\n        <h3>Project Name: NYSERDA_Multifamily</h3>\n        <h3>Project Id: 114810.0000.0000</h3>\n        <a className=\"btn\" id=\"downloadButton\" href='//github.com/kyangTRC/files/blob/master/property-report.zip?raw=true'><Icon type=\"download\" /></a>\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          defaultExportParams={this.state.defaultExportParams}\n          rowGroupPanelShow={this.state.rowGroupPanelShow}\n          defaultColDef={this.state.defaultColDef}\n          enableRangeSelection={true}\n          animateRows={true}\n          groupUseEntireRow={true}\n          rowData={this.state.rowData}\n          groupDefaultExpanded={-1}\n          getRowHeight={this.state.getRowHeight}\n          autoGroupColumnDef={this.state.autoGroupColumnDef}\n          groupSuppressAutoColumn={true}\n          excelStyles={this.state.excelStyles}\n          onGridReady={this.onGridReady}\n          onGridSizeChanged={this.onGridSizeChanged.bind(this)}\n          />\n\n        <a download=\"#\" href=\"#\" title=\"all\">\n            Download all, Price: ${price_rows}\n        </a>\n        </div></div>\n        );\n  }\n\n}\n\nexport default BasicPost;","// @flow\n\nimport hoistNonReactStatics from 'hoist-non-react-statics'\nimport React, {\n  createContext,\n  forwardRef,\n  useContext,\n  type AbstractComponent,\n} from 'react'\n\nimport type { LeafletContext } from './types'\n\nconst leafletContext = createContext<LeafletContext>({})\n\nexport const useLeaflet = (): LeafletContext => useContext(leafletContext)\n\nexport const LeafletConsumer = leafletContext.Consumer\nexport const LeafletProvider = leafletContext.Provider\n\nexport const withLeaflet = <Config: { leaflet: LeafletContext }, Instance>(\n  WrappedComponent: AbstractComponent<Config, Instance>,\n): AbstractComponent<$Diff<Config, { leaflet: LeafletContext }>, Instance> => {\n  const WithLeafletComponent = (props, ref) => (\n    <LeafletConsumer>\n      {(leaflet: LeafletContext) => (\n        <WrappedComponent {...props} leaflet={leaflet} ref={ref} />\n      )}\n    </LeafletConsumer>\n  )\n\n  const name = // flowlint-next-line sketchy-null-string:off\n    WrappedComponent.displayName || WrappedComponent.name || 'Component'\n  WithLeafletComponent.displayName = `Leaflet(${name})`\n\n  const LeafletComponent = forwardRef(WithLeafletComponent)\n  hoistNonReactStatics(LeafletComponent, WrappedComponent)\n\n  return LeafletComponent\n}\n","// @flow\n\nimport { Control } from 'leaflet'\nimport { Component } from 'react'\n\nimport type { MapControlProps } from './types'\n\nexport default class MapControl<\n  LeafletElement: Control,\n  Props: MapControlProps,\n> extends Component<Props> {\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(this.props)\n  }\n\n  createLeafletElement(_props: Props): LeafletElement {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props): void {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setPosition(toProps.position)\n    }\n  }\n\n  componentDidMount() {\n    this.leafletElement.addTo(this.props.leaflet.map)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    this.leafletElement.remove()\n  }\n\n  render(): * {\n    return null\n  }\n}\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Attribution\ntype Props = {\n  prefix?: string,\n} & MapControlProps\n\nclass AttributionControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Attribution(props)\n  }\n}\n\nexport default withLeaflet<Props, AttributionControl>(AttributionControl)\n","// @flow\n\nimport type { Evented } from 'leaflet'\nimport { Component } from 'react'\n\nexport const EVENTS_RE = /^on(.+)$/i\n\ntype EventHandler = (event: Event) => void\ntype EventsObject = { [key: string]: EventHandler }\n\nexport default class MapEvented<\n  LeafletElement: Evented,\n  Props: Object,\n> extends Component<Props> {\n  _leafletEvents: EventsObject\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this._leafletEvents = this.extractLeafletEvents(props)\n  }\n\n  componentDidMount() {\n    this.bindLeafletEvents(this._leafletEvents)\n  }\n\n  componentDidUpdate(_prevProps: Props) {\n    this._leafletEvents = this.bindLeafletEvents(\n      this.extractLeafletEvents(this.props),\n      this._leafletEvents,\n    )\n  }\n\n  componentWillUnmount() {\n    const el = this.leafletElement\n    if (!el) return\n\n    Object.keys(this._leafletEvents).forEach(ev => {\n      el.off(ev, this._leafletEvents[ev])\n    })\n  }\n\n  extractLeafletEvents(props: Props): EventsObject {\n    return Object.keys(props).reduce((res, prop) => {\n      if (EVENTS_RE.test(prop)) {\n        if (props[prop] != null) {\n          const key = prop.replace(EVENTS_RE, (match, p) => p.toLowerCase())\n          res[key] = props[prop]\n        }\n      }\n      return res\n    }, {})\n  }\n\n  bindLeafletEvents(\n    next: EventsObject = {},\n    prev: EventsObject = {},\n  ): EventsObject {\n    const el = this.leafletElement\n    if (el == null || el.on == null) return {}\n\n    const diff = { ...prev }\n    Object.keys(prev).forEach(ev => {\n      if (next[ev] == null || prev[ev] !== next[ev]) {\n        delete diff[ev]\n        el.off(ev, prev[ev])\n      }\n    })\n\n    Object.keys(next).forEach(ev => {\n      if (prev[ev] == null || next[ev] !== prev[ev]) {\n        diff[ev] = next[ev]\n        el.on(ev, next[ev])\n      }\n    })\n\n    return diff\n  }\n\n  fireLeafletEvent(type: string, data: ?any) {\n    const el = this.leafletElement\n    if (el) el.fire(type, data)\n  }\n}\n","// @flow\n\nimport MapEvented from './MapEvented'\nimport type { MapComponentProps } from './types'\n\nexport default class MapComponent<\n  LeafletElement,\n  Props: MapComponentProps,\n> extends MapEvented<LeafletElement, Props> {\n  getOptions(props: Props): Props {\n    if (props.pane != null) {\n      return props\n    }\n    if (props.leaflet != null && props.leaflet.pane != null) {\n      return { ...props, pane: props.leaflet.pane }\n    }\n    return props\n  }\n}\n","// @flow\n\nimport type { Layer } from 'leaflet'\nimport React, { Fragment } from 'react'\n\nimport { LeafletProvider } from './context'\nimport MapComponent from './MapComponent'\nimport type { LeafletContext, MapLayerProps } from './types'\n\nexport default class MapLayer<\n  LeafletElement: Layer,\n  Props: MapLayerProps,\n> extends MapComponent<LeafletElement, Props> {\n  contextValue: ?LeafletContext\n  leafletElement: LeafletElement\n\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(props)\n  }\n\n  get layerContainer(): Layer {\n    return this.props.leaflet.layerContainer || this.props.leaflet.map\n  }\n\n  createLeafletElement(_props: Props): LeafletElement {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(_fromProps: Props, _toProps: Props) {}\n\n  componentDidMount() {\n    super.componentDidMount()\n    this.layerContainer.addLayer(this.leafletElement)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    super.componentDidUpdate(prevProps)\n\n    if (this.props.attribution !== prevProps.attribution) {\n      const { map } = this.props.leaflet\n      if (map != null && map.attributionControl != null) {\n        map.attributionControl.removeAttribution(prevProps.attribution)\n        map.attributionControl.addAttribution(this.props.attribution)\n      }\n    }\n\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount()\n    this.layerContainer.removeLayer(this.leafletElement)\n  }\n\n  render() {\n    const { children } = this.props\n    if (children == null) {\n      return null\n    }\n    return this.contextValue == null ? (\n      <Fragment>{children}</Fragment>\n    ) : (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    )\n  }\n}\n","// @flow\n\nimport type { Path as PathType } from 'leaflet'\nimport isEqual from 'fast-deep-equal'\n\nimport MapLayer from './MapLayer'\nimport type { PathOptions, PathProps } from './types'\nimport pick from './utils/pick'\n\nconst OPTIONS = [\n  'stroke',\n  'color',\n  'weight',\n  'opacity',\n  'lineCap',\n  'lineJoin',\n  'dashArray',\n  'dashOffset',\n  'fill',\n  'fillColor',\n  'fillOpacity',\n  'fillRule',\n  'bubblingMouseEvents',\n  'renderer',\n  'className',\n  // Interactive Layer\n  'interactive',\n  // Layer\n  'pane',\n  'attribution',\n]\n\nexport default class Path<\n  LeafletElement: PathType,\n  Props: PathProps,\n> extends MapLayer<LeafletElement, Props> {\n  constructor(props: Props) {\n    super(props)\n    if (this.contextValue == null) {\n      this.contextValue = {\n        ...props.leaflet,\n        popupContainer: this.leafletElement,\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    super.componentDidUpdate(prevProps)\n    this.setStyleIfChanged(prevProps, this.props)\n  }\n\n  getPathOptions(props: Props): PathOptions {\n    return pick(props, OPTIONS)\n  }\n\n  setStyle(options: PathOptions = {}) {\n    this.leafletElement.setStyle(options)\n  }\n\n  setStyleIfChanged(fromProps: Props, toProps: Props) {\n    const nextStyle = this.getPathOptions(toProps)\n    if (!isEqual(nextStyle, this.getPathOptions(fromProps))) {\n      this.setStyle(nextStyle)\n    }\n  }\n}\n","// @flow\n\nexport default function pick(object: Object, keys: Array<string>): Object {\n  return keys.reduce((obj, key) => {\n    if (object[key]) {\n      obj[key] = object[key]\n    }\n    return obj\n  }, {})\n}\n","// @flow\n\nimport { DomUtil } from 'leaflet'\n\nconst splitClassName = (className: string = ''): Array<string> => {\n  return className.split(' ').filter(Boolean)\n}\n\nexport const addClassName = (container: HTMLElement, className: string) => {\n  splitClassName(className).forEach(cls => {\n    DomUtil.addClass(container, cls)\n  })\n}\n\nexport const removeClassName = (container: HTMLElement, className: string) => {\n  splitClassName(className).forEach(cls => {\n    DomUtil.removeClass(container, cls)\n  })\n}\n\nexport default (\n  container: ?HTMLElement,\n  prevClassName: ?string,\n  nextClassName: ?string,\n) => {\n  if (container != null && nextClassName !== prevClassName) {\n    if (prevClassName != null && prevClassName.length > 0) {\n      removeClassName(container, prevClassName)\n    }\n    if (nextClassName != null && nextClassName.length > 0) {\n      addClassName(container, nextClassName)\n    }\n  }\n}\n","// @flow\n\nimport { Circle as LeafletCircle } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, MapLayerProps, PathOptions } from './types'\n\ntype LeafletElement = LeafletCircle\ntype Props = {\n  center: LatLng,\n  radius: number,\n} & MapLayerProps &\n  PathOptions &\n  Object\n\nclass Circle extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const { center, radius, ...options } = props\n    return new LeafletCircle(center, radius, this.getOptions(options))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.center !== fromProps.center) {\n      this.leafletElement.setLatLng(toProps.center)\n    }\n    if (toProps.radius !== fromProps.radius) {\n      this.leafletElement.setRadius(toProps.radius)\n    }\n  }\n}\n\nexport default withLeaflet<Props, Circle>(Circle)\n","// @flow\n\nimport { CircleMarker as LeafletCircleMarker } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletCircleMarker\ntype Props = {\n  center: LatLng,\n  radius: number,\n} & PathProps\n\nclass CircleMarker extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletCircleMarker(props.center, this.getOptions(props))\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.center !== fromProps.center) {\n      this.leafletElement.setLatLng(toProps.center)\n    }\n    if (toProps.radius !== fromProps.radius) {\n      this.leafletElement.setRadius(toProps.radius)\n    }\n  }\n}\n\nexport default withLeaflet<Props, CircleMarker>(CircleMarker)\n","// @flow\n\nimport { createPortal } from 'react-dom'\n\nimport MapComponent from './MapComponent'\nimport updateClassName from './utils/updateClassName'\nimport type { DivOverlayProps } from './types'\n\ntype DivOverlayTypes = {\n  _container: HTMLDivElement,\n  _contentNode: HTMLDivElement,\n  isOpen: () => boolean,\n  update: () => void,\n}\n\nexport default class DivOverlay<\n  LeafletElement,\n  Props: DivOverlayProps,\n> extends MapComponent<LeafletElement & DivOverlayTypes, Props> {\n  constructor(props: Props) {\n    super(props)\n    this.leafletElement = this.createLeafletElement(props)\n  }\n\n  createLeafletElement(_props: Props) {\n    throw new Error('createLeafletElement() must be implemented')\n  }\n\n  updateLeafletElement(_prevProps: Props, _props: Props) {}\n\n  componentDidUpdate(prevProps: Props) {\n    updateClassName(\n      this.leafletElement._container,\n      prevProps.className,\n      this.props.className,\n    )\n\n    this.updateLeafletElement(prevProps, this.props)\n\n    if (this.leafletElement.isOpen()) {\n      this.leafletElement.update()\n      this.onRender()\n    }\n  }\n\n  onClose = () => {\n    if (this.props.onClose) {\n      this.props.onClose()\n    }\n  }\n\n  onOpen = () => {\n    this.forceUpdate() // Re-render now that leafletElement is created\n    if (this.props.onOpen) {\n      this.props.onOpen()\n    }\n  }\n\n  onRender() {}\n\n  render() {\n    if (this.leafletElement._contentNode) {\n      return createPortal(this.props.children, this.leafletElement._contentNode)\n    }\n    return null\n  }\n}\n","// @flow\n\nimport { GeoJSON as LeafletGeoJSON, type LatLng, type Layer } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { PathProps } from './types'\n\ntype LeafletElement = LeafletGeoJSON\n\ntype GeoJSONdata = Object | Array<any>\n\ntype Props = {\n  data: GeoJSONdata,\n  pointToLayer?: (point: GeoJSONdata, latlng: LatLng) => Layer,\n  style?: (feature: GeoJSONdata) => Object,\n  onEachFeature?: (feature: GeoJSONdata, layer: Layer) => void,\n  filter?: (feature: GeoJSONdata) => boolean,\n  coordsToLatLng?: (coords: GeoJSONdata) => LatLng,\n} & PathProps\n\nclass GeoJSON extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletGeoJSON(props.data, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (typeof toProps.style === 'function') {\n      this.leafletElement.setStyle(toProps.style)\n    } else {\n      this.setStyleIfChanged(fromProps, toProps)\n    }\n  }\n}\n\nexport default withLeaflet<Props, GeoJSON>(GeoJSON)\n","// @flow\n\nimport { FeatureGroup as LeafletFeatureGroup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { PathProps } from './types'\n\ntype LeafletElement = LeafletFeatureGroup\ntype Props = PathProps\n\nclass FeatureGroup extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletFeatureGroup(this.getOptions(props))\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: el,\n      popupContainer: el,\n    }\n    return el\n  }\n\n  componentDidMount() {\n    super.componentDidMount()\n    this.setStyle(this.props)\n  }\n}\n\nexport default withLeaflet<Props, FeatureGroup>(FeatureGroup)\n","// @flow\n\nimport { GridLayer as LeafletGridLayer } from 'leaflet'\n\nimport MapLayer from './MapLayer'\nimport type { GridLayerProps } from './types'\n\nexport default class GridLayer<\n  LeafletElement: LeafletGridLayer,\n  Props: GridLayerProps,\n> extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletGridLayer(this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    const { opacity, zIndex } = toProps\n    if (opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(opacity)\n    }\n    if (zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(zIndex)\n    }\n  }\n\n  getOptions(props: Props): Props {\n    const options = super.getOptions(props)\n    return props.leaflet.map == null\n      ? options\n      : // $FlowFixMe: object spread type\n        {\n          maxZoom: props.leaflet.map.options.maxZoom,\n          minZoom: props.leaflet.map.options.minZoom,\n          ...options,\n        }\n  }\n\n  render() {\n    return null\n  }\n}\n","// @flow\n\nimport { Control, type Layer } from 'leaflet'\nimport React, {\n  cloneElement,\n  Component,\n  Children,\n  Fragment,\n  type ChildrenArray,\n  type Element,\n} from 'react'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type {\n  AddLayerHandler,\n  RemoveLayerHandler,\n  LeafletContext,\n  MapControlProps,\n} from './types'\n\ntype ControlledLayerProps = {\n  addBaseLayer: AddLayerHandler,\n  addOverlay: AddLayerHandler,\n  checked?: boolean,\n  children: Element<*>,\n  leaflet: LeafletContext,\n  name: string,\n  removeLayer: RemoveLayerHandler,\n  removeLayerControl: RemoveLayerHandler,\n}\n\n// Abtract class for layer container, extended by BaseLayer and Overlay\nexport class ControlledLayer extends Component<ControlledLayerProps> {\n  contextValue: LeafletContext\n  layer: ?Layer\n\n  componentDidUpdate({ checked }: ControlledLayerProps) {\n    if (this.props.leaflet.map == null) {\n      return\n    }\n    // Handle dynamically (un)checking the layer => adding/removing from the map\n    if (this.props.checked === true && (checked == null || checked === false)) {\n      this.props.leaflet.map.addLayer(this.layer)\n    } else if (\n      checked === true &&\n      (this.props.checked == null || this.props.checked === false)\n    ) {\n      this.props.leaflet.map.removeLayer(this.layer)\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeLayerControl(this.layer)\n  }\n\n  addLayer() {\n    throw new Error('Must be implemented in extending class')\n  }\n\n  removeLayer(layer: Layer) {\n    this.props.removeLayer(layer)\n  }\n\n  render() {\n    const { children } = this.props\n    return children ? (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    ) : null\n  }\n}\n\nclass BaseLayer extends ControlledLayer {\n  constructor(props: ControlledLayerProps) {\n    super(props)\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this),\n      },\n    }\n  }\n\n  addLayer = (layer: Layer) => {\n    this.layer = layer // Keep layer reference to handle dynamic changes of props\n    const { addBaseLayer, checked, name } = this.props\n    addBaseLayer(layer, name, checked)\n  }\n}\n\nclass Overlay extends ControlledLayer {\n  constructor(props: ControlledLayerProps) {\n    super(props)\n    this.contextValue = {\n      ...props.leaflet,\n      layerContainer: {\n        addLayer: this.addLayer.bind(this),\n        removeLayer: this.removeLayer.bind(this),\n      },\n    }\n  }\n\n  addLayer = (layer: Layer) => {\n    this.layer = layer // Keep layer reference to handle dynamic changes of props\n    const { addOverlay, checked, name } = this.props\n    addOverlay(layer, name, checked)\n  }\n}\n\ntype LeafletElement = Control.Layers\ntype LayersControlProps = {\n  children: ChildrenArray<*>,\n  collapsed?: boolean,\n} & MapControlProps\n\nclass LayersControl extends MapControl<LeafletElement, LayersControlProps> {\n  controlProps: {\n    addBaseLayer: AddLayerHandler,\n    addOverlay: AddLayerHandler,\n    removeLayer: RemoveLayerHandler,\n    removeLayerControl: RemoveLayerHandler,\n  }\n\n  constructor(props: LayersControlProps) {\n    super(props)\n    this.controlProps = {\n      addBaseLayer: this.addBaseLayer.bind(this),\n      addOverlay: this.addOverlay.bind(this),\n      leaflet: props.leaflet,\n      removeLayer: this.removeLayer.bind(this),\n      removeLayerControl: this.removeLayerControl.bind(this),\n    }\n  }\n\n  createLeafletElement(props: LayersControlProps): LeafletElement {\n    const { children: _children, ...options } = props\n    return new Control.Layers(undefined, undefined, options)\n  }\n\n  updateLeafletElement(\n    fromProps: LayersControlProps,\n    toProps: LayersControlProps,\n  ) {\n    super.updateLeafletElement(fromProps, toProps)\n    if (toProps.collapsed !== fromProps.collapsed) {\n      if (toProps.collapsed === true) {\n        this.leafletElement.collapse()\n      } else {\n        this.leafletElement.expand()\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    setTimeout(() => {\n      super.componentWillUnmount()\n    }, 0)\n  }\n\n  addBaseLayer(layer: Layer, name: string, checked: boolean = false) {\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer)\n    }\n    this.leafletElement.addBaseLayer(layer, name)\n  }\n\n  addOverlay(layer: Layer, name: string, checked: boolean = false) {\n    if (checked && this.props.leaflet.map != null) {\n      this.props.leaflet.map.addLayer(layer)\n    }\n    this.leafletElement.addOverlay(layer, name)\n  }\n\n  removeLayer(layer: Layer) {\n    if (this.props.leaflet.map != null) {\n      this.props.leaflet.map.removeLayer(layer)\n    }\n  }\n\n  removeLayerControl(layer: Layer) {\n    this.leafletElement.removeLayer(layer)\n  }\n\n  render() {\n    const children = Children.map(this.props.children, child => {\n      return child ? cloneElement(child, this.controlProps) : null\n    })\n    return <Fragment>{children}</Fragment>\n  }\n}\n\nconst LayersControlExport: Object = withLeaflet(LayersControl)\n\nLayersControlExport.BaseLayer = BaseLayer\nLayersControlExport.Overlay = Overlay\n\nexport default LayersControlExport\n","// @flow\n\nimport { ImageOverlay as LeafletImageOverlay, latLngBounds } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLngBounds, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletImageOverlay\ntype Props = {\n  attribution?: string,\n  bounds?: LatLngBounds,\n  opacity?: number,\n  url: string | HTMLImageElement,\n  zIndex?: number,\n} & MapLayerProps\n\nclass ImageOverlay extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletImageOverlay(\n      props.url,\n      props.bounds,\n      this.getOptions(props),\n    )\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(latLngBounds(toProps.bounds))\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex)\n    }\n  }\n}\n\nexport default withLeaflet<Props, ImageOverlay>(ImageOverlay)\n","// @flow\n\nimport { LayerGroup as LeafletLayerGroup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { MapLayerProps } from './types'\n\ntype LeafletElement = LeafletLayerGroup\ntype Props = MapLayerProps\n\nclass LayerGroup extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletLayerGroup([], this.getOptions(props))\n    this.contextValue = { ...props.leaflet, layerContainer: el }\n    return el\n  }\n}\n\nexport default withLeaflet<Props, LayerGroup>(LayerGroup)\n","// @flow\n\nexport default function omit(\n  obj: Object,\n  ...keysToOmit: Array<string>\n): Object {\n  return Object.keys(obj).reduce((acc, key) => {\n    if (keysToOmit.indexOf(key) === -1) {\n      acc[key] = obj[key]\n    }\n    return acc\n  }, {})\n}\n","// @flow\n\nimport {\n  latLngBounds,\n  Map as LeafletMap,\n  type CRS,\n  type Renderer,\n} from 'leaflet'\nimport React, { type Node } from 'react'\n\nimport { LeafletProvider } from './context'\nimport MapEvented from './MapEvented'\nimport updateClassName from './utils/updateClassName'\nimport omit from './utils/omit'\nimport type {\n  LatLng,\n  LatLngBounds,\n  LeafletContext,\n  Point,\n  Viewport,\n} from './types'\n\nconst OTHER_PROPS = [\n  'children',\n  'className',\n  'id',\n  'style',\n  'useFlyTo',\n  'whenReady',\n]\n\nconst normalizeCenter = (pos: LatLng): [number, number] => {\n  return Array.isArray(pos)\n    ? [pos[0], pos[1]]\n    : [pos.lat, pos.lon ? pos.lon : pos.lng]\n}\n\ntype LeafletElement = LeafletMap\n\ntype ZoomOption = boolean | 'center'\ntype Props = {\n  [key: string]: any,\n  // Leaflet options\n  preferCanvas?: boolean,\n  attributionControl?: boolean,\n  zoomControl?: boolean,\n  closePopupOnClick?: boolean,\n  zoomSnap?: number,\n  zoomDelta?: number,\n  trackResize?: boolean,\n  boxZoom?: boolean,\n  doubleClickZoom?: ZoomOption,\n  dragging?: boolean,\n  crs?: CRS,\n  center?: LatLng,\n  zoom?: number,\n  minZoom?: number,\n  maxZoom?: number,\n  maxBounds?: LatLngBounds,\n  renderer?: Renderer,\n  zoomAnimation?: boolean,\n  zoomAnimationThreshold?: number,\n  fadeAnimation?: boolean,\n  markerZoomAnimation?: boolean,\n  transform3DLimit?: number,\n  inertia?: boolean,\n  inertiaDeceleration?: number,\n  inertiaMaxSpeed?: number,\n  easeLinearity?: number,\n  worldCopyJump?: boolean,\n  maxBoundsViscosity?: number,\n  keyboard?: boolean,\n  keyboardPanDelta?: number,\n  scrollWheelZoom?: ZoomOption,\n  wheelDebounceTime?: number,\n  wheelPxPerZoomLevel?: number,\n  tap?: boolean,\n  tapTolerance?: number,\n  touchZoom?: ZoomOption,\n  bounceAtZoomLimits?: boolean,\n  // Additional options\n  animate?: boolean,\n  duration?: number,\n  noMoveStart?: boolean,\n  bounds?: LatLngBounds,\n  boundsOptions?: {|\n    paddingTopLeft?: Point,\n    paddingBottomRight?: Point,\n    padding?: Point,\n    maxZoom?: number,\n  |},\n  children: Node,\n  className?: string,\n  id?: string,\n  style?: Object,\n  useFlyTo?: boolean,\n  viewport?: Viewport,\n  whenReady?: () => void,\n}\n\nexport default class Map extends MapEvented<LeafletElement, Props> {\n  className: ?string\n  contextValue: ?LeafletContext\n  container: ?HTMLDivElement\n  viewport: Viewport = {\n    center: undefined,\n    zoom: undefined,\n  }\n\n  _ready: boolean = false\n  _updating: boolean = false\n\n  constructor(props: Props) {\n    super(props)\n    this.className = props.className\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    const { viewport, ...options } = props\n    if (viewport) {\n      if (viewport.center) {\n        options.center = viewport.center\n      }\n      if (typeof viewport.zoom === 'number') {\n        options.zoom = viewport.zoom\n      }\n    }\n    return new LeafletMap(this.container, options)\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    this._updating = true\n\n    const {\n      bounds,\n      boundsOptions,\n      boxZoom,\n      center,\n      className,\n      doubleClickZoom,\n      dragging,\n      keyboard,\n      maxBounds,\n      scrollWheelZoom,\n      tap,\n      touchZoom,\n      useFlyTo,\n      viewport,\n      zoom,\n    } = toProps\n\n    updateClassName(this.container, fromProps.className, className)\n\n    if (viewport && viewport !== fromProps.viewport) {\n      const c = viewport.center ? viewport.center : center\n      const z = viewport.zoom == null ? zoom : viewport.zoom\n      if (useFlyTo === true) {\n        this.leafletElement.flyTo(c, z, this.getZoomPanOptions(toProps))\n      } else {\n        this.leafletElement.setView(c, z, this.getZoomPanOptions(toProps))\n      }\n    } else if (center && this.shouldUpdateCenter(center, fromProps.center)) {\n      if (useFlyTo === true) {\n        this.leafletElement.flyTo(center, zoom, this.getZoomPanOptions(toProps))\n      } else {\n        this.leafletElement.setView(\n          center,\n          zoom,\n          this.getZoomPanOptions(toProps),\n        )\n      }\n    } else if (typeof zoom === 'number' && zoom !== fromProps.zoom) {\n      if (fromProps.zoom == null) {\n        this.leafletElement.setView(\n          center,\n          zoom,\n          this.getZoomPanOptions(toProps),\n        )\n      } else {\n        this.leafletElement.setZoom(zoom, this.getZoomPanOptions(toProps))\n      }\n    }\n\n    if (maxBounds && this.shouldUpdateBounds(maxBounds, fromProps.maxBounds)) {\n      this.leafletElement.setMaxBounds(maxBounds)\n    }\n\n    if (\n      bounds &&\n      (this.shouldUpdateBounds(bounds, fromProps.bounds) ||\n        boundsOptions !== fromProps.boundsOptions)\n    ) {\n      if (useFlyTo === true) {\n        this.leafletElement.flyToBounds(\n          bounds,\n          this.getFitBoundsOptions(toProps),\n        )\n      } else {\n        this.leafletElement.fitBounds(bounds, this.getFitBoundsOptions(toProps))\n      }\n    }\n\n    if (boxZoom !== fromProps.boxZoom) {\n      if (boxZoom === true) {\n        this.leafletElement.boxZoom.enable()\n      } else {\n        this.leafletElement.boxZoom.disable()\n      }\n    }\n\n    if (doubleClickZoom !== fromProps.doubleClickZoom) {\n      if (doubleClickZoom === true) {\n        this.leafletElement.doubleClickZoom.enable()\n      } else {\n        this.leafletElement.doubleClickZoom.disable()\n      }\n    }\n\n    if (dragging !== fromProps.dragging) {\n      if (dragging === true) {\n        this.leafletElement.dragging.enable()\n      } else {\n        this.leafletElement.dragging.disable()\n      }\n    }\n\n    if (keyboard !== fromProps.keyboard) {\n      if (keyboard === true) {\n        this.leafletElement.keyboard.enable()\n      } else {\n        this.leafletElement.keyboard.disable()\n      }\n    }\n\n    if (scrollWheelZoom !== fromProps.scrollWheelZoom) {\n      if (scrollWheelZoom === true || typeof scrollWheelZoom === 'string') {\n        this.leafletElement.options.scrollWheelZoom = scrollWheelZoom\n        this.leafletElement.scrollWheelZoom.enable()\n      } else {\n        this.leafletElement.scrollWheelZoom.disable()\n      }\n    }\n\n    if (tap !== fromProps.tap) {\n      if (tap === true) {\n        this.leafletElement.tap.enable()\n      } else {\n        this.leafletElement.tap.disable()\n      }\n    }\n\n    if (touchZoom !== fromProps.touchZoom) {\n      if (touchZoom === true || typeof touchZoom === 'string') {\n        this.leafletElement.options.touchZoom = touchZoom\n        this.leafletElement.touchZoom.enable()\n      } else {\n        this.leafletElement.touchZoom.disable()\n      }\n    }\n\n    this._updating = false\n  }\n\n  getZoomPanOptions(props: Props) {\n    const { animate, duration, easeLinearity, noMoveStart } = props\n    return {\n      animate,\n      duration,\n      easeLinearity,\n      noMoveStart,\n    }\n  }\n\n  getFitBoundsOptions(props: Props) {\n    const zoomPanOptions = this.getZoomPanOptions(props)\n    return {\n      ...zoomPanOptions,\n      ...props.boundsOptions,\n    }\n  }\n\n  onViewportChange = () => {\n    const center = this.leafletElement.getCenter()\n    this.viewport = {\n      center: center ? [center.lat, center.lng] : undefined,\n      zoom: this.leafletElement.getZoom(),\n    }\n    if (this.props.onViewportChange && !this._updating) {\n      this.props.onViewportChange(this.viewport)\n    }\n  }\n\n  onViewportChanged = () => {\n    if (this.props.onViewportChanged && !this._updating) {\n      this.props.onViewportChanged(this.viewport)\n    }\n  }\n\n  componentDidMount() {\n    const props = omit(this.props, ...OTHER_PROPS)\n    this.leafletElement = this.createLeafletElement(props)\n\n    this.leafletElement.on('move', this.onViewportChange)\n    this.leafletElement.on('moveend', this.onViewportChanged)\n\n    if (props.bounds != null) {\n      this.leafletElement.fitBounds(\n        props.bounds,\n        this.getFitBoundsOptions(props),\n      )\n    }\n\n    this.contextValue = {\n      layerContainer: this.leafletElement,\n      map: this.leafletElement,\n    }\n\n    super.componentDidMount()\n    this.forceUpdate() // Re-render now that leafletElement is created\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this._ready === false) {\n      this._ready = true\n      if (this.props.whenReady) {\n        this.leafletElement.whenReady(this.props.whenReady)\n      }\n    }\n\n    super.componentDidUpdate(prevProps)\n    this.updateLeafletElement(prevProps, this.props)\n  }\n\n  componentWillUnmount() {\n    super.componentWillUnmount()\n\n    this.leafletElement.off('move', this.onViewportChange)\n    this.leafletElement.off('moveend', this.onViewportChanged)\n\n    // The canvas renderer uses requestAnimationFrame, making a deferred call to a deleted object\n    // When preferCanvas is set, use simpler teardown logic\n    if (this.props.preferCanvas === true) {\n      this.leafletElement._initEvents(true)\n      this.leafletElement._stop()\n    } else {\n      this.leafletElement.remove()\n    }\n  }\n\n  bindContainer = (container: ?HTMLDivElement): void => {\n    this.container = container\n  }\n\n  shouldUpdateCenter(next: LatLng, prev: LatLng) {\n    if (!prev) return true\n    next = normalizeCenter(next)\n    prev = normalizeCenter(prev)\n    return next[0] !== prev[0] || next[1] !== prev[1]\n  }\n\n  shouldUpdateBounds(next: LatLngBounds, prev: LatLngBounds) {\n    return prev ? !latLngBounds(next).equals(latLngBounds(prev)) : true\n  }\n\n  render() {\n    return (\n      <div>\n      <a href=\"/protecteddata-long-wkt\">Link to data</a>\n      <div\n        className={this.className}\n        id={this.props.id}\n        ref={this.bindContainer}\n        style={this.props.style}>\n\n        {this.contextValue ? (\n          <LeafletProvider value={this.contextValue}>\n            {this.props.children}\n          </LeafletProvider>\n        ) : null}\n      </div>\n      </div>\n    )\n  }\n}\n","// @flow\n\nimport { type Icon, Marker as LeafletMarker } from 'leaflet'\nimport React from 'react'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLng, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletMarker\ntype Props = {\n  icon?: Icon,\n  draggable?: boolean,\n  opacity?: number,\n  position: LatLng,\n  zIndexOffset?: number,\n} & MapLayerProps\n\nclass Marker extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const el = new LeafletMarker(props.position, this.getOptions(props))\n    this.contextValue = { ...props.leaflet, popupContainer: el }\n    return el\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position)\n    }\n    if (toProps.icon !== fromProps.icon) {\n      this.leafletElement.setIcon(toProps.icon)\n    }\n    if (toProps.zIndexOffset !== fromProps.zIndexOffset) {\n      this.leafletElement.setZIndexOffset(toProps.zIndexOffset)\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.draggable !== fromProps.draggable) {\n      if (toProps.draggable === true) {\n        this.leafletElement.dragging.enable()\n      } else {\n        this.leafletElement.dragging.disable()\n      }\n    }\n  }\n\n  render() {\n    const { children } = this.props\n    return children == null || this.contextValue == null ? null : (\n      <LeafletProvider value={this.contextValue}>{children}</LeafletProvider>\n    )\n  }\n}\n\nexport default withLeaflet<Props, Marker>(Marker)\n","// @flow\n// flowlint sketchy-null-string:off\n\nimport React, { Component, type Node } from 'react'\nimport warning from 'warning'\n\nimport { LeafletProvider, withLeaflet } from './context'\nimport type { LeafletContext } from './types'\nimport { addClassName, removeClassName } from './utils/updateClassName'\nimport omit from './utils/omit'\n\nlet idCounter = 0\nconst uniqueId = () => ++idCounter\n\nconst LEAFLET_PANES = [\n  'tile',\n  'shadow',\n  'overlay',\n  'map',\n  'marker',\n  'tooltip',\n  'popup',\n]\n\nconst PANE_RE = /-*pane/gi\n\nconst isLeafletPane = (name: string): boolean => {\n  return LEAFLET_PANES.indexOf(name.replace(PANE_RE, '')) !== -1\n}\n\nconst paneStyles = {\n  position: 'absolute',\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n}\n\ntype Props = {\n  children: Node,\n  className?: string,\n  leaflet: LeafletContext,\n  name?: string,\n  pane?: string,\n  style?: Object,\n}\n\ntype State = {\n  name: ?string,\n  context: ?LeafletContext,\n}\n\nclass Pane extends Component<Props, State> {\n  state = {\n    name: undefined,\n    context: undefined,\n  }\n\n  componentDidMount() {\n    this.createPane(this.props)\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!this.state.name) {\n      // Do nothing if this.state.name is undefined due to errors or\n      // an invalid props.name value\n      return\n    }\n\n    // If the 'name' prop has changed the current pane is unmounted and a new\n    // pane is created.\n    if (this.props.name !== prevProps.name) {\n      this.removePane()\n      this.createPane(this.props)\n    } else {\n      // Remove the previous css class name from the pane if it has changed.\n      // setStyle() will take care of adding in the updated className\n      if (prevProps.className && this.props.className !== prevProps.className) {\n        const pane = this.getPane(this.state.name)\n        if (pane != null && prevProps.className != null) {\n          removeClassName(pane, prevProps.className)\n        }\n      }\n\n      // Update the pane's DOM node style and class\n      this.setStyle(this.props)\n    }\n  }\n\n  componentWillUnmount() {\n    this.removePane()\n  }\n\n  createPane(props: Props) {\n    const { map } = props.leaflet\n    const name = props.name || `pane-${uniqueId()}`\n\n    if (map != null && map.createPane != null) {\n      const isDefault = isLeafletPane(name)\n      const existing = isDefault || this.getPane(name)\n\n      if (existing == null) {\n        map.createPane(name, this.getParentPane())\n      } else {\n        const message = isDefault\n          ? `You must use a unique name for a pane that is not a default leaflet pane (${name})`\n          : `A pane with this name already exists. (${name})`\n        warning(false, message)\n      }\n\n      this.setState(\n        { name, context: { ...props.leaflet, pane: name } },\n        this.setStyle,\n      )\n    }\n  }\n\n  removePane() {\n    // Remove the created pane\n    const { name } = this.state\n    if (name != null) {\n      const pane = this.getPane(name)\n      if (pane != null && pane.remove) pane.remove()\n\n      const { map } = this.props.leaflet\n      if (map != null && map._panes != null) {\n        map._panes = omit(map._panes, name)\n        map._paneRenderers = omit(map._paneRenderers, name)\n      }\n    }\n  }\n\n  setStyle = ({ style, className }: Props = this.props) => {\n    const pane = this.getPane(this.state.name)\n    if (pane) {\n      if (className) {\n        addClassName(pane, className)\n      }\n      if (style) {\n        // Without the cast, Flow throws this error:\n        //   Cannot assign style[key] to pane.style[key] because string\n        //   is incompatible with number.\n        Object.keys(style).forEach((key: any) => {\n          pane.style[key] = style[key]\n        })\n      }\n    }\n  }\n\n  getParentPane(): ?HTMLElement {\n    return this.getPane(this.props.pane || this.props.leaflet.pane)\n  }\n\n  getPane(name: ?string): ?HTMLElement {\n    if (name != null && this.props.leaflet.map != null) {\n      return this.props.leaflet.map.getPane(name)\n    }\n  }\n\n  render() {\n    const { context } = this.state\n    return context ? (\n      <LeafletProvider value={context}>\n        <div style={paneStyles}>{this.props.children}</div>\n      </LeafletProvider>\n    ) : null\n  }\n}\n\nexport default withLeaflet<Props, Pane>(Pane)\n","// @flow\n\nimport { Popup as LeafletPopup } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport DivOverlay from './DivOverlay'\nimport type { LatLng, DivOverlayProps } from './types'\n\ntype LeafletElement = LeafletPopup\ntype Props = {\n  autoPan?: boolean,\n  position?: LatLng,\n} & DivOverlayProps\n\nclass Popup extends DivOverlay<LeafletElement, Props> {\n  static defaultProps = {\n    pane: 'popupPane',\n  }\n\n  getOptions(props: Props): Props {\n    return {\n      ...super.getOptions(props),\n      autoPan: false,\n    }\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    const options = this.getOptions(props)\n    options.autoPan = props.autoPan !== false\n    return new LeafletPopup(options, props.leaflet.popupContainer)\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position)\n    }\n  }\n\n  componentDidMount() {\n    const { position } = this.props\n    const { map, popupContainer } = this.props.leaflet\n    const el = this.leafletElement\n\n    if (map != null) {\n      map.on({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose,\n      })\n    }\n\n    if (popupContainer) {\n      // Attach to container component\n      popupContainer.bindPopup(el)\n    } else {\n      // Attach to a Map\n      if (position) {\n        el.setLatLng(position)\n      }\n      el.openOn(map)\n    }\n  }\n\n  componentWillUnmount() {\n    const { map } = this.props.leaflet\n\n    if (map != null) {\n      map.off({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose,\n      })\n      map.removeLayer(this.leafletElement)\n    }\n\n    super.componentWillUnmount()\n  }\n\n  onPopupOpen = ({ popup }: { popup: LeafletElement }) => {\n    if (popup === this.leafletElement) {\n      this.onOpen()\n    }\n  }\n\n  onPopupClose = ({ popup }: { popup: LeafletElement }) => {\n    if (popup === this.leafletElement) {\n      this.onClose()\n    }\n  }\n\n  onRender = () => {\n    if (this.props.autoPan !== false && this.leafletElement.isOpen()) {\n      if (this.leafletElement._map && this.leafletElement._map._panAnim) {\n        this.leafletElement._map._panAnim = undefined\n      }\n      this.leafletElement._adjustPan()\n    }\n  }\n}\n\nexport default withLeaflet<Props, Popup>(Popup)\n","// @flow\n\nimport { Polygon as LeafletPolygon } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletPolygon\ntype Props = {\n  positions: LatLng[] | LatLng[][] | LatLng[][][],\n} & PathProps\n\nclass Polygon extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletPolygon(props.positions, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.positions !== fromProps.positions) {\n      this.leafletElement.setLatLngs(toProps.positions)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Polygon>(Polygon)\n","// @flow\n\nimport { Polyline as LeafletPolyline } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLng, PathProps } from './types'\n\ntype LeafletElement = LeafletPolyline\ntype Props = {\n  positions: LatLng[] | LatLng[][],\n} & PathProps\n\nclass Polyline extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletPolyline(props.positions, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.positions !== fromProps.positions) {\n      this.leafletElement.setLatLngs(toProps.positions)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Polyline>(Polyline)\n","// @flow\n\nimport { Rectangle as LeafletRectangle } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport Path from './Path'\nimport type { LatLngBounds, PathProps } from './types'\n\ntype LeafletElement = LeafletRectangle\ntype Props = { bounds: LatLngBounds } & PathProps\n\nclass Rectangle extends Path<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletRectangle(props.bounds, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(toProps.bounds)\n    }\n    this.setStyleIfChanged(fromProps, toProps)\n  }\n}\n\nexport default withLeaflet<Props, Rectangle>(Rectangle)\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Scale\ntype Props = {\n  imperial?: boolean,\n  maxWidth?: number,\n  metric?: boolean,\n  updateWhenIdle?: boolean,\n} & MapControlProps\n\nclass ScaleControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Scale(props)\n  }\n}\n\nexport default withLeaflet<Props, ScaleControl>(ScaleControl)\n","// @flow\n\nimport { TileLayer as LeafletTileLayer } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport GridLayer from './GridLayer'\nimport type { GridLayerProps } from './types'\n\ntype LeafletElement = LeafletTileLayer\ntype Props = { url: string } & GridLayerProps\n\nclass TileLayer extends GridLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletTileLayer(props.url, this.getOptions(props))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    super.updateLeafletElement(fromProps, toProps)\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n  }\n}\n\nexport default withLeaflet<Props, TileLayer>(TileLayer)\n","// @flow\n\nimport { Tooltip as LeafletTooltip } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport DivOverlay from './DivOverlay'\nimport type { DivOverlayProps } from './types'\n\ntype LeafletElement = LeafletTooltip\ntype Props = DivOverlayProps\n\nclass Tooltip extends DivOverlay<LeafletElement, Props> {\n  static defaultProps = {\n    pane: 'tooltipPane',\n  }\n\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletTooltip(\n      this.getOptions(props),\n      props.leaflet.popupContainer,\n    )\n  }\n\n  componentDidMount() {\n    const { popupContainer } = this.props.leaflet\n    if (popupContainer == null) return\n\n    popupContainer.on({\n      tooltipopen: this.onTooltipOpen,\n      tooltipclose: this.onTooltipClose,\n    })\n    popupContainer.bindTooltip(this.leafletElement)\n  }\n\n  componentWillUnmount() {\n    const { popupContainer } = this.props.leaflet\n    if (popupContainer == null) return\n\n    popupContainer.off({\n      tooltipopen: this.onTooltipOpen,\n      tooltipclose: this.onTooltipClose,\n    })\n    if (popupContainer._map != null) {\n      popupContainer.unbindTooltip(this.leafletElement)\n    }\n  }\n\n  onTooltipOpen = ({ tooltip }: { tooltip: LeafletElement }) => {\n    if (tooltip === this.leafletElement) {\n      this.onOpen()\n    }\n  }\n\n  onTooltipClose = ({ tooltip }: { tooltip: LeafletElement }) => {\n    if (tooltip === this.leafletElement) {\n      this.onClose()\n    }\n  }\n}\n\nexport default withLeaflet<Props, Tooltip>(Tooltip)\n","// @flow\n\nimport { VideoOverlay as LeafletVideoOverlay, latLngBounds } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapLayer from './MapLayer'\nimport type { LatLngBounds, MapLayerProps } from './types'\n\ntype LeafletElement = LeafletVideoOverlay\ntype Props = {\n  attribution?: string,\n  bounds: LatLngBounds,\n  opacity?: number,\n  play?: boolean,\n  url: string | string[] | HTMLVideoElement,\n  zIndex?: number,\n} & MapLayerProps\n\nclass VideoOverlay extends MapLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new LeafletVideoOverlay(\n      props.url,\n      props.bounds,\n      this.getOptions(props),\n    )\n  }\n\n  componentDidMount() {\n    super.componentDidMount()\n    if (this.props.play === true) {\n      this.leafletElement.getElement().play()\n    }\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url)\n    }\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(latLngBounds(toProps.bounds))\n    }\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity)\n    }\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex)\n    }\n    // flowlint-next-line sketchy-null-bool:off\n    if (toProps.play === true && !fromProps.play) {\n      this.leafletElement.getElement().play()\n      // flowlint-next-line sketchy-null-bool:off\n    } else if (!toProps.play && fromProps.play === true) {\n      this.leafletElement.getElement().pause()\n    }\n  }\n}\n\nexport default withLeaflet<Props, VideoOverlay>(VideoOverlay)\n","// @flow\n\nimport { TileLayer } from 'leaflet'\nimport isEqual from 'fast-deep-equal'\n\nimport { withLeaflet } from './context'\nimport GridLayer from './GridLayer'\nimport { EVENTS_RE } from './MapEvented'\nimport type { GridLayerProps } from './types'\n\ntype LeafletElement = TileLayer.WMS\ntype Props = { url: string } & GridLayerProps\n\nclass WMSTileLayer extends GridLayer<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    const { url, ...params } = props\n    return new TileLayer.WMS(url, this.getOptions(params))\n  }\n\n  updateLeafletElement(fromProps: Props, toProps: Props) {\n    super.updateLeafletElement(fromProps, toProps)\n\n    const { url: prevUrl, opacity: _po, zIndex: _pz, ...prevParams } = fromProps\n    const { url, opacity: _o, zIndex: _z, ...params } = toProps\n\n    if (url !== prevUrl) {\n      this.leafletElement.setUrl(url)\n    }\n    if (!isEqual(params, prevParams)) {\n      this.leafletElement.setParams(params)\n    }\n  }\n\n  getOptions(params: Object): Object {\n    const superOptions = super.getOptions(params)\n    return Object.keys(superOptions).reduce((options, key) => {\n      if (!EVENTS_RE.test(key)) {\n        options[key] = superOptions[key]\n      }\n      return options\n    }, {})\n  }\n}\n\nexport default withLeaflet<Props, WMSTileLayer>(WMSTileLayer)\n","// @flow\n\nimport { Control } from 'leaflet'\n\nimport { withLeaflet } from './context'\nimport MapControl from './MapControl'\nimport type { MapControlProps } from './types'\n\ntype LeafletElement = Control.Zoom\ntype Props = {\n  zoomInText?: string,\n  zoomInTitle?: string,\n  zoomOutText?: string,\n  zoomOutTitle?: string,\n} & MapControlProps\n\nclass ZoomControl extends MapControl<LeafletElement, Props> {\n  createLeafletElement(props: Props): LeafletElement {\n    return new Control.Zoom(props)\n  }\n}\n\nexport default withLeaflet<Props, ZoomControl>(ZoomControl)\n","import React, { Component } from 'react'\nimport { Map as LeafletMap, TileLayer, GeoJSON } from './reactleaflet'\nimport P3_Data from './P3_DMP.json'\nimport P3_Data_Route from './P3_ROUTE.json'\n\ntype State = {\n  lat: number,\n  lng: number,\n  zoom: number\n}\n\nexport default class geoJSON extends Component<{}, State> {\n  state = {\n    lat: 31.00,\n    lng: -100.00,\n    zoom: 10\n  }\n\n  geoJSONStyle(feature) {\n    let theColor = '#ff7878';\n    let theFillColor = '#ff8989';\n    console.log(feature.properties)\n    if ((!!feature.properties.MAIL_ZIP && !!feature.properties.MAIL_CITY && !!feature.properties.MAIL_STATE && !!feature.properties.PROP_ADDR) || (!!feature.properties.MAIL_ZIP && !!feature.properties.COUNTY_NAME && !!feature.properties.MAIL_STATE && !!feature.properties.PARCEL_APN)){\n      theColor = '#6eff00';\n      theFillColor = '#4ad8c3';\n    }\n    \n    return {\n      color: theColor,\n      weight: 1,\n      fillOpacity: 0.5,\n      fillColor: theFillColor,\n    }\n  }\n  geoJSONStyleRoute() {\n    return {\n      color: '#0e4dec',\n      weight: 1,\n      fillOpacity: 0.5,\n      fillColor: '#63c0e1',\n    }\n  } \n   onEachFeature(feature: Object, layer: Object)  {\n    const popupContent = `PARCEL_APN:` + feature.properties.PARCEL_APN;  \n  }\n\n  render() {\n    const position = [this.state.lat, this.state.lng]\n    return (\n      <div className=\"map-container\">\n      <LeafletMap center={position} zoom={this.state.zoom}>\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <GeoJSON\n          data={P3_Data}\n          style={this.geoJSONStyle}\n          onEachFeature={this.onEachFeature}\n        />\n         <GeoJSON\n          data={P3_Data_Route}\n          style={this.geoJSONStyleRoute}\n        />\n      </LeafletMap>\n      </div>\n    )\n  }\n}","/* eslint-disable */\nconst React = require('react')\nconst Uppy = require('@uppy/core')\nconst Tus = require('@uppy/tus')\nconst GoogleDrive = require('@uppy/google-drive')\nconst { Dashboard, DashboardModal, DragDrop, ProgressBar } = require('@uppy/react')\nimport { Icon, Input, AutoComplete } from 'antd';\nimport 'antd/dist/antd.css';\nimport Map from './Map';\n\nconst { Option, OptGroup } = AutoComplete;\n\nconst dataSource = [\n  {\n    title: 'Kinder Morgan',\n    children: [\n      {\n        title: 'Gulf Coast Express',\n        id: '278867.0000.0000'\n      }\n    ]\n  },\n  {\n    title: 'New York State Energy Research',\n    children: [\n      {\n        title: 'NYSERDA Multifamily',\n        id: '114810.0000.0000',\n      }\n    ]\n  },\n  {\n    title: 'West Texas Swogp',\n    children: [\n      {\n        title: 'West Texas Swogp',\n        id: '117781.0000.0000',\n      },\n    ],\n  },\n];\n\nfunction renderTitle(title) {\n  return (\n    <span>\n      {title}\n      <a\n        style={{ float: 'right' }}\n        href=\"#\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        more\n      </a>\n    </span>\n  );\n}\n\nconst options = dataSource\n  .map(group => (\n    <OptGroup key={group.title} label={renderTitle(group.title)}>\n      {group.children.map(opt => (\n        <Option key={opt.title} value={opt.title}>\n          {opt.title}\n          <span className=\"certain-search-item-count\">{opt.id}</span>\n        </Option>\n      ))}\n    </OptGroup>\n  ))\n  .concat([\n    <Option disabled key=\"all\" className=\"show-all\">\n      <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">\n        View all projects\n      </a>\n    </Option>,\n  ]);\n\n\n\nclass Upload extends React.Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      showInlineDashboard: false,\n      open: false,\n      uploaded: false,\n      showMap: false\n    }\n\n    this.uppy = new Uppy({ id: 'uppy1', autoProceed: true, debug: true,\n      restrictions: {\n        maxFileSize: 10000000,\n        maxNumberOfFiles: 1,\n        minNumberOfFiles: 1\n      }\n     })\n      .use(Tus, { endpoint: 'https://master.tus.io/files/' })\n      .use(GoogleDrive, { companionUrl: 'https://companion.uppy.io' })\n\n    this.uppy2 = new Uppy({ id: 'uppy2', autoProceed: false, debug: true })\n      .use(Tus, { endpoint: 'https://master.tus.io/files/' })\n\n    this.handleModalClick = this.handleModalClick.bind(this)\n    this.showMap = this.showMap.bind(this);\n    this.uppy.on('complete', (result) => {\n        this.setState({\n          uploaded: true\n        })\n        console.log('successful files:', result.successful)\n        console.log('failed files:', result.failed)\n      })\n  }\n\n  componentWillUnmount () {\n    this.uppy.close()\n    this.uppy2.close()\n  }\n\n  handleModalClick () {\n    this.setState({\n      open: !this.state.open\n    })\n  }\n\n  showMap() {\n    this.setState({\n      showMap: true\n    })\n    console.log('loading map ...')\n\n  }\n  render () {\n    const { showInlineDashboard, showMap, uploaded } = this.state\n    let theMap = <span/>;\n    let theUploadArea = <div>\n        <h2>Shapefile Upload</h2>\n        <h3>Drag Drop Area</h3>\n        <DragDrop\n          uppy={this.uppy}\n          plugins={['GoogleDrive', 'Dropbox']}\n          locale={{\n            strings: {\n              chooseFile: 'Boop a file',\n              orDragDrop: 'or yoink it here'\n            }\n          }}\n        />\n        <ProgressBar\n          uppy={this.uppy}\n          hideAfterFinish={false}\n        />\n        </div>;\n\n\n    if (showMap) {\n      theMap = <Map />;\n      theUploadArea = <span />;\n    }\n    let theButton = <span/>;\n    if (uploaded) {\n      theButton = <span onClick={this.showMap} id='editshape'>View Your Shape</span>\n    }\n    return (\n    <div>\n     <div className=\"certain-category-search-wrapper\">\n      <AutoComplete\n        className=\"certain-category-search\"\n        dropdownClassName=\"certain-category-search-dropdown\"\n        dropdownMatchSelectWidth={false}\n        dropdownStyle={{ width: 300 }}\n        size=\"large\"\n        style={{ width: '100%' }}\n        dataSource={options}\n        placeholder=\"select projects\"\n        optionLabelProp=\"value\"\n      >\n        <Input suffix={<Icon type=\"search\" className=\"certain-category-icon\" />} />\n      </AutoComplete>\n    </div>\n      <div className=\"mainUpload\">\n        {theUploadArea}\n        {theButton}      \n      </div>\n      <div>\n        {theMap}\n      </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Upload;","import React from 'react';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-balham.css';\nimport \"ag-grid-enterprise\";\nimport * as XLSX from 'xlsx';\nimport { Icon, message} from 'antd';\n\n//import {LicenseManager} from \"ag-grid-enterprise/main\";\n//LicenseManager.setLicenseKey(\"S&B_Admin_Services_MultiApp_4Devs15_June_2019__MTU2MDU1MzIwMDAwMA==cc18a13e606c6b48fed932a64c83907a\");\n\nfunction genLink(v){\n return Math.floor(Math.random() * v) + 1 \n} \n\nfunction b64toBlob(b64Data,contentType) {\n  var sliceSize = 512;\n  var byteCharacters = atob(b64Data);\n  var byteArrays = [];\n  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    var slice = byteCharacters.slice(offset,offset + sliceSize);\n    var byteNumbers = new Array(slice.length);\n    for (var i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n    var byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n  var blob = new Blob(byteArrays,{ type: contentType });\n  return blob;\n}\n\nfunction download(params,content) {\n  var fileNamePresent = params && params.fileName && params.fileName.length !== 0;\n  var fileName = fileNamePresent ? params.fileName : \"trc_parcel_Data-NYSERDA_Multifamily.xlsx\";\n  var blobObject = b64toBlob(content,\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\");\n  if (window.navigator.msSaveOrOpenBlob) {\n    window.navigator.msSaveOrOpenBlob(blobObject,fileName);\n  } else {\n    var downloadLink = document.createElement(\"a\");\n    downloadLink.href = URL.createObjectURL(blobObject);\n    downloadLink.download = fileName;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  }\n}\n\nconst dataLink = \"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/data\";\n////////////////////////////////////////////////\n/* GLOBALS */\n////////////////////////////////////////////////\n\nlet ajaxArrayUrl_Property_Data_Reports = {};\nlet ajaxArrayUrl_Property_Transaction_Details = {};\nlet minRowHeight = 25;\nlet currentRowHeight = minRowHeight;\n\nlet _data = [];\n// let columnDefs = Object.keys(_data[0]).map((i)=>{\n//             return {headerName: i,field: i,filter: \"agTextColumnFilter\"}\n//         });\nlet columnDefs = [];\n////////////////////////////////////////////////\n/* STEP 1 -- FETCH SIK -- */\n////////////////////////////////////////////////\nconst account_user = [\"TRCSolutions\",\"ActUser\"];\n\nconst t_account_user = [\"CRESALES\",\"TRCTEST\"];\n//note http or https here\nlet sLoginRequest = \"//parcelstream.com/admin/getSIK.aspx?ACCOUNT=\" + t_account_user[0] + \"&LOGIN=\" + t_account_user[1];\nconsole.log('------step1: SIK url-------');\nconsole.log(sLoginRequest);\n//sample wkt for testing\nconst wkt1 = \"LINESTRING (-95.9621226483684 36.066442984799,-95.9630934684588 36.0657434232634,-95.9630934684588 36.0641015951692,-95.9621226483684 36.0641015951692,-95.9621226483684 36.0611463046)\";\n\nconst wkt2 = \"LINESTRING (-103.1096009 31.2769897,-103.1092908 31.2765736,-103.1076532 31.2774741,-103.1056718 31.2784913,-103.0938222 31.2789744,-103.0914563 31.2789636,-103.0753606 31.2737632,-103.075301 31.2728564,-103.0682859 31.2712042,-103.0672612 31.2711018,-103.0657588 31.2702005,-103.0632747 31.2697876,-103.0605646 31.2696393,-103.0543035 31.2685536,-103.0472116 31.2672649,-103.039892 31.2653468,-103.0372597 31.2644719,-103.0349208 31.264074,-103.0331718 31.2636361,-103.0267821 31.2622371,-103.0179161 31.2608445,-103.0084485 31.2595426,-102.9974336 31.2580747,-102.9847674 31.2556142,-102.974231 31.2535978,-102.965657 31.2520091,-102.9587656 31.2506658,-102.9434985 31.2478329,-102.9351329 31.2462622,-102.9321134 31.2452354,-102.9265157 31.2442379,-102.9158468 31.2423402,-102.9010741 31.239616,-102.8916908 31.237881,-102.8829731 31.2363683,-102.8825386 31.235956,-102.8658963 31.2330367,-102.8570393 31.2304367,-102.853745 31.2295414,-102.8529846 31.2296068,-102.8521499 31.2296785,-102.8375638 31.2248896,-102.8352975 31.2244173,-102.8350179 31.2243192,-102.8320619 31.2232975,-102.8289028 31.2221614,-102.8223331 31.2200846,-102.8147821 31.218128,-102.8099154 31.2168111,-102.8047199 31.2154551,-102.8036078 31.2141898,-102.7938632 31.2108521,-102.7851065 31.2045627,-102.7842709 31.2053735,-102.7620928 31.2004352,-102.7614043 31.1999941,-102.7356253 31.1922074,-102.7134368 31.1858633,-102.6905012 31.1793004,-102.6662222 31.1723476,-102.6403505 31.1649324,-102.6033247 31.154291,-102.5688436 31.1449222,-102.555017 31.1411647,-102.5393634 31.1372141,-102.5213604 31.1332218,-102.4772542 31.1241134,-102.4496911 31.119301,-102.4220405 31.1164408,-102.41569 31.116135,-102.3934497 31.1143148,-102.3768504 31.117011,-102.3527952 31.1226849,-102.3309572 31.1308071,-102.2514472 31.1456294,-102.245744 31.1487983,-102.2345531 31.1603096)\";\n\n\n////////////////////////////////////////////////\n/* STEP 2 -- EXTRACT CANDY AND DATA CENTER -- */\n////////////////////////////////////////////////\n/*_DMP_ID,PARCEL_DMP_ID, PARCEL_APN, TAXAPN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, ADDR_SCORE,MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS,LEGAL_FULL,LEGAL_SEC_TWP_RNG,VAL_MARKET,ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY,LOCATION_ID, PROPERTY_DMP_ID, PROPERTY_ID*/\nconst demoCandy = \"xINBuuymZ0px5mpsdeJucIVISR8hCK9xzApDUg~~\";\nconst QUERY_FIELDS = \"_DMP_ID, PARCEL_APN, APN, OWNER_NAME_1, OWNER_NAME_2, MAIL_ADDR, MAIL_CITY, MAIL_STATE, MAIL_ZIP, SITE_ADDR, SITE_CITY, SITE_STATE, SITE_ZIP, MAIL_CARE_OF_NAME, USE_CODE_STD_DESC_LPS, USE_CODE_STD_CTGR_DESC_LPS, VAL_MARKET, ACREAGE,LOCATION_ID, PROP_ADDRESS,COUNTY, PROPERTY_ID\";\nconst demoUrl = `//dc1.parcelstream.com/getQuery.aspx?datasource=SS.Prop.ParcelDetail/ParcelDetail&inclusiongeometries=`+ wkt1+`&SS_Candy=`+demoCandy+`&fields=`+QUERY_FIELDS;\nconsole.log('------step2:getQuery url-------');\nconst demoUrlPOST = `//dc1.parcelstream.com/getQuery.aspx`;\n/*\nDAILY UPDATED\nconst DAILY = http://dc2.parcelstream.com/_T94/InitSession.aspx?sik=_T94/3c2f66df-74f3-4f0f-ab7f-5fbffadadda8-101400_57047463&output=xml\n*/\n////////////////////////////////////////////////\n/* STEP 3 -- ACCESS PARCEL DETAILS -- */\n////////////////////////////////////////////////\nlet rowDataParsed = [];\n////////////////////////////////////////////////\n/* STEP 4 -- ACCESS DOCUMENT IMAGES -- */\n////////////////////////////////////////////////\nconst getImageAvailable =  \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?\";\nconst purchaseImage = \"//apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesRequest.ashx?\";\n/*city=Tukwila&county=King&state=WA&ZIP=98188&code=SDX&deliveryMethod=FTP&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&APN=537920-0065&locId=US_53_033_5379200065&callback=https%3A%2F%2Fapps.spatialstream.com%2FAppUtils%2FDocument%2520Images%2FDocumentImagesDownloadDemo.ashx&requestedDocs=[{\"DocumentType\":\"Other\",\"DocumentTypeOtherDescription\":\"Deed Transfer\",\"InstrumentNumberIdentifier\":\"1999.505.0688\",\"InstrumentNumberCMTIdentifier\":\"1223\",\"RecordedDatetimeStr\":\"05/05/1999\"}]&output=JSON&uid=101400_570428348\n*/\n/*\nhttps://apps.spatialstream.com/AppUtils/Document%20Images/DocumentImagesListAvailable.ashx?city=Tukwila&county=King&state=WA&ZIP=98188&code=THD2&SS_CANDY=xINBuuymZ0px5mpsdeJucDDXrJrsU69xdEJeYQ~~&apn=537920-0065&address=16028%2051st%20Ave%20S&obsId=json&obsSuccessMethod=success&obsErrorMethod=error\n*/\n////////////////////////////////////////////////\n/* STEP 5 -- ACCESS PROPERTY DATA REPORTS-- */\n////////////////////////////////////////////////\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_329_038100312300&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=v2_xINBqcvXZ0pT82psV_ducIZjbCn-U69xAUFBUigzIw~~&uid=104762_570470830\n*/\nlet get_property_data_reports_by_location_id = (location_id) => {\n    if (location_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=\" + location_id+ \"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=\" + demoCandy + \"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n/*\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=400790018387&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=v2_z45jEMvXZ0pT82psV_ducIfY9GLoW69xdyxKUSgzIw~~&uid=104762_570470830\nhttps://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.PropertyDetail/PropertyDetail&keyName=LOCATION_ID&keyValue=US_48_371_4410&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FParcelFullDetail.xsl&SS_CANDY=xINBuuymZ0px5mpsdeJucNXubKggRa9x23dGYA~~&uid=104762_570470830\n*/\nlet get_property_transaction_details_by_property_id = (property_id) => {\n    if (property_id){\n        return \"https://dc1.spatialstream.com/GetByKey.aspx?dataSource=SS.Prop.Transactions/Transactions&keyName=PROPERTY_ID&keyValue=\"+ property_id+\"&output=custom&transformer=http%3A%2F%2Fapps.spatialstream.com%2Fproduction%2Faspx%2FAppUtils%2FPropertyDetailTransformer%2FTransactionHistory.xsl&orderby=date_transfer&sortdir=desc&SS_CANDY=\"+demoCandy+\"&uid=104762_570470830\";\n    }\n    else {\n        return \"-\"\n    }\n    \n}\n\nfunction triggerDownload(_v1, _v2){\n\n}\nclass RealTimeData extends React.Component {\n    constructor(props) {\n    super(props);\n    this.parseDemo = this.parseDemo.bind(this);\n   \n    this.state = {\n          error: null,\n          isLoaded: false,\n          rowData: _data,\n          imageAvailablePercentage: 0,\n          totalPrice: 0,\n          processed: false,\n          getRowHeight: function() {\n            return currentRowHeight;\n          },\n          rowGroupPanelShow: \"always\",\n          defaultExportParams: { suppressTextAsCDATA: true },   \n          columnDefs: null,\n          defaultColDef: {\n            sortable: true,\n            resizable: true,\n            filter: true,\n            minWidth: 150\n          },\n          excelStyles: [\n        {\n          id: \"defaultReport\",\n          interior: {\n            color: \"#ffffff\",\n            pattern: \"Solid\"\n          }\n        },\n        {\n          id: \"borderSolid\",\n          borders: {\n                borderLeft: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderRight: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderBottom: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                },\n                borderTop: {\n                    color: \"#999999\",lineStyle: 'Continuous',weight: 1\n                }\n            }\n          },\n         {\n          id: \"header\",\n          interior: {\n            color: \"#d2d2d2\",\n            pattern: \"Solid\"\n          },\n          borders: {\n                borderLeft: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderRight: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderBottom: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                },\n                borderTop: {\n                    color: \"#000000\",lineStyle: 'Continuous',weight: 2\n                }\n            }\n          }\n        ]\n\n        };\n    }\n  componentDidMount() {\n    let d = new Date();\n    if (d.getDay() > 29){\n        message.success(\"Welcome back!\");    \n    }\n   }\n\n  onGridReady = params => {\n    message.success(\"Loaded successfully\");\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n    minRowHeight = 25;\n    currentRowHeight = minRowHeight;\n    params.api.sizeColumnsToFit();\n    message.success('Welcome!');\n    ////////////local data test//////////////\n    //let datasource = dataLink + genLink(25) + \".json\";    \n    // fetch(demoUrl)\n    //    .then(result => parseDemo(result))\n    //    .then(rowData => this.setState({rowData}));\n\n\n    ///////////test with wkt1 - GET///////////\n    //this.ajaxCall(demoUrl,this.parseDemo);\n\n    ///////////test with wkt2 - POST///////////\n    //this.ajaxCallPOST(demoUrlPOST,this.parseDemo);\n\n    ///////////use cache - GET///////////\n    this.ajaxCall(\"https://raw.githubusercontent.com/kyangTRC/files/master/total_cleaned.json\",this.parseDemo, true);\n  };\n\n  onGridSizeChanged(params) {\n    var gridHeight = document.getElementsByClassName(\"ag-body-viewport\")[0].offsetHeight;\n    var renderedRows = params.api.getRenderedNodes();\n    if (renderedRows.length * minRowHeight >= gridHeight) {\n      if (currentRowHeight !== minRowHeight) {\n        currentRowHeight = minRowHeight;\n        params.api.resetRowHeights();\n      }\n    } else {\n      currentRowHeight = 25 || Math.floor(gridHeight / renderedRows.length);\n      params.api.resetRowHeights();\n    }\n  }\n \n   ajaxCall(url, callback = this.parseDemo, hasProperty = false) {\n      let xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status == 200) {\n          callback(this, hasProperty);\n        }\n      };\n      xhttp.open(\"GET\",url);\n      //test ajax call with POST\n      xhttp.send();\n    }\n\n    ajaxCallPOST(url, callback, hasProperty = false) {\n        var data = new FormData();\n        data.append(\"datasource\", \"SS.Prop.ParcelDetail/ParcelDetail\");\n        data.append(\"inclusiongeometries\", wkt2);\n        data.append(\"SS_CANDY\", demoCandy)\n        data.append(\"fields\", QUERY_FIELDS);\n\n        var xhr = new XMLHttpRequest();\n        xhr.withCredentials = true;\n\n        xhr.addEventListener(\"readystatechange\", function () {\n          if (this.readyState === 4 && this.status == 200) {\n            callback(this);\n          }\n        });\n\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        xhr.send(data);\n    }\n    removeSign(arr, _sign, hasProperty) {\n        let _arr = [];\n        let _col = [];\n        //remove $ in data\n        let imageCount = arr.length;\n        let percentage = 0;\n        let imageAvailableCount = 0;\n        let priceInfo = 0;\n        const UNIT_PRICE = 6;\n        if (imageCount > 0){\n            arr.map(function(i){\n\n            //get property detail\n            const PROPERTY_DATA_REPORTS_URL = get_property_data_reports_by_location_id(i[_sign+'LOCATION_ID']);\n            const PROPERTY_TRANSACTION_DETAILS_URL = get_property_transaction_details_by_property_id(i[_sign+'PROPERTY_ID']);;\n            //if there's a missing field,show 'unavailable'\n            let imageInfo = '-';\n            if (i[_sign+'SITE_ZIP'] && i[_sign+'SITE_CITY'] && i[_sign+'SITE_STATE'] && i[_sign+'PROP_ADDRESS']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'_DMP_ID'] + '&city=' + i[_sign+'SITE_CITY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&code=THD2&SS_CANDY=' + demoCandy  + '&address=' + i[_sign+'PROP_ADDRESS']+ '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else if (i[_sign+'SITE_ZIP'] && i[_sign+'COUNTY'] && i[_sign+'SITE_STATE'] && i[_sign+'APN']){\n                /////////////IF IMAGE IS AVAILABLE//////////////\n                imageAvailableCount = imageAvailableCount + 1;\n                imageInfo = getImageAvailable + '&dmpId='+ i[_sign+'_DMP_ID'] + '&code=THD2&SS_CANDY=' + demoCandy + '&apn=' + i[_sign+'APN'] + '&county=' + i[_sign+'COUNTY'] + '&state=' + i[_sign+'SITE_STATE'] + '&zip='+ i[_sign+'SITE_ZIP'] + '&obsId=json&obsSuccessMethod=success&obsErrorMethod=error';\n                priceInfo = UNIT_PRICE;\n            }\n            else {\n                priceInfo = 0;\n            }\n            i[\"IMAGE\"] = imageInfo;\n            i[\"PRICE\"] = priceInfo; //unit price\n            i[\"PROPERTY_DETAIL\"] = PROPERTY_DATA_REPORTS_URL;\n            i[\"PROPERTY_TRANSACTION_DETAILS\"] = PROPERTY_TRANSACTION_DETAILS_URL;\n            //ajaxArrayUrl_Property_Data_Reports[i[_sign+'LOCATION_ID']] = PROPERTY_DATA_REPORTS_URL;\n            //ajaxArrayUrl_Property_Transaction_Details[i[_sign+'LOCATION_ID']] = PROPERTY_TRANSACTION_DETAILS_URL;\n            _arr.push(i);\n        });\n\n        //column header4\n        _col = Object.keys(_arr[0]).map((i)=>{\n             if (i===\"IMAGE\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Image Link </a>'\n                }}\n             }\n             if (i===\"PROPERTY_DETAIL\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Detail </a>'\n                }}\n             }\n             if (i===\"PROPERTY_TRANSACTION_DETAILS\"){\n                return {headerName: i,field: i,cellRenderer:function(params){\n                    if (params.value === '-'){\n                        return '-'\n                    }\n                    return '<a href=\"'+params.value+'\" target=\"_blank\"> Property Transaction Detail </a>'\n                }}\n             }\n             return {headerName: i.replace('-','').replace('_',' ').replace('_',' '),field: i,filter: \"agTextColumnFilter\"}\n         });\n\n        //update percentage\n        percentage = (imageAvailableCount * 1.0/imageCount * 100).toFixed(2) + '%';\n        this.setState({imageAvailablePercentage: percentage, totalPrice: (imageAvailableCount * UNIT_PRICE).toFixed(2), processed: true});\n        }\n        //triggerDownload(ajaxArrayUrl_Property_Data_Reports, ajaxArrayUrl_Property_Transaction_Details);\n        return [_arr,_col];\n    }\n    parseDemo(xmlorjson, hasProperty) {\n      // let xml2jsString = require('xml2js').parseString;\n      // const xmlResponse = xml.responseText;\n      // xml2jsString(xmlResponse,function(err,result){\n         \n      //    if (result.Response.Error) {\n      //       console.dir(result);\n      //       console.log(\"loading cache ... use cache if needed\");\n      //       this.ajaxCall(\"https://raw.githubusercontent.com/kyangTRC/sample/master/python_gen_data/cache-full.xml\");\n      //    }\n      //    else {\n      //        let __arr = this.removeSign(result.Response.Results[0].Data[0].Row);\n      //        this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n      //    }\n         \n      // }.bind(this));\n      const _t = JSON.parse(xmlorjson.responseText);\n      let __arr = this.removeSign(_t.Row, \"-\", hasProperty);\n      this.setState({rowData: __arr[0],columnDefs: __arr[1]});\n\n    }\n\n  onCsvExport() {\n    //csv\n    var params = {\n      skipHeader: false,\n      columnGroups: false,\n    };\n    \n    this.gridApi.exportDataAsCsv(params);\n  }\n\n  onBtExport() {\n    //xls format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    \n    this.gridApi.exportDataAsExcel(params);\n  }\n\n  onBtExportNew() {\n      //xlsx format\n    var params = {\n      skipHeader: false,\n      columnGroups: true,\n    };\n    var content = this.gridApi.getDataAsExcel(params);\n    var workbook = XLSX.read(content,{ type: \"binary\" });\n    var xlsxContent = XLSX.write(workbook,{\n      bookType: \"xlsx\",\n      type: \"base64\"\n    });\n    download(params,xlsxContent);\n  }\n\n  onBtPrint() {\n      window.print();    \n  }\n\n  render () {\n    let price_rows = this.state.totalPrice;\n    return (\n    <div style={{ width: \"100%\",height:\"680px\" }}>\n    <h3> Image available percentage: <span style={{ color: 'green'}}>{this.state.imageAvailablePercentage}</span> of the data has image document</h3>\n    <h3> Image cost: <span style={{ color: 'green'}}>${price_rows}</span></h3>\n    <div className=\"buttonGroup\">\n    <label className=\"exportButtons\">\n    <button type=\"button\" className=\"btn\" id=\"excelExportNew\" onClick={this.onBtExportNew.bind(this)} >\n    <div>x</div></button><button type=\"button\" className=\"btn\" id=\"pdfExport\" onClick={this.onBtPrint.bind(this)} >PDF</button>\n    <button type=\"button\" className=\"btn\" id=\"csvExport\"  onClick={this.onCsvExport.bind(this)}>CSV</button>\n    <button type=\"button\" className=\"btn\" id=\"printButton\" onClick={this.onBtPrint.bind(this)}></button>\n    </label>\n    </div>\n       <div \n        className=\"ag-theme-balham\"\n        style={{ width: \"100%\",height:\"600px\" }}>\n        <a className=\"btn\" id=\"downloadButton\" href='//github.com/kyangTRC/files/blob/master/property-report.zip?raw=true'><Icon type=\"download\" /></a>\n        <AgGridReact\n          columnDefs={this.state.columnDefs}\n          defaultExportParams={this.state.defaultExportParams}\n          rowGroupPanelShow={this.state.rowGroupPanelShow}\n          defaultColDef={this.state.defaultColDef}\n          enableRangeSelection={true}\n          animateRows={true}\n          groupUseEntireRow={true}\n          rowData={this.state.rowData}\n          groupDefaultExpanded={-1}\n          getRowHeight={this.state.getRowHeight}\n          autoGroupColumnDef={this.state.autoGroupColumnDef}\n          groupSuppressAutoColumn={true}\n          excelStyles={this.state.excelStyles}\n          onGridReady={this.onGridReady}\n          onGridSizeChanged={this.onGridSizeChanged.bind(this)}\n          />\n\n        <a download=\"#\" href=\"#\" title=\"all\">\n            Download all, Price: ${price_rows}\n        </a>\n        </div></div>\n        );\n  }\n\n}\n\nexport default RealTimeData;","import {\n  Alert,\n  Form,\n  Select,\n  InputNumber,\n  Input,\n  AutoComplete,\n  Button,\n  Upload,\n  Icon,\n  Drawer,\n  message\n} from 'antd';\nimport React, { Component, Fragment } from 'react';\nimport { Map as LeafletMap, TileLayer, GeoJSON, Popup } from './reactleaflet';\nimport RealTimeData from './RealTimeData';\nimport Iframe from 'react-iframe'\n\nconst { Option, OptGroup } = AutoComplete;\nconst emptyRoute = {type: \"MultiLineString\", coordinates:[[]]};\nvar parse = require('wellknown');\n \n\nconst dataSource = [\n  {\n    title: 'Kinder Morgan',\n    children: [\n      {\n        title: 'Gulf Coast Express',\n        id: '278867.0000.0000'\n      }\n    ]\n  },\n  {\n    title: 'New York State Energy Research',\n    children: [\n      {\n        title: 'NYSERDA Multifamily',\n        id: '114810.0000.0000',\n      }\n    ]\n  },\n  {\n    title: 'West Texas Swogp',\n    children: [\n      {\n        title: 'West Texas Swogp',\n        id: '117781.0000.0000',\n      },\n    ],\n  }\n];\n\nfunction renderTitle(title) {\n  return (\n    <span>\n      {title}\n      <a\n        style={{ float: 'right' }}\n        href=\"#\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        more\n      </a>\n    </span>\n  );\n}\n\nconst iconStyle = { fontSize: '24px', color: '#1890ff' };\n\nconst options = dataSource\n  .map(group => (\n    <OptGroup key={group.title} label={renderTitle(group.title)}>\n      {group.children.map(opt => (\n        <Option key={opt.title} value={opt.title}>\n          {opt.title}\n          <span className=\"certain-search-item-count\">{opt.id}</span>\n        </Option>\n      ))}\n    </OptGroup>\n  ))\n  .concat([\n    <Option disabled key=\"all\" className=\"show-all\">\n      <a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">\n        View all projects\n      </a>\n    </Option>,\n  ]);\n\n\n\nexport default class RealTime extends React.Component {\n  constructor(props) {\n      super(props);\n      this.handleUpload = this.handleUpload.bind(this);\n      this.state = { \n          visible: false, \n          DataRoute: emptyRoute,     \n          lat: 31.00,\n          lng: -100.00,\n          zoom: 10,\n          datavisible: false,\n          token_valid: false\n        };\n    }\n\n  showData = () => {\n    this.setState({\n      datavisible: true\n    });\n  }\n  showHideDrawer = () => {\n    this.setState({\n      visible: !this.state.visible,\n    });\n  };\n\n  onClose = () => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n      else {\n        this.setState({datavisible: false});\n      }  \n    });\n  };\n\n  handleUpload = ({file, onSuccess}) => {      \n        if (file) {\n          let data = new FormData();\n          data.append('file', file);\n          // this.setState({DataRoute: data})\n          // console.log(data);\n        }\n  }\n  normFile = e => {\n    console.log('Upload event:', e);\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e && e.fileList;\n  };\n\n  getProjectName = (value) => {\n    console.log(value);\n  }\n\n  beforeUploadWKTParser = (file) => {\n                  const reader = new FileReader();\n                  this.setState({DataRoute: emptyRoute});\n                  reader.onload = e => {\n                      const routeData = parse(e.target.result);\n                      this.setState({DataRoute: routeData});\n                      console.log(\"routeData\");\n                      console.log(routeData);\n                      if (routeData && routeData.coordinates){\n                        this.setState({lat: routeData.coordinates[0][0][1], lng: routeData.coordinates[0][0][0]});\n                      }\n                  };\n                  reader.readAsText(file);\n\n                  // Prevent upload, to enable, use customRequest={this.handleUpload}\n                  return false;\n              }\n  geoJSONStyleRoute() {\n    return {\n      color: '#0e4dec',\n      weight: 4,\n      fillOpacity: 0.5,\n      fillColor: '#63c0e1',\n    }\n  } \n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const position = [this.state.lat, this.state.lng];\n\n    let realTimeData = <span />;\n    let formData = <Fragment>\n        <Form.Item label=\"Choose Document Type(s)\">\n          {getFieldDecorator('select-multiple', {\n            rules: [\n              { required: true, message: 'Please select the document type(s)', type: 'array' },\n            ],\n          })(\n            <Select mode=\"multiple\" placeholder=\"Please select the document type(s)\">\n              <Option value=\"deed\">Deed Documents</Option>\n              <Option value=\"transaction-history\">Transaction History</Option>\n              <Option value=\"property-detail\">Property Detail</Option>\n              <Option value=\"all-documents\">All Documents Available</Option>\n            </Select>,\n          )}\n        </Form.Item>\n        <Form.Item label=\"Upload Shapefile and View it on Map\">\n          <Iframe url=\"https://integritygis.trcsolutions.com/portal/apps/webappviewer/index.html?id=a9923d21ceca4955bfca1fa6ef065b37\"\n            width=\"1000px\"\n            height=\"400px\"\n            id=\"myMap\"\n            className=\"mapFrame\"\n            display=\"initial\"\n            position=\"relative\"/>\n         </Form.Item>\n        <Form.Item label=\"Buffer Distance\">\n          {getFieldDecorator('input-number', { initialValue: 150 })(<InputNumber min={1} max={1000} />)}\n          <span className=\"ant-form-text\"> feet</span>\n        </Form.Item>\n\n\n        <Form.Item wrapperCol={{ span: 12, offset: 6 }}>\n          <Button type=\"primary\" htmlType=\"submit\" onClick={this.showData}>\n             Process Shapefile\n          </Button>\n        </Form.Item>\n        </Fragment>\n\n\n    if (this.state.datavisible) {\n      realTimeData = <RealTimeData />;\n      formData = <span />\n    } \n    // else if (this.state.datavisible && !this.state.token_valid) {\n    //   realTimeData =  <Alert message=\"Authorization token expired, please contact the admin\" type=\"error\" />\n    // }\n\n    const formItemLayout = {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 14 },\n    };\n\n\n    return (\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label={<span><Icon type=\"cloud-upload\" style={iconStyle}/><Icon type=\"api\"  style={iconStyle}/><Icon type=\"file-search\" style={iconStyle}/></span>}>\n          <span className=\"ant-form-text\">Real-time Shapefile Upload and Processing</span>\n        </Form.Item>\n        <Form.Item label=\"Select or Create A Project\" hasFeedback>\n          {getFieldDecorator('select', {\n            rules: [{ required: true, message: 'Please select or create a project' }],\n          })(\n              <AutoComplete\n                className=\"certain-category-search\"\n                dropdownClassName=\"certain-category-search-dropdown\"\n                dropdownMatchSelectWidth={false}\n                dropdownStyle={{ width: 300 }}\n                size=\"large\"\n                style={{ width: '100%' }}\n                dataSource={options}\n                placeholder=\"select projects\"\n                optionLabelProp=\"value\"\n                onChange = {this.getProjectName}\n              >\n                <Input/>\n              </AutoComplete>,\n          )}\n        </Form.Item>\n        {formData}\n        {realTimeData}\n      </Form>\n    );\n  }\n}\n\nexport const WrappedRealTime = Form.create({ name: 'validate_other' })(RealTime);","import React, { Component } from 'react';\nimport './App.css';\nimport Basic from './trc/Basic';\nimport BasicPost from './trc/BasicPost';\nimport Upload from './trc/Upload';\nimport Map from './trc/Map';\nimport {WrappedRealTime} from './trc/RealTime';\n// import BasicPostEQT from './trc/EQT';\n// import RWE from './trc/RWE';\nimport { BrowserRouter, Route, Redirect, withRouter } from 'react-router-dom';\nimport { message } from 'antd';\n\nconst IS_TESTING = true;\nconst TESTING_USERS = [\n  {\"username\": \"Ke Yang\", \"email\": \"kyang@trccompanies.com\", \"password\": \"trc123\" },\n  {\"username\": \"Trevor Anderson\", \"email\": \"tanderson@trccompanies.com\", \"password\": \"tanderson!@#$\" },\n  {\"username\": \"Brandon Browning\", \"email\": \"bbrowning@trccompanies.com\", \"password\": \"bbrowning!@#$\" }, \n  {\"username\": \"Charlie Foster\", \"email\": \"crfoster@trccompanies.com\", \"password\": \"crfoster!@#$\"}, \n  {\"username\": \"Dena Patterson\", \"email\": \"dpatterson@trccompanies.com\", \"password\": \"dpatterson!@#$\"}\n  ];\n\nconst POSSIBLE_TEST_COMBO = TESTING_USERS.map((t)=>{\n  return t[\"username\"]+\",\"+t[\"password\"];\n});\n\nconst fakeAuthCentralState = {\n  isAuthenticated: !!(localStorage.getItem(\"trclogin\"))||false,\n  testUserId: null,\n  authenticate(callback) {\n    this.isAuthenticated = true;\n    setTimeout(callback, 300);\n  },\n  signout(callback) {\n    this.isAuthenticated = false;\n    setTimeout(callback, 300);\n  }\n};\n\n///////////test////////////\nfunction TrcBanner(props){\n    if (IS_TESTING) {\n        return <span contentEditable id=\"animation\">Connected</span>;\n      }\n    else{\n        return <span>Welcome back!</span>;\n    }  \n}\n\nfunction expandMenu(e) {\n    let navWrapper = document.querySelector('.nav-wrapper');\n    navWrapper.classList.toggle('active');\n}\n\nconst LogOut = () => <div className=\"test test-card TrcBanner full\">\n      <div className=\"test-text test\">\n        <h1>trc</h1>\n        <h2>TRC Connector</h2>\n        <TrcBanner isTesting = {IS_TESTING} />\n        <div className=\"bg-transparent left test\">\n        </div>\n        <div className=\"bg-transparent center test\">\n        </div>\n        <div className=\"bg-transparent right test\">\n        </div>\n        <a href=\"/userlogin\" className=\"back-button\">Go back</a>\n      </div>\n  </div>;\n\nconst Header = () => <div><div className=\"test test-card TrcBanner\">\n<a href=\"#\" id=\"logo-connector-trc\"></a>\n<div className=\"test-text test\">\n  <h1>TRC</h1>\n  <h2>digital</h2>\n  <TrcBanner/>\n  <div className=\"bg-transparent left test\">\n  </div>\n  <div className=\"bg-transparent center test\">\n  </div>\n  <div className=\"bg-transparent right test\">\n  </div>\n</div>\n</div>\n<div className=\"nav-wrapper\">\n  <nav>\n      <div className=\"navigation\">\n          <ul className=\"nav-items\">\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">User Info</a></li>\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">Project Info</a></li>\n              <li><a href=\"/#\" target=\"_blank\" rel=\"noopener noreferrer\">Shapefiles</a></li>\n              <li><a href=\"http://trcnet.trcsolutions.com\" target=\"_blank\" rel=\"noopener noreferrer\">TRCNet</a></li>\n              <li><a href=\"#\" target=\"_blank\" rel=\"noopener noreferrer\">Get Support</a></li>\n              <li><AuthButton/></li>\n          </ul>\n          <div className=\"nav-toogler\" onClick={expandMenu}></div>\n      </div>\n  </nav>\n</div>\n</div>;\nconst ProtectedUser = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><Basic /></div></div>;\nconst ProtectedUserPost = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><BasicPost /></div></div>;\n\nconst ProtectedUpload = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><Upload /></div></div>;\nconst ProtectedMap = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><Map /></div></div>;\n//const ProtectedEQT = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><BasicPostEQT /></div></div>;\nconst ProtectedWrappedRealTime = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><WrappedRealTime /></div></div>;\n//const ProtectedWrappedRWE = () =>  <div className=\"loggedIn\"><Header /><div className=\"loggedInContent\"><RWE /></div></div>;\n\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    localStorage.removeItem('trclogin');\n\n    this.state = {\n      name: null,\n      redirectToReferrer: false\n    };\n  }\n\n  handleInputChange = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    localStorage.setItem('trclogin', name);\n    this.setState({\n      [name]: value\n    });\n  }\n\n  login = () => {\n    const TEST_COMBO = this.state.tempname + \",\" + this.state.temppass;\n    const index = POSSIBLE_TEST_COMBO.indexOf(TEST_COMBO);\n    if (index > -1){\n      fakeAuthCentralState.authenticate(() => {\n        this.setState(() => ({\n          redirectToReferrer: true\n        }));\n      });\n      message.success(\"Hi, \"+ TESTING_USERS[index].username);\n    }\n    else {\n      message.warning(\"Incorrect username or password\");\n    }\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/protecteddata-realtime' } };\n    const { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer === true) {\n      this.props.history.push(from.pathname);\n    }\n\n    return (\n         <div>\n         <Header />\n          <div className=\"login\">\n               <div className=\"login-form\">\n                <div className=\"control-group\">\n                <input type=\"text\" className=\"login-field\" placeholder=\"username\" id=\"login-name\" name=\"tempname\" onChange={this.handleInputChange}/>\n                <label className=\"login-field-icon fui-user\" for=\"login-name\"></label>\n                </div>\n\n                <div className=\"control-group\">\n                <input type=\"password\" className=\"login-field\" placeholder=\"password\" id=\"login-pass\" name=\"temppass\" onChange={this.handleInputChange}/>\n                <label className=\"login-field-icon fui-lock\" for=\"login-pass\"></label>\n                </div>\n\n                <div className=\"control-group\">\n                <input type=\"checkbox\" name=\"remember\" value=\"true\" className= \"remember\" name=\"tempremember\" onChange={this.handleInputChange} /> \n                <label className=\"login-field-icon remember\" for=\"login-remember\">\n                Remember me</label>\n                </div>\n\n                <button className=\"btn btn-primary btn-large btn-block\" onClick={this.login}>login</button>\n              </div>\n            </div>\n      </div>\n    )\n  }\n}\n\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    fakeAuthCentralState.isAuthenticated ? <Component {...props} />\n      : <Redirect to={{\n          pathname: '/userlogin',\n          state: { from: props.location }\n        }} />\n  )} />\n);\n\nfunction logOut() {\n    let body = document.querySelector('body');\n    body.classList.add('logOut');\n}\n\nconst AuthButton = withRouter(({ history }) => (\n  fakeAuthCentralState.isAuthenticated ? (\n      <a href=\"/logout\" onClick={() => {\n        fakeAuthCentralState.signout(() => history.push('/'));\n      }}>Log Out</a>\n  ) : (\n    <a href=\"/userlogin\">Log In</a>\n  )\n));\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\" style={{ width: \"100%\", height: \"100%\" }}>\n        <BrowserRouter>\n          <div>\n            <Route path=\"/\" exact component={withRouter(Login)}/>\n            <ProtectedRoute path='/upload' component={ProtectedUpload} />\n            <ProtectedRoute path='/map' component={ProtectedMap} />\n            <ProtectedRoute path='/protecteddata-long-wkt' component={ProtectedUserPost} />\n            <ProtectedRoute path='/protecteddata-realtime' component={ProtectedWrappedRealTime} />\n            <Route path=\"/userlogin\" component={withRouter(Login)}/>\n            <Route path=\"/logout\" component={withRouter(LogOut)}/>      \n          </div>\n      </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}